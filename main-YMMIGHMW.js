var sk=Object.defineProperty,ak=Object.defineProperties;var lk=Object.getOwnPropertyDescriptors;var Hu=Object.getOwnPropertySymbols,ck=Object.getPrototypeOf,Kb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable,uk=Reflect.get;var Wb=(n,e,t)=>e in n?sk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})Kb.call(e,t)&&Wb(n,t,e[t]);if(Hu)for(var t of Hu(e))Qb.call(e,t)&&Wb(n,t,e[t]);return n},ce=(n,e)=>ak(n,lk(e));var Yb=(n,e)=>{var t={};for(var i in n)Kb.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Hu)for(var i of Hu(n))e.indexOf(i)<0&&Qb.call(n,i)&&(t[i]=n[i]);return t};var Tr=(n,e,t)=>uk(ck(n),t,e);var k=(n,e,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(u){r(u)}},s=l=>{try{a(t.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var Km={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var $=function(n,e){if(!n)throw vo(e)},vo=function(n){return new Error("Firebase Database ("+Km.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var Jb=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},dk=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,w=u&63;l||(w=64,s||(y=64)),i.push(t[h],t[p],t[y],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||u==null||p==null)throw new Qm;let y=o<<2|a>>4;if(i.push(y),u!==64){let w=a<<4&240|u>>2;if(i.push(w),p!==64){let b=u<<6&192|p;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Qm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Zm=function(n){let e=Jb(n);return qu.encodeByteArray(e,!0)},vl=function(n){return Zm(n).replace(/\./g,"")},yl=function(n){try{return qu.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xb(n){return eI(void 0,n)}function eI(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!hk(t)||(n[t]=eI(n[t],e[t]));return n}function hk(n){return n!=="__proto__"}function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yl(n[1]);return e&&JSON.parse(e)},Jm=()=>{try{return pk()||mk()||gk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xm=n=>{var e,t;return(t=(e=Jm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Gu=n=>{let e=Xm(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eg=()=>{var n;return(n=Jm())===null||n===void 0?void 0:n.config},tg=n=>{var e;return(e=Jm())===null||e===void 0?void 0:e[`_${n}`]};var Ui=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Wu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vl(JSON.stringify(t)),vl(JSON.stringify(s)),""].join(".")}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ku(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iI(){let n=xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ai(){return Km.NODE_CLIENT===!0||Km.NODE_ADMIN===!0}function ng(){try{return typeof indexedDB=="object"}catch{return!1}}function rI(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _k="FirebaseError",gn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_k,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}},ji=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?vk(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new gn(r,a,i)}};function vk(n,e){return n.replace(yk,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var yk=/\{\$([^}]+)}/g;function bs(n){return JSON.parse(n)}function pt(n){return JSON.stringify(n)}var oI=function(n){let e={},t={},i={},r="";try{let o=n.split(".");e=bs(yl(o[0])||""),t=bs(yl(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};var sI=function(n){let e=oI(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},aI=function(n){let e=oI(n).claims;return typeof e=="object"&&e.admin===!0};function Un(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yo(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function wl(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function El(n,e,t){let i={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Co(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Zb(o)&&Zb(s)){if(!Co(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Zb(n){return n!==null&&typeof n=="object"}function Sr(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}var zu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)i[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){let y=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(y<<1|y>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,h;for(let p=0;p<80;p++){p<40?p<20?(u=a^o&(s^a),h=1518500249):(u=o^s^a,h=1859775393):p<60?(u=o&s|a&(o|s),h=2400959708):(u=o^s^a,h=3395469782);let y=(r<<5|r>>>27)+u+l+h+i[p]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=y}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let i=t-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<t;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function lI(n,e){let t=new Ym(n,e);return t.subscribe.bind(t)}var Ym=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Ck(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Wm),r.error===void 0&&(r.error=Wm),r.complete===void 0&&(r.complete=Wm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ck(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wm(){}function Is(n,e){return`${n} failed: ${e} argument `}var cI=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,$(i<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},bl=function(n){let e=0;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};var FJ=4*60*60*1e3;function Ct(n){return n&&n._delegate?n._delegate:n}var sn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wo="[DEFAULT]";var Qu=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Ui;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ek(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return k(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wk(n){return n===wo?void 0:n}function Ek(n){return n.instantiationMode==="EAGER"}var Il=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Qu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var bk=[],Ne=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ne||{}),Ik={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Tk=Ne.INFO,Sk={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Dk=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Sk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},li=class{constructor(e){this.name=e,this._logLevel=Tk,this._logHandler=Dk,this._userLogHandler=null,bk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var Ak=(n,e)=>e.some(t=>n instanceof t),uI,dI;function xk(){return uI||(uI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mk(){return dI||(dI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hI=new WeakMap,rg=new WeakMap,fI=new WeakMap,ig=new WeakMap,sg=new WeakMap;function Pk(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ci(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&hI.set(t,n)}).catch(()=>{}),sg.set(e,n),e}function Nk(n){if(rg.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});rg.set(n,e)}var og={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pI(n){og=n(og)}function Rk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Yu(this),e,...t);return fI.set(i,e.sort?e.sort():[e]),ci(i)}:Mk().includes(n)?function(...e){return n.apply(Yu(this),e),ci(hI.get(this))}:function(...e){return ci(n.apply(Yu(this),e))}}function kk(n){return typeof n=="function"?Rk(n):(n instanceof IDBTransaction&&Nk(n),Ak(n,xk())?new Proxy(n,og):n)}function ci(n){if(n instanceof IDBRequest)return Pk(n);if(ig.has(n))return ig.get(n);let e=kk(n);return e!==n&&(ig.set(n,e),sg.set(e,n)),e}var Yu=n=>sg.get(n);function gI(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=ci(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ci(s.result),l.oldVersion,l.newVersion,ci(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Ok=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],ag=new Map;function mI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Fk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Ok.includes(t)))return;let o=function(s,...a){return k(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&l.done]))[0]})};return ag.set(e,o),o}pI(n=>ce(U({},n),{get:(e,t,i)=>mI(e,t)||n.get(e,t,i),has:(e,t)=>!!mI(e,t)||n.has(e,t)}));var cg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Lk(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Lk(n){let e=n.getComponent();return e?.type==="VERSION"}var ug="@firebase/app",_I="0.10.13";var $i=new li("@firebase/app"),Vk="@firebase/app-compat",Bk="@firebase/analytics-compat",Uk="@firebase/analytics",jk="@firebase/app-check-compat",$k="@firebase/app-check",Hk="@firebase/auth",zk="@firebase/auth-compat",qk="@firebase/database",Gk="@firebase/data-connect",Wk="@firebase/database-compat",Kk="@firebase/functions",Qk="@firebase/functions-compat",Yk="@firebase/installations",Zk="@firebase/installations-compat",Jk="@firebase/messaging",Xk="@firebase/messaging-compat",eO="@firebase/performance",tO="@firebase/performance-compat",nO="@firebase/remote-config",iO="@firebase/remote-config-compat",rO="@firebase/storage",oO="@firebase/storage-compat",sO="@firebase/firestore",aO="@firebase/vertexai-preview",lO="@firebase/firestore-compat",cO="firebase",uO="10.14.1";var dg="[DEFAULT]",dO={[ug]:"fire-core",[Vk]:"fire-core-compat",[Uk]:"fire-analytics",[Bk]:"fire-analytics-compat",[$k]:"fire-app-check",[jk]:"fire-app-check-compat",[Hk]:"fire-auth",[zk]:"fire-auth-compat",[qk]:"fire-rtdb",[Gk]:"fire-data-connect",[Wk]:"fire-rtdb-compat",[Kk]:"fire-fn",[Qk]:"fire-fn-compat",[Yk]:"fire-iid",[Zk]:"fire-iid-compat",[Jk]:"fire-fcm",[Xk]:"fire-fcm-compat",[eO]:"fire-perf",[tO]:"fire-perf-compat",[nO]:"fire-rc",[iO]:"fire-rc-compat",[rO]:"fire-gcs",[oO]:"fire-gcs-compat",[sO]:"fire-fst",[lO]:"fire-fst-compat",[aO]:"fire-vertex","fire-js":"fire-js",[cO]:"fire-js-all"};var Tl=new Map,hO=new Map,hg=new Map;function vI(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ui(n){let e=n.name;if(hg.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,n);for(let t of Tl.values())vI(t,n);for(let t of hO.values())vI(t,n);return!0}function Eo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n.settings!==void 0}var fO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new ji("app","Firebase",fO);var fg=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var hi=uO;function gg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Dr.create("bad-app-name",{appName:String(r)});if(t||(t=eg()),!t)throw Dr.create("no-options");let o=Tl.get(r);if(o){if(Co(t,o.options)&&Co(i,o.config))return o;throw Dr.create("duplicate-app",{appName:r})}let s=new Il(r);for(let l of hg.values())s.addComponent(l);let a=new fg(t,i,s);return Tl.set(r,a),a}function Ar(n=dg){let e=Tl.get(n);if(!e&&n===dg&&eg())return gg();if(!e)throw Dr.create("no-app",{appName:n});return e}function Zu(){return Array.from(Tl.values())}function et(n,e,t){var i;let r=(i=dO[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(a.join(" "));return}ui(new sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var pO="firebase-heartbeat-database",mO=1,Sl="firebase-heartbeat-store",lg=null;function EI(){return lg||(lg=gI(pO,mO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),lg}function gO(n){return k(this,null,function*(){try{let t=(yield EI()).transaction(Sl),i=yield t.objectStore(Sl).get(bI(n));return yield t.done,i}catch(e){if(e instanceof gn)$i.warn(e.message);else{let t=Dr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}})}function yI(n,e){return k(this,null,function*(){try{let i=(yield EI()).transaction(Sl,"readwrite");yield i.objectStore(Sl).put(e,bI(n)),yield i.done}catch(t){if(t instanceof gn)$i.warn(t.message);else{let i=Dr.create("idb-set",{originalErrorMessage:t?.message});$i.warn(i.message)}}})}function bI(n){return`${n.name}!${n.options.appId}`}var _O=1024,vO=30*24*60*60*1e3,pg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new mg(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return k(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=vO}),this._storage.overwrite(this._heartbeatsCache))}catch(i){$i.warn(i)}})}getHeartbeatsHeader(){return k(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=CI(),{heartbeatsToSend:i,unsentEntries:r}=yO(this._heartbeatsCache.heartbeats),o=vl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}})}};function CI(){return new Date().toISOString().substring(0,10)}function yO(n,e=_O){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),wI(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),wI(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var mg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return k(this,null,function*(){return ng()?rI().then(()=>!0).catch(()=>!1):!1})}read(){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield gO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return k(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return yI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return k(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return yI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function wI(n){return vl(JSON.stringify({version:2,heartbeats:n})).length}function CO(n){ui(new sn("platform-logger",e=>new cg(e),"PRIVATE")),ui(new sn("heartbeat",e=>new pg(e),"PRIVATE")),et(ug,_I,n),et(ug,_I,"esm2017"),et("fire-js","")}CO("");var wO="firebase",EO="10.14.1";et(wO,EO,"app");function ie(n){return typeof n=="function"}function Ts(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ju=Ts(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var lt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ie(i))try{i()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{II(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var t;if(e&&e!==this)if(this.closed)II(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){let{_finalizers:t}=this;t&&bo(t,e),e instanceof n&&e._removeParent(this)}};lt.EMPTY=(()=>{let n=new lt;return n.closed=!0,n})();var _g=lt.EMPTY;function Xu(n){return n instanceof lt||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function II(n){ie(n)?n():n.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ss={setTimeout(n,e,...t){let{delegate:i}=Ss;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ss;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ed(n){Ss.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(n);else throw n})}function Io(){}var TI=vg("C",void 0,void 0);function SI(n){return vg("E",void 0,n)}function DI(n){return vg("N",n,void 0)}function vg(n,e,t){return{kind:n,value:e,error:t}}var To=null;function Ds(n){if(jn.useDeprecatedSynchronousErrorHandling){let e=!To;if(e&&(To={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=To;if(To=null,t)throw i}}else n()}function AI(n){jn.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=n)}var So=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xu(e)&&e.add(this)):this.destination=TO}static create(e,t,i){return new As(e,t,i)}next(e){this.isStopped?Cg(DI(e),this):this._next(e)}error(e){this.isStopped?Cg(SI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cg(TI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bO=Function.prototype.bind;function yg(n,e){return bO.call(n,e)}var wg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){td(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){td(i)}else td(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){td(t)}}},As=class extends So{constructor(e,t,i){super();let r;if(ie(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&yg(e.next,o),error:e.error&&yg(e.error,o),complete:e.complete&&yg(e.complete,o)}):r=e}this.destination=new wg(r)}};function td(n){jn.useDeprecatedSynchronousErrorHandling?AI(n):ed(n)}function IO(n){throw n}function Cg(n,e){let{onStoppedNotification:t}=jn;t&&Ss.setTimeout(()=>t(n,e))}var TO={closed:!0,next:Io,error:IO,complete:Io};var xs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(n){return n}function Eg(...n){return bg(n)}function bg(n){return n.length===0?_n:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=DO(t)?t:new As(t,i,r);return Ds(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=xI(i),new i((r,o)=>{let s=new As({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[xs](){return this}pipe(...t){return bg(t)(this)}toPromise(t){return t=xI(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function xI(n){var e;return(e=n??jn.Promise)!==null&&e!==void 0?e:Promise}function SO(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function DO(n){return n&&n instanceof So||SO(n)&&Xu(n)}function Ig(n){return ie(n?.lift)}function ge(n){return e=>{if(Ig(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,i,r){return new Tg(n,e,t,i,r)}var Tg=class extends So{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ms(){return ge((n,e)=>{let t=null;n._refCount++;let i=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ps=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ig(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return Ms()(this)}};var MI=Ts(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new nd(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new MI}next(t){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?_g:(this.currentObservers=null,o.push(t),new lt(()=>{this.currentObservers=null,bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new nd(e,t),n})(),nd=class extends Re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:_g}};var Mt=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Sg={now(){return(Sg.delegate||Date).now()},delegate:void 0};var id=class extends lt{constructor(e,t){super()}schedule(e,t=0){return this}};var Dl={setInterval(n,e,...t){let{delegate:i}=Dl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Dl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ns=class extends id{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Dl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Dl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Rs.now=Sg.now;var ks=class extends Rs{constructor(e,t=Rs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Os=new ks(Ns),Dg=Os;var rd=class extends Ns{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var od=class extends ks{};var Ag=new od(rd);var Qt=new ue(n=>n.complete());function sd(n){return n&&ie(n.schedule)}function xg(n){return n[n.length-1]}function ad(n){return ie(xg(n))?n.pop():void 0}function fi(n){return sd(xg(n))?n.pop():void 0}function PI(n,e){return typeof xg(n)=="number"?n.pop():e}function ld(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function RI(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):r(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function NI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(n){return this instanceof Do?(this.v=n,this):new Do(n)}function kI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(w){return function(b){return Promise.resolve(b).then(w,p)}}function a(w,b){i[w]&&(r[w]=function(R){return new Promise(function(B,G){o.push([w,R,B,G])>1||l(w,R)})},b&&(r[w]=b(r[w])))}function l(w,b){try{u(i[w](b))}catch(R){y(o[0][3],R)}}function u(w){w.value instanceof Do?Promise.resolve(w.value.v).then(h,p):y(o[0][2],w)}function h(w){l("next",w)}function p(w){l("throw",w)}function y(w,b){w(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function OI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof NI=="function"?NI(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Fs=n=>n&&typeof n.length=="number"&&typeof n!="function";function cd(n){return ie(n?.then)}function ud(n){return ie(n[xs])}function dd(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function hd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fd=AO();function pd(n){return ie(n?.[fd])}function md(n){return kI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Do(t.read());if(r)return yield Do(void 0);yield yield Do(i)}}finally{t.releaseLock()}})}function gd(n){return ie(n?.getReader)}function Ge(n){if(n instanceof ue)return n;if(n!=null){if(ud(n))return xO(n);if(Fs(n))return MO(n);if(cd(n))return PO(n);if(dd(n))return FI(n);if(pd(n))return NO(n);if(gd(n))return RO(n)}throw hd(n)}function xO(n){return new ue(e=>{let t=n[xs]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MO(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function PO(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ed)})}function NO(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function FI(n){return new ue(e=>{kO(n,e).catch(t=>e.error(t))})}function RO(n){return FI(md(n))}function kO(n,e){var t,i,r,o;return RI(this,void 0,void 0,function*(){try{for(t=OI(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function an(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function xr(n,e=0){return ge((t,i)=>{t.subscribe(Ce(i,r=>an(i,n,()=>i.next(r),e),()=>an(i,n,()=>i.complete(),e),r=>an(i,n,()=>i.error(r),e)))})}function Mr(n,e=0){return ge((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function LI(n,e){return Ge(n).pipe(Mr(e),xr(e))}function VI(n,e){return Ge(n).pipe(Mr(e),xr(e))}function BI(n,e){return new ue(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function UI(n,e){return new ue(t=>{let i;return an(t,e,()=>{i=n[fd](),an(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>ie(i?.return)&&i.return()})}function _d(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{an(t,e,()=>{let i=n[Symbol.asyncIterator]();an(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function jI(n,e){return _d(md(n),e)}function $I(n,e){if(n!=null){if(ud(n))return LI(n,e);if(Fs(n))return BI(n,e);if(cd(n))return VI(n,e);if(dd(n))return _d(n,e);if(pd(n))return UI(n,e);if(gd(n))return jI(n,e)}throw hd(n)}function ke(n,e){return e?$I(n,e):Ge(n)}function re(...n){let e=fi(n);return ke(n,e)}function Ls(n,e){let t=ie(n)?n:()=>n,i=r=>r.error(t());return new ue(e?r=>e.schedule(i,0,r):i)}function Mg(n){return!!n&&(n instanceof ue||ie(n.lift)&&ie(n.subscribe))}var Hi=Ts(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function HI(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return ge((t,i)=>{let r=0;t.subscribe(Ce(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:OO}=Array;function FO(n,e){return OO(e)?n(...e):n(e)}function Vs(n){return de(e=>FO(n,e))}var{isArray:LO}=Array,{getPrototypeOf:VO,prototype:BO,keys:UO}=Object;function vd(n){if(n.length===1){let e=n[0];if(LO(e))return{args:e,keys:null};if(jO(e)){let t=UO(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function jO(n){return n&&typeof n=="object"&&VO(n)===BO}function yd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Cd(...n){let e=fi(n),t=ad(n),{args:i,keys:r}=vd(n);if(i.length===0)return ke([],e);let o=new ue($O(i,e,r?s=>yd(r,s):_n));return t?o.pipe(Vs(t)):o}function $O(n,e,t=_n){return i=>{zI(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)zI(e,()=>{let u=ke(n[l],e),h=!1;u.subscribe(Ce(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function zI(n,e,t){n?an(t,n,e):e()}function qI(n,e,t,i,r,o,s,a){let l=[],u=0,h=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},w=R=>u<i?b(R):l.push(R),b=R=>{o&&e.next(R),u++;let B=!1;Ge(t(R,h++)).subscribe(Ce(e,G=>{r?.(G),o?w(G):e.next(G)},()=>{B=!0},void 0,()=>{if(B)try{for(u--;l.length&&u<i;){let G=l.shift();s?an(e,s,()=>b(G)):b(G)}y()}catch(G){e.error(G)}}))};return n.subscribe(Ce(e,w,()=>{p=!0,y()})),()=>{a?.()}}function tt(n,e,t=1/0){return ie(e)?tt((i,r)=>de((o,s)=>e(i,o,r,s))(Ge(n(i,r))),t):(typeof e=="number"&&(t=e),ge((i,r)=>qI(i,r,n,t)))}function Pr(n=1/0){return tt(_n,n)}function GI(){return Pr(1)}function Nr(...n){return GI()(ke(n,fi(n)))}function wd(n){return new ue(e=>{Ge(n()).subscribe(e)})}function Pg(...n){let e=ad(n),{args:t,keys:i}=vd(n),r=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(Ce(o,y=>{p||(p=!0,u--),a[h]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(i?yd(i,a):a),o.complete())}))}});return e?r.pipe(Vs(e)):r}var HO=["addListener","removeListener"],zO=["addEventListener","removeEventListener"],qO=["on","off"];function Al(n,e,t,i){if(ie(t)&&(i=t,t=void 0),i)return Al(n,e,t).pipe(Vs(i));let[r,o]=KO(n)?zO.map(s=>a=>n[s](e,a,t)):GO(n)?HO.map(WI(n,e)):WO(n)?qO.map(WI(n,e)):[];if(!r&&Fs(n))return tt(s=>Al(s,e,t))(Ge(n));if(!r)throw new TypeError("Invalid event target");return new ue(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function WI(n,e){return t=>i=>n[t](e,i)}function GO(n){return ie(n.addListener)&&ie(n.removeListener)}function WO(n){return ie(n.on)&&ie(n.off)}function KO(n){return ie(n.addEventListener)&&ie(n.removeEventListener)}function KI(n=0,e,t=Dg){let i=-1;return e!=null&&(sd(e)?t=e:i=e),new ue(r=>{let o=HI(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function $n(...n){let e=fi(n),t=PI(n,1/0),i=n;return i.length?i.length===1?Ge(i[0]):Pr(t)(ke(i,e)):Qt}function wt(n,e){return ge((t,i)=>{let r=0;t.subscribe(Ce(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Rr(n){return ge((e,t)=>{let i=null,r=!1,o;i=e.subscribe(Ce(t,void 0,void 0,s=>{o=Ge(n(s,Rr(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ed(n,e,t,i,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ce(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function QI(n,e){return ge(Ed(n,e,arguments.length>=2,!1,!0))}var QO=(n,e)=>(n.push(e),n);function Ng(){return ge((n,e)=>{QI(QO,[])(n).subscribe(e)})}function Bs(n,e){return ie(e)?tt(n,e,1):tt(n,1)}function kr(n){return ge((e,t)=>{let i=!1;e.subscribe(Ce(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Pt(n){return n<=0?()=>Qt:ge((e,t)=>{let i=0;e.subscribe(Ce(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function YI(){return ge((n,e)=>{n.subscribe(Ce(e,Io))})}function xl(n){return de(()=>n)}function Rg(n,e){return e?t=>Nr(e.pipe(Pt(1),YI()),t.pipe(Rg(n))):tt((t,i)=>Ge(n(t,i)).pipe(Pt(1),xl(t)))}function kg(n,e=Os){let t=KI(n,e);return Rg(()=>t)}function bd(n=YO){return ge((e,t)=>{let i=!1;e.subscribe(Ce(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function YO(){return new Hi}function Ml(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ln(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wt((r,o)=>n(r,o,i)):_n,Pt(1),t?kr(e):bd(()=>new Hi))}function Us(n){return n<=0?()=>Qt:ge((e,t)=>{let i=[];e.subscribe(Ce(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Og(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wt((r,o)=>n(r,o,i)):_n,Us(1),t?kr(e):bd(()=>new Hi))}function Fg(n,e){return ge(Ed(n,e,arguments.length>=2,!0))}function Id(n){return wt((e,t)=>n<=t)}function Lg(...n){let e=fi(n);return ge((t,i)=>{(e?Nr(n,t,e):Nr(n,t)).subscribe(i)})}function Et(n,e){return ge((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Ce(i,l=>{r?.unsubscribe();let u=0,h=o++;Ge(n(l,h)).subscribe(r=Ce(i,p=>i.next(e?e(l,p,h,u++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Vg(n){return ge((e,t)=>{Ge(n).subscribe(Ce(t,()=>t.complete(),Io)),!t.closed&&e.subscribe(t)})}function ae(n,e,t){let i=ie(n)||e||t?{next:n,error:e,complete:t}:n;return i?ge((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ce(o,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),o.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):_n}function ZI(n,e){return Object.is(n,e)}var gt=null,Td=!1,Sd=1,Or=Symbol("SIGNAL");function Se(n){let e=gt;return gt=n,e}function JI(){return gt}var Nl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jg(n){if(Td)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.nextProducerIndex++;if(Md(gt),e<gt.producerNode.length&&gt.producerNode[e]!==n&&Pl(gt)){let t=gt.producerNode[e];xd(t,gt.producerIndexOfThis[e])}gt.producerNode[e]!==n&&(gt.producerNode[e]=n,gt.producerIndexOfThis[e]=Pl(gt)?nT(n,gt,e):0),gt.producerLastReadVersion[e]=n.version}function ZO(){Sd++}function XI(n){if(!(Pl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sd)){if(!n.producerMustRecompute(n)&&!Hg(n)){n.dirty=!1,n.lastCleanEpoch=Sd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Sd}}function eT(n){if(n.liveConsumerNode===void 0)return;let e=Td;Td=!0;try{for(let t of n.liveConsumerNode)t.dirty||JO(t)}finally{Td=e}}function tT(){return gt?.consumerAllowSignalWrites!==!1}function JO(n){n.dirty=!0,eT(n),n.consumerMarkedDirty?.(n)}function Ad(n){return n&&(n.nextProducerIndex=0),Se(n)}function $g(n,e){if(Se(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Pl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hg(n){Md(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(XI(t),i!==t.version))return!0}return!1}function zg(n){if(Md(n),Pl(n))for(let e=0;e<n.producerNode.length;e++)xd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function nT(n,e,t){if(iT(n),n.liveConsumerNode.length===0&&rT(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=nT(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function xd(n,e){if(iT(n),n.liveConsumerNode.length===1&&rT(n))for(let i=0;i<n.producerNode.length;i++)xd(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Md(r),r.producerIndexOfThis[i]=e}}function Pl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Md(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function iT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function rT(n){return n.producerNode!==void 0}function oT(n){let e=Object.create(XO);e.computation=n;let t=()=>{if(XI(e),jg(e),e.value===Dd)throw e.error;return e.value};return t[Or]=e,t}var Bg=Symbol("UNSET"),Ug=Symbol("COMPUTING"),Dd=Symbol("ERRORED"),XO=ce(U({},Nl),{value:Bg,dirty:!0,error:null,equal:ZI,producerMustRecompute(n){return n.value===Bg||n.value===Ug},producerRecomputeValue(n){if(n.value===Ug)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ug;let t=Ad(n),i;try{i=n.computation()}catch(r){i=Dd,n.error=r}finally{$g(n,t)}if(e!==Bg&&e!==Dd&&i!==Dd&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function eF(){throw new Error}var sT=eF;function aT(){sT()}function lT(n){sT=n}var tF=null;function cT(n){let e=Object.create(dT);e.value=n;let t=()=>(jg(e),e.value);return t[Or]=e,t}function qg(n,e){tT()||aT(),n.equal(n.value,e)||(n.value=e,nF(n))}function uT(n,e){tT()||aT(),qg(n,e(n.value))}var dT=ce(U({},Nl),{equal:ZI,value:void 0});function nF(n){n.version++,ZO(),eT(n),tF?.()}var tS="https://g.co/ng/security#xss",j=class extends Error{constructor(e,t){super(m0(e,t)),this.code=e}};function m0(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Kl(n){return{toString:n}.toString()}var Pd="__parameters__";function iF(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function nS(n,e,t){return Kl(()=>{let i=iF(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Pd)?l[Pd]:Object.defineProperty(l,Pd,{value:[]})[Pd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Fl=globalThis;function qe(n){for(let e in n)if(n[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function rF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Zt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Zt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function s_(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var oF=qe({__forward_ref__:qe});function Wi(n){return n.__forward_ref__=Wi,n.toString=function(){return Zt(this())},n}function Yt(n){return iS(n)?n():n}function iS(n){return typeof n=="function"&&n.hasOwnProperty(oF)&&n.__forward_ref__===Wi}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function mh(n){return hT(n,oS)||hT(n,sS)}function rS(n){return mh(n)!==null}function hT(n,e){return n.hasOwnProperty(e)?n[e]:null}function sF(n){let e=n&&(n[oS]||n[sS]);return e||null}function fT(n){return n&&(n.hasOwnProperty(pT)||n.hasOwnProperty(aF))?n[pT]:null}var oS=qe({\u0275prov:qe}),pT=qe({\u0275inj:qe}),sS=qe({ngInjectableDef:qe}),aF=qe({ngInjectorDef:qe}),Z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aS(n){return n&&!!n.\u0275providers}var lF=qe({\u0275cmp:qe}),cF=qe({\u0275dir:qe}),uF=qe({\u0275pipe:qe}),dF=qe({\u0275mod:qe}),zd=qe({\u0275fac:qe}),Ol=qe({__NG_ELEMENT_ID__:qe}),mT=qe({__NG_ENV_ID__:qe});function Ql(n){return typeof n=="string"?n:n==null?"":String(n)}function hF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ql(n)}function fF(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new j(-200,n)}function g0(n,e){throw new j(-201,!1)}var ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ye||{}),a_;function lS(){return a_}function cn(n){let e=a_;return a_=n,e}function cS(n,e,t){let i=mh(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ye.Optional)return null;if(e!==void 0)return e;g0(n,"Injector")}var pF={},Ll=pF,l_="__NG_DI_FLAG__",qd="ngTempTokenPath",mF="ngTokenPath",gF=/\n/gm,_F="\u0275",gT="__source",zs;function vF(){return zs}function Fr(n){let e=zs;return zs=n,e}function yF(n,e=ye.Default){if(zs===void 0)throw new j(-203,!1);return zs===null?cS(n,void 0,e):zs.get(n,e&ye.Optional?null:void 0,e)}function K(n,e=ye.Default){return(lS()||yF)(Yt(n),e)}function W(n,e=ye.Default){return K(n,gh(e))}function gh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function c_(n){let e=[];for(let t=0;t<n.length;t++){let i=Yt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new j(900,!1);let r,o=ye.Default;for(let s=0;s<i.length;s++){let a=i[s],l=CF(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(K(r,o))}else e.push(K(i))}return e}function uS(n,e){return n[l_]=e,n.prototype[l_]=e,n}function CF(n){return n[l_]}function wF(n,e,t,i){let r=n[qd];throw e[gT]&&r.unshift(e[gT]),n.message=EF(`
`+n.message,r,t,i),n[mF]=r,n[qd]=null,n}function EF(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==_F?n.slice(2):n;let r=Zt(e);if(Array.isArray(e))r=e.map(Zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(gF,`
  `)}`}var ft=uS(nS("Optional"),8);var _0=uS(nS("SkipSelf"),4);function xo(n,e){let t=n.hasOwnProperty(zd);return t?n[zd]:null}function bF(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function IF(n){return n.flat(Number.POSITIVE_INFINITY)}function v0(n,e){n.forEach(t=>Array.isArray(t)?v0(t,e):e(t))}function dS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function TF(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function y0(n,e,t){let i=Yl(n,e);return i>=0?n[i|1]=t:(i=~i,TF(n,i,e,t)),i}function Gg(n,e){let t=Yl(n,e);if(t>=0)return n[t|1]}function Yl(n,e){return SF(n,e,1)}function SF(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Gs={},un=[],Ws=new Z(""),hS=new Z("",-1),fS=new Z(""),Wd=class{get(e,t=Ll){if(t===Ll){let i=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw i.name="NullInjectorError",i}return t}},pS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(pS||{}),gi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(gi||{}),Br=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Br||{});function DF(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function u_(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];AF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function mS(n){return n===3||n===4||n===6}function AF(n){return n.charCodeAt(0)===64}function Vl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?_T(n,t,r,null,e[++i]):_T(n,t,r,null,null))}}return n}function _T(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var gS="ng-template";function xF(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&DF(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(C0(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function C0(n){return n.type===4&&n.value!==gS}function MF(n,e,t){let i=n.type===4&&!t?gS:n.value;return e===i}function PF(n,e,t){let i=4,r=n.attrs,o=r!==null?kF(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Hn(i)&&!Hn(l))return!1;if(s&&Hn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!MF(n,l,t)||l===""&&e.length===1){if(Hn(i))return!1;s=!0}}else if(i&8){if(r===null||!xF(n,r,l,t)){if(Hn(i))return!1;s=!0}}else{let u=e[++a],h=NF(l,r,C0(n),t);if(h===-1){if(Hn(i))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&u!==p){if(Hn(i))return!1;s=!0}}}}return Hn(i)||s}function Hn(n){return(n&1)===0}function NF(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return OF(e,n)}function RF(n,e,t=!1){for(let i=0;i<e.length;i++)if(PF(n,e[i],t))return!0;return!1}function kF(n){for(let e=0;e<n.length;e++){let t=n[e];if(mS(t))return e}return n.length}function OF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function vT(n,e){return n?":not("+e.trim()+")":e}function FF(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Hn(s)&&(e+=vT(o,r),r=""),i=s,o=o||!Hn(i);t++}return r!==""&&(e+=vT(o,r)),e}function LF(n){return n.map(FF).join(",")}function VF(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Hn(r))break;r=o}i++}return{attrs:e,classes:t}}function Ve(n){return Kl(()=>{let e=ES(n),t=ce(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||gi.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""});bS(t);let i=n.dependencies;return t.directiveDefs=CT(i,!1),t.pipeDefs=CT(i,!0),t.id=jF(t),t})}function BF(n){return Mo(n)||vS(n)}function UF(n){return n!==null}function Yn(n){return Kl(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yT(n,e){if(n==null)return Gs;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=Br.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Br.None?[i,a]:i,e[o]=s):t[o]=i}return t}function We(n){return Kl(()=>{let e=ES(n);return bS(e),e})}function _S(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Mo(n){return n[lF]||null}function vS(n){return n[cF]||null}function yS(n){return n[uF]||null}function CS(n){let e=Mo(n)||vS(n)||yS(n);return e!==null?e.standalone:!1}function wS(n,e){let t=n[dF]||null;if(!t&&e===!0)throw new Error(`Type ${Zt(n)} does not have '\u0275mod' property.`);return t}function ES(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Gs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yT(n.inputs,e),outputs:yT(n.outputs),debugInfo:null}}function bS(n){n.features?.forEach(e=>e(n))}function CT(n,e){if(!n)return null;let t=e?yS:BF;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(UF)}function jF(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dn(n){return{\u0275providers:n}}function $F(...n){return{\u0275providers:IS(!0,n),\u0275fromNgModule:!0}}function IS(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return v0(e,s=>{let a=s;d_(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&TS(r,o),t}function TS(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];w0(r,o=>{e(o,i)})}}function d_(n,e,t,i){if(n=Yt(n),!n)return!1;let r=null,o=fT(n),s=!o&&Mo(n);if(!o&&!s){let l=n.ngModule;if(o=fT(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)d_(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{v0(o.imports,h=>{d_(h,e,t,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&TS(u,e)}if(!a){let u=xo(r)||(()=>new r);e({provide:r,useFactory:u,deps:un},r),e({provide:fS,useValue:r,multi:!0},r),e({provide:Ws,useValue:()=>K(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;w0(l,h=>{e(h,u)})}}else return!1;return r!==n&&n.providers!==void 0}function w0(n,e){for(let t of n)aS(t)&&(t=t.\u0275providers),Array.isArray(t)?w0(t,e):e(t)}var HF=qe({provide:String,useValue:qe});function SS(n){return n!==null&&typeof n=="object"&&HF in n}function zF(n){return!!(n&&n.useExisting)}function qF(n){return!!(n&&n.useFactory)}function Ks(n){return typeof n=="function"}function GF(n){return!!n.useClass}var _h=new Z(""),Vd={},WF={},Wg;function E0(){return Wg===void 0&&(Wg=new Wd),Wg}var Sn=class{},Bl=class extends Sn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(e,s=>this.processProvider(s)),this.records.set(hS,js(void 0,this)),r.has("environment")&&this.records.set(Sn,js(void 0,this));let o=this.records.get(_h);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fS,un,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Fr(this),i=cn(void 0),r;try{return e()}finally{Fr(t),cn(i)}}get(e,t=Ll,i=ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mT))return e[mT](this);i=gh(i);let r,o=Fr(this),s=cn(void 0);try{if(!(i&ye.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=JF(e)&&mh(e);u&&this.injectableDefInScope(u)?l=js(h_(e),Vd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ye.Self?E0():this.parent;return t=i&ye.Optional&&t===Ll?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[qd]=a[qd]||[]).unshift(Zt(e)),o)throw a;return wF(a,e,"R3InjectorError",this.source)}else throw a}finally{cn(s),Fr(o)}}resolveInjectorInitializers(){let e=Se(null),t=Fr(this),i=cn(void 0),r;try{let o=this.get(Ws,un,ye.Self);for(let s of o)s()}finally{Fr(t),cn(i),Se(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Zt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Yt(e);let t=Ks(e)?e:Yt(e&&e.provide),i=QF(e);if(!Ks(e)&&e.multi===!0){let r=this.records.get(t);r||(r=js(void 0,Vd,!0),r.factory=()=>c_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Se(null);try{return t.value===Vd&&(t.value=WF,t.value=t.factory()),typeof t.value=="object"&&t.value&&ZF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Yt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function h_(n){let e=mh(n),t=e!==null?e.factory:xo(n);if(t!==null)return t;if(n instanceof Z)throw new j(204,!1);if(n instanceof Function)return KF(n);throw new j(204,!1)}function KF(n){if(n.length>0)throw new j(204,!1);let t=sF(n);return t!==null?()=>t.factory(n):()=>new n}function QF(n){if(SS(n))return js(void 0,n.useValue);{let e=DS(n);return js(e,Vd)}}function DS(n,e,t){let i;if(Ks(n)){let r=Yt(n);return xo(r)||h_(r)}else if(SS(n))i=()=>Yt(n.useValue);else if(qF(n))i=()=>n.useFactory(...c_(n.deps||[]));else if(zF(n))i=()=>K(Yt(n.useExisting));else{let r=Yt(n&&(n.useClass||n.provide));if(YF(n))i=()=>new r(...c_(n.deps));else return xo(r)||h_(r)}return i}function js(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function YF(n){return!!n.deps}function ZF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function JF(n){return typeof n=="function"||typeof n=="object"&&n instanceof Z}function f_(n,e){for(let t of n)Array.isArray(t)?f_(t,e):t&&aS(t)?f_(t.\u0275providers,e):e(t)}function Ki(n,e){n instanceof Bl&&n.assertNotDestroyed();let t,i=Fr(n),r=cn(void 0);try{return e()}finally{Fr(i),cn(r)}}function XF(){return lS()!==void 0||vF()!=null}function e2(n){return typeof n=="function"}var Qi=0,le=1,oe=2,Ht=3,qn=4,Zn=5,Ul=6,Kd=7,jt=8,Qs=9,_i=10,_t=11,jl=12,wT=13,ea=14,Gn=15,Po=16,$s=17,zi=18,vh=19,AS=20,Lr=21,Kg=22,Tn=23,Jt=25,xS=1;var No=7,Qd=8,Ys=9,$t=10,Yd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Yd||{});function Vr(n){return Array.isArray(n)&&typeof n[xS]=="object"}function Yi(n){return Array.isArray(n)&&n[xS]===!0}function b0(n){return(n.flags&4)!==0}function yh(n){return n.componentOffset>-1}function Ch(n){return(n.flags&1)===1}function Ur(n){return!!n.template}function p_(n){return(n[oe]&512)!==0}var m_=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function MS(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function An(){return PS}function PS(n){return n.type.prototype.ngOnChanges&&(n.setInput=n2),t2}An.ngInherit=!0;function t2(){let n=RS(this),e=n?.current;if(e){let t=n.previous;if(t===Gs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function n2(n,e,t,i,r){let o=this.declaredInputs[i],s=RS(n)||i2(n,{previous:Gs,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new m_(u&&u.currentValue,t,l===Gs),MS(n,e,r,t)}var NS="__ngSimpleChanges__";function RS(n){return n[NS]||null}function i2(n,e){return n[NS]=e}var ET=null;var pi=function(n,e,t){ET?.(n,e,t)},kS="svg",r2="math";function vi(n){for(;Array.isArray(n);)n=n[Qi];return n}function OS(n,e){return vi(e[n])}function xn(n,e){return vi(e[n.index])}function I0(n,e){return n.data[e]}function FS(n,e){return n[e]}function qr(n,e){let t=e[n];return Vr(t)?t:t[Qi]}function o2(n){return(n[oe]&4)===4}function T0(n){return(n[oe]&128)===128}function s2(n){return Yi(n[Ht])}function jr(n,e){return e==null?null:n[e]}function LS(n){n[$s]=0}function VS(n){n[oe]&1024||(n[oe]|=1024,T0(n)&&Eh(n))}function a2(n,e){for(;n>0;)e=e[ea],n--;return e}function wh(n){return!!(n[oe]&9216||n[Tn]?.dirty)}function g_(n){n[_i].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),wh(n)&&Eh(n)}function Eh(n){n[_i].changeDetectionScheduler?.notify(0);let e=Ro(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!T0(e)));)e=Ro(e)}function BS(n,e){if((n[oe]&256)===256)throw new j(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function l2(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function Ro(n){let e=n[Ht];return Yi(e)?e[Ht]:e}var _e={lFrame:QS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var US=!1;function c2(){return _e.lFrame.elementDepthCount}function u2(){_e.lFrame.elementDepthCount++}function d2(){_e.lFrame.elementDepthCount--}function jS(){return _e.bindingsEnabled}function h2(){return _e.skipHydrationRootTNode!==null}function f2(n){return _e.skipHydrationRootTNode===n}function p2(){_e.skipHydrationRootTNode=null}function we(){return _e.lFrame.lView}function bt(){return _e.lFrame.tView}function De(n){return _e.lFrame.contextLView=n,n[jt]}function Ae(n){return _e.lFrame.contextLView=null,n}function qt(){let n=$S();for(;n!==null&&n.type===64;)n=n.parent;return n}function $S(){return _e.lFrame.currentTNode}function m2(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Bo(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function S0(){return _e.lFrame.isParent}function HS(){_e.lFrame.isParent=!1}function g2(){return _e.lFrame.contextLView}function zS(){return US}function bT(n){US=n}function Zl(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _2(n){return _e.lFrame.bindingIndex=n}function Jl(){return _e.lFrame.bindingIndex++}function qS(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function v2(){return _e.lFrame.inI18n}function y2(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,__(e)}function C2(){return _e.lFrame.currentDirectiveIndex}function __(n){_e.lFrame.currentDirectiveIndex=n}function w2(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function GS(){return _e.lFrame.currentQueryIndex}function D0(n){_e.lFrame.currentQueryIndex=n}function E2(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[Zn]:null}function WS(n,e,t){if(t&ye.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&ye.Host);)if(r=E2(o),r===null||(o=o[ea],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=_e.lFrame=KS();return i.currentTNode=e,i.lView=n,!0}function A0(n){let e=KS(),t=n[le];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KS(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?QS(n):e}function QS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YS(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ZS=YS;function x0(){let n=YS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function b2(n){return(_e.lFrame.contextLView=a2(n,_e.lFrame.contextLView))[jt]}function Gr(){return _e.lFrame.selectedIndex}function ko(n){_e.lFrame.selectedIndex=n}function JS(){let n=_e.lFrame;return I0(n.tView,n.selectedIndex)}function XS(){_e.lFrame.currentNamespace=kS}function I2(){return _e.lFrame.currentNamespace}var eD=!0;function bh(){return eD}function Ih(n){eD=n}function T2(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=PS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Th(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bd(n,e,t){tD(n,e,3,t)}function Ud(n,e,t,i){(n[oe]&3)===t&&tD(n,e,t,i)}function Qg(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function tD(n,e,t,i){let r=i!==void 0?n[$s]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[$s]+=65536),(a<o||o==-1)&&(S2(n,t,e,l),n[$s]=(n[$s]&4294901760)+l+2),l++}function IT(n,e){pi(4,n,e);let t=Se(null);try{e.call(n)}finally{Se(t),pi(5,n,e)}}function S2(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[oe]>>14<n[$s]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,IT(a,o)):IT(a,o)}var qs=-1,Oo=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function D2(n){return n instanceof Oo}function A2(n){return(n.flags&8)!==0}function x2(n){return(n.flags&16)!==0}var Yg={},v_=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=gh(i);let r=this.injector.get(e,Yg,i);return r!==Yg||t===Yg?r:this.parentInjector.get(e,t,i)}};function nD(n){return n!==qs}function Zd(n){return n&32767}function M2(n){return n>>16}function Jd(n,e){let t=M2(n),i=e;for(;t>0;)i=i[ea],t--;return i}var y_=!0;function Xd(n){let e=y_;return y_=n,e}var P2=256,iD=P2-1,rD=5,N2=0,mi={};function R2(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ol)&&(i=t[Ol]),i==null&&(i=t[Ol]=N2++);let r=i&iD,o=1<<r;e.data[n+(r>>rD)]|=o}function eh(n,e){let t=oD(n,e);if(t!==-1)return t;let i=e[le];i.firstCreatePass&&(n.injectorIndex=e.length,Zg(i.data,n),Zg(e,null),Zg(i.blueprint,null));let r=M0(n,e),o=n.injectorIndex;if(nD(r)){let s=Zd(r),a=Jd(r,e),l=a[le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function Zg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function M0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=uD(r),i===null)return qs;if(t++,r=r[ea],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return qs}function C_(n,e,t){R2(n,e,t)}function k2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(mS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function sD(n,e,t){if(t&ye.Optional||n!==void 0)return n;g0(e,"NodeInjector")}function aD(n,e,t,i){if(t&ye.Optional&&i===void 0&&(i=null),!(t&(ye.Self|ye.Host))){let r=n[Qs],o=cn(void 0);try{return r?r.get(e,i,t&ye.Optional):cS(e,i,t&ye.Optional)}finally{cn(o)}}return sD(i,e,t)}function lD(n,e,t,i=ye.Default,r){if(n!==null){if(e[oe]&2048&&!(i&ye.Self)){let s=V2(n,e,t,i,mi);if(s!==mi)return s}let o=cD(n,e,t,i,mi);if(o!==mi)return o}return aD(e,t,i,r)}function cD(n,e,t,i,r){let o=F2(t);if(typeof o=="function"){if(!WS(e,n,i))return i&ye.Host?sD(r,t,i):aD(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ye.Optional))g0(t);else return s}finally{ZS()}}else if(typeof o=="number"){let s=null,a=oD(n,e),l=qs,u=i&ye.Host?e[Gn][Zn]:null;for((a===-1||i&ye.SkipSelf)&&(l=a===-1?M0(n,e):e[a+8],l===qs||!ST(i,!1)?a=-1:(s=e[le],a=Zd(l),e=Jd(l,e)));a!==-1;){let h=e[le];if(TT(o,a,h.data)){let p=O2(a,e,t,s,i,u);if(p!==mi)return p}l=e[a+8],l!==qs&&ST(i,e[le].data[a+8]===u)&&TT(o,a,e)?(s=h,a=Zd(l),e=Jd(l,e)):a=-1}}return r}function O2(n,e,t,i,r,o){let s=e[le],a=s.data[n+8],l=i==null?yh(a)&&y_:i!=s&&(a.type&3)!==0,u=r&ye.Host&&o===a,h=jd(a,s,t,l,u);return h!==null?Fo(e,s,h,a):mi}function jd(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=i?a:a+h,y=r?a+h:u;for(let w=p;w<y;w++){let b=s[w];if(w<l&&t===b||w>=l&&b.type===t)return w}if(r){let w=s[l];if(w&&Ur(w)&&w.type===t)return l}return null}function Fo(n,e,t,i){let r=n[t],o=e.data;if(D2(r)){let s=r;s.resolving&&fF(hF(o[t]));let a=Xd(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?cn(s.injectImpl):null,h=WS(n,i,ye.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&T2(t,o[t],e)}finally{u!==null&&cn(u),Xd(a),s.resolving=!1,ZS()}}return r}function F2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ol)?n[Ol]:void 0;return typeof e=="number"?e>=0?e&iD:L2:e}function TT(n,e,t){let i=1<<n;return!!(t[e+(n>>rD)]&i)}function ST(n,e){return!(n&ye.Self)&&!(n&ye.Host&&e)}var Ao=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return lD(this._tNode,this._lView,e,gh(i),t)}};function L2(){return new Ao(qt(),we())}function Wr(n){return Kl(()=>{let e=n.prototype.constructor,t=e[zd]||w_(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[zd]||w_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function w_(n){return iS(n)?()=>{let e=w_(Yt(n));return e&&e()}:xo(n)}function V2(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let a=cD(o,s,t,i|ye.Self,mi);if(a!==mi)return a;let l=o.parent;if(!l){let u=s[AS];if(u){let h=u.get(t,mi,i);if(h!==mi)return h}l=uD(s),s=s[ea]}o=l}return r}function uD(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[Zn]:null}function Sh(n){return k2(qt(),n)}function DT(n,e=null,t=null,i){let r=dD(n,e,t,i);return r.resolveInjectorInitializers(),r}function dD(n,e=null,t=null,i,r=new Set){let o=[t||un,$F(n)];return i=i||(typeof n=="object"?void 0:Zt(n)),new Bl(o,e||E0(),i||null,r)}var zt=class n{static{this.THROW_IF_NOT_FOUND=Ll}static{this.NULL=new Wd}static create(e,t){if(Array.isArray(e))return DT({name:""},t,e,"");{let i=e.name??"";return DT({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=q({token:n,providedIn:"any",factory:()=>K(hS)})}static{this.__NG_ELEMENT_ID__=-1}};var B2=new Z("");B2.__NG_ELEMENT_ID__=n=>{let e=qt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&ye.Optional)return null;throw new j(204,!1)};var U2="ngOriginalError";function Jg(n){return n[U2]}var hD=!0,fD=(()=>{class n{static{this.__NG_ELEMENT_ID__=j2}static{this.__NG_ENV_ID__=t=>t}}return n})(),E_=class extends fD{constructor(e){super(),this._lView=e}onDestroy(e){return BS(this._lView,e),()=>l2(this._lView,e)}};function j2(){return new E_(we())}var ta=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var b_=class extends Re{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XF()&&(this.destroyRef=W(fD,{optional:!0})??void 0,this.pendingTasks=W(ta,{optional:!0})??void 0)}emit(e){let t=Se(null);try{super.next(e)}finally{Se(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},$e=b_;function th(...n){}function pD(n){let e,t;function i(){n=th;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function AT(n){return queueMicrotask(()=>n()),()=>{n=th}}var P0="isAngularZone",nh=P0+"_ID",$2=0,xe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=hD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,q2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(P0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,H2,th,th);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},H2={};function N0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function z2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pD(()=>{n.callbackScheduled=!1,I_(n),n.isCheckStableRunning=!0,N0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),I_(n)}function q2(n){let e=()=>{z2(n)},t=$2++;n._inner=n._inner.fork({name:"angular",properties:{[P0]:!0,[nh]:t,[nh+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(G2(l))return i.invokeTask(o,s,a,l);try{return xT(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),MT(n)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return xT(n),i.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!W2(l)&&e(),MT(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,I_(n),N0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function I_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MT(n){n._nesting--,N0(n)}var T_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function G2(n){return mD(n,"__ignore_ng_zone__")}function W2(n){return mD(n,"__scheduler_tick__")}function mD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Wn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Jg(e);for(;t&&Jg(t);)t=Jg(t);return t||null}},K2=new Z("",{providedIn:"root",factory:()=>{let n=W(xe),e=W(Wn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Q2(){return na(qt(),we())}function na(n,e){return new vt(xn(n,e))}var vt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Q2}}return n})();function Y2(n){return n instanceof vt?n.nativeElement:n}function Z2(){return this._results[Symbol.iterator]()}var S_=class n{get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Z2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=IF(e);(this._changesDetected=!bF(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gD(n){return(n.flags&128)===128}var _D=new Map,J2=0;function X2(){return J2++}function eL(n){_D.set(n[vh],n)}function D_(n){_D.delete(n[vh])}var PT="__ngContext__";function $r(n,e){Vr(e)?(n[PT]=e[vh],eL(e)):n[PT]=e}function vD(n){return CD(n[jl])}function yD(n){return CD(n[qn])}function CD(n){for(;n!==null&&!Yi(n);)n=n[qn];return n}var A_;function wD(n){A_=n}function ED(){if(A_!==void 0)return A_;if(typeof document<"u")return document;throw new j(210,!1)}var R0=new Z("",{providedIn:"root",factory:()=>tL}),tL="ng",k0=new Z(""),Mn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var O0=new Z(""),F0=new Z("",{providedIn:"root",factory:()=>ED().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nL="h",iL="b";var rL=()=>null;function L0(n,e,t=!1){return rL(n,e,t)}var bD=!1,oL=new Z("",{providedIn:"root",factory:()=>bD});var Nd;function sL(){if(Nd===void 0&&(Nd=null,Fl.trustedTypes))try{Nd=Fl.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nd}function Dh(n){return sL()?.createHTML(n)||n}var Rd;function ID(){if(Rd===void 0&&(Rd=null,Fl.trustedTypes))try{Rd=Fl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rd}function NT(n){return ID()?.createHTML(n)||n}function RT(n){return ID()?.createScriptURL(n)||n}var ih=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tS})`}};function Uo(n){return n instanceof ih?n.changingThisBreaksApplicationSecurity:n}function Ah(n,e){let t=aL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tS})`)}return t===e}function aL(n){return n instanceof ih&&n.getTypeName()||null}function lL(n){let e=new M_(n);return cL()?new x_(e):e}var x_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Dh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},M_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dh(e),t}};function cL(){try{return!!new window.DOMParser().parseFromString(Dh(""),"text/html")}catch{return!1}}var uL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V0(n){return n=String(n),n.match(uL)?n:"unsafe:"+n}function Zi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Xl(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var TD=Zi("area,br,col,hr,img,wbr"),SD=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),DD=Zi("rp,rt"),dL=Xl(DD,SD),hL=Xl(SD,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fL=Xl(DD,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kT=Xl(TD,hL,fL,dL),AD=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pL=Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mL=Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gL=Xl(AD,pL,mL),_L=Zi("script,style,template"),P_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=CL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=yL(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=OT(e).toLowerCase();if(!kT.hasOwnProperty(t))return this.sanitizedSomething=!0,!_L.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!gL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;AD[a]&&(l=V0(l)),this.buf.push(" ",s,'="',FT(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=OT(e).toLowerCase();kT.hasOwnProperty(t)&&!TD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(FT(e))}};function vL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw xD(e);return e}function CL(n){let e=n.firstChild;if(e&&vL(n,e))throw xD(e);return e}function OT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function xD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var wL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,EL=/([^\#-~ |!])/g;function FT(n){return n.replace(/&/g,"&amp;").replace(wL,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(EL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var kd;function MD(n,e){let t=null;try{kd=kd||lL(n);let i=e?String(e):"";t=kd.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=kd.getInertBodyElement(i)}while(i!==o);let a=new P_().sanitizeChildren(LT(t)||t);return Dh(a)}finally{if(t){let i=LT(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function LT(n){return"content"in n&&bL(n)?n.content:null}function bL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var ec=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ec||{});function xh(n){let e=B0();return e?NT(e.sanitize(ec.HTML,n)||""):Ah(n,"HTML")?NT(Uo(n)):MD(ED(),Ql(n))}function Ci(n){let e=B0();return e?e.sanitize(ec.URL,n)||"":Ah(n,"URL")?Uo(n):V0(Ql(n))}function IL(n){let e=B0();if(e)return RT(e.sanitize(ec.RESOURCE_URL,n)||"");if(Ah(n,"ResourceURL"))return RT(Uo(n));throw new j(904,!1)}function TL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?IL:Ci}function PD(n,e,t){return TL(e,t)(n)}function B0(){let n=we();return n&&n[_i].sanitizer}var SL=/^>|^->|<!--|-->|--!>|<!-$/g,DL=/(<|>)/g,AL="\u200B$1\u200B";function xL(n){return n.replace(SL,e=>e.replace(DL,AL))}function ND(n){return n.ownerDocument.defaultView}function RD(n){return n.ownerDocument}function kD(n){return n instanceof Function?n():n}var yi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yi||{}),ML;function U0(n,e){return ML(n,e)}function Hs(n,e,t,i,r){if(i!=null){let o,s=!1;Yi(i)?o=i:Vr(i)&&(s=!0,i=i[Qi]);let a=vi(i);n===0&&t!==null?r==null?VD(e,t,a):rh(e,t,a,r||null,!0):n===1&&t!==null?rh(e,t,a,r||null,!0):n===2?GL(e,a,s):n===3&&e.destroyNode(a),o!=null&&KL(e,n,o,t,r)}}function PL(n,e){return n.createText(e)}function NL(n,e,t){n.setValue(e,t)}function RL(n,e){return n.createComment(xL(e))}function OD(n,e,t){return n.createElement(e,t)}function kL(n,e){FD(n,e),e[Qi]=null,e[Zn]=null}function OL(n,e,t,i,r,o){i[Qi]=r,i[Zn]=e,Nh(n,i,t,1,r,o)}function FD(n,e){e[_i].changeDetectionScheduler?.notify(9),Nh(n,e,e[_t],2,null,null)}function FL(n){let e=n[jl];if(!e)return Xg(n[le],n);for(;e;){let t=null;if(Vr(e))t=e[jl];else{let i=e[$t];i&&(t=i)}if(!t){for(;e&&!e[qn]&&e!==n;)Vr(e)&&Xg(e[le],e),e=e[Ht];e===null&&(e=n),Vr(e)&&Xg(e[le],e),t=e&&e[qn]}e=t}}function LL(n,e,t,i){let r=$t+i,o=t.length;i>0&&(t[r-1][qn]=e),i<o-$t?(e[qn]=t[r],dS(t,$t+i,e)):(t.push(e),e[qn]=null),e[Ht]=t;let s=e[Po];s!==null&&t!==s&&LD(s,e);let a=e[zi];a!==null&&a.insertView(n),g_(e),e[oe]|=128}function LD(n,e){let t=n[Ys],i=e[Ht];if(Vr(i))n[oe]|=Yd.HasTransplantedViews;else{let r=i[Ht][Gn];e[Gn]!==r&&(n[oe]|=Yd.HasTransplantedViews)}t===null?n[Ys]=[e]:t.push(e)}function j0(n,e){let t=n[Ys],i=t.indexOf(e);t.splice(i,1)}function $l(n,e){if(n.length<=$t)return;let t=$t+e,i=n[t];if(i){let r=i[Po];r!==null&&r!==n&&j0(r,i),e>0&&(n[t-1][qn]=i[qn]);let o=Gd(n,$t+e);kL(i[le],i);let s=o[zi];s!==null&&s.detachView(o[le]),i[Ht]=null,i[qn]=null,i[oe]&=-129}return i}function Mh(n,e){if(!(e[oe]&256)){let t=e[_t];t.destroyNode&&Nh(n,e,t,3,null,null),FL(e)}}function Xg(n,e){if(e[oe]&256)return;let t=Se(null);try{e[oe]&=-129,e[oe]|=256,e[Tn]&&zg(e[Tn]),BL(n,e),VL(n,e),e[le].type===1&&e[_t].destroy();let i=e[Po];if(i!==null&&Yi(e[Ht])){i!==e[Ht]&&j0(i,e);let r=e[zi];r!==null&&r.detachView(n)}D_(e)}finally{Se(t)}}function VL(n,e){let t=n.cleanup,i=e[Kd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Kd]=null);let r=e[Lr];if(r!==null){e[Lr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function BL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Oo)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];pi(4,a,l);try{l.call(a)}finally{pi(5,a,l)}}else{pi(4,r,o);try{o.call(r)}finally{pi(5,r,o)}}}}}function UL(n,e,t){return jL(n,e.parent,t)}function jL(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Qi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===gi.None||o===gi.Emulated)return null}return xn(i,t)}}function rh(n,e,t,i,r){n.insertBefore(e,t,i,r)}function VD(n,e,t){n.appendChild(e,t)}function VT(n,e,t,i,r){i!==null?rh(n,e,t,i,r):VD(n,e,t)}function BD(n,e){return n.parentNode(e)}function $L(n,e){return n.nextSibling(e)}function HL(n,e,t){return qL(n,e,t)}function zL(n,e,t){return n.type&40?xn(n,t):null}var qL=zL,BT;function Ph(n,e,t,i){let r=UL(n,i,e),o=e[_t],s=i.parent||e[Zn],a=HL(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)VT(o,r,t[l],a,!1);else VT(o,r,t,a,!1);BT!==void 0&&BT(o,i,e,t,r)}function Rl(n,e){if(e!==null){let t=e.type;if(t&3)return xn(e,n);if(t&4)return N_(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Rl(n,i);{let r=n[e.index];return Yi(r)?N_(-1,r):vi(r)}}else{if(t&128)return Rl(n,e.next);if(t&32)return U0(e,n)()||vi(n[e.index]);{let i=UD(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ro(n[Gn]);return Rl(r,i)}else return Rl(n,e.next)}}}return null}function UD(n,e){if(e!==null){let i=n[Gn][Zn],r=e.projection;return i.projection[r]}return null}function N_(n,e){let t=$t+n+1;if(t<e.length){let i=e[t],r=i[le].firstChild;if(r!==null)return Rl(i,r)}return e[No]}function GL(n,e,t){n.removeChild(null,e,t)}function $0(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&$r(vi(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)$0(n,e,t.child,i,r,o,!1),Hs(e,n,r,a,o);else if(l&32){let u=U0(t,i),h;for(;h=u();)Hs(e,n,r,h,o);Hs(e,n,r,a,o)}else l&16?WL(n,e,i,t,r,o):Hs(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Nh(n,e,t,i,r,o){$0(t,i,n.firstChild,e,r,o,!1)}function WL(n,e,t,i,r,o){let s=t[Gn],l=s[Zn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Hs(e,n,r,h,o)}else{let u=l,h=s[Ht];gD(i)&&(u.flags|=128),$0(n,e,u,h,r,o,!0)}}function KL(n,e,t,i,r){let o=t[No],s=vi(t);o!==s&&Hs(e,n,i,o,r);for(let a=$t;a<t.length;a++){let l=t[a];Nh(l[le],l,n,e,i,o)}}function QL(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:yi.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yi.Important),n.setStyle(t,i,r,o))}}function YL(n,e,t){n.setAttribute(e,"style",t)}function jD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $D(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&u_(n,e,i),r!==null&&jD(n,e,r),o!==null&&YL(n,e,o)}var wi={};function g(n=1){HD(bt(),we(),Gr()+n,!1)}function HD(n,e,t,i){if(!i)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Bd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ud(e,o,0,t)}ko(t)}function F(n,e=ye.Default){let t=we();if(t===null)return K(n,e);let i=qt();return lD(i,t,Yt(n),e)}function zD(n,e,t,i,r,o){let s=Se(null);try{let a=null;r&Br.SignalBased&&(a=e[i][Or]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Br.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):MS(e,a,i,o)}finally{Se(s)}}function ZL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ko(~r);else{let o=r,s=t[++i],a=t[++i];y2(s,o);let l=e[o];a(2,l)}}}finally{ko(-1)}}function Rh(n,e,t,i,r,o,s,a,l,u,h){let p=e.blueprint.slice();return p[Qi]=r,p[oe]=i|4|128|8|64,(u!==null||n&&n[oe]&2048)&&(p[oe]|=2048),LS(p),p[Ht]=p[ea]=n,p[jt]=t,p[_i]=s||n&&n[_i],p[_t]=a||n&&n[_t],p[Qs]=l||n&&n[Qs]||null,p[Zn]=o,p[vh]=X2(),p[Ul]=h,p[AS]=u,p[Gn]=e.type==2?n[Gn]:p,p}function tc(n,e,t,i,r){let o=n.data[e];if(o===null)o=JL(n,e,t,i,r),v2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=m2();o.injectorIndex=s===null?-1:s.injectorIndex}return Bo(o,!0),o}function JL(n,e,t,i,r){let o=$S(),s=S0(),a=s?o:o&&o.parent,l=n.data[e]=r6(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function qD(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function GD(n,e,t,i,r){let o=Gr(),s=i&2;try{ko(-1),s&&e.length>Jt&&HD(n,e,Jt,!1),pi(s?2:0,r),t(i,r)}finally{ko(o),pi(s?3:1,r)}}function H0(n,e,t){if(b0(e)){let i=Se(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Se(i)}}}function z0(n,e,t){jS()&&(d6(n,e,t,xn(t,e)),(t.flags&64)===64&&QD(n,e,t))}function q0(n,e,t=xn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function WD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=G0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function G0(n,e,t,i,r,o,s,a,l,u,h){let p=Jt+i,y=p+r,w=XL(p,y),b=typeof u=="function"?u():u;return w[le]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}function XL(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:wi);return t}function e6(n,e,t,i){let o=i.get(oL,bD)||t===gi.ShadowDom,s=n.selectRootElement(e,o);return t6(s),s}function t6(n){n6(n)}var n6=()=>null;function i6(n,e,t,i){let r=JD(e);r.push(t),n.firstCreatePass&&XD(n).push(i,r.length-1)}function r6(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return h2()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UT(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=Br.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}n===0?jT(i,t,u,a,l):jT(i,t,u,a)}return i}function jT(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function o6(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let h=i;h<r;h++){let p=o[h],y=t?t.get(p):null,w=y?y.inputs:null,b=y?y.outputs:null;l=UT(0,p.inputs,h,l,w),u=UT(1,p.outputs,h,u,b);let R=l!==null&&s!==null&&!C0(e)?E6(l,h,s):null;a.push(R)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function s6(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function a6(n,e,t,i,r,o,s,a){let l=xn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(K0(n,t,h,i,r),yh(e)&&l6(t,e.index)):e.type&3?(i=s6(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function l6(n,e){let t=qr(e,n);t[oe]&16||(t[oe]|=64)}function W0(n,e,t,i){if(jS()){let r=i===null?null:{"":-1},o=f6(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KD(n,e,t,s,r,a),r&&p6(t,i,r)}t.mergedAttrs=Vl(t.mergedAttrs,t.attrs)}function KD(n,e,t,i,r,o){for(let u=0;u<i.length;u++)C_(eh(t,e),n,i[u].type);g6(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=qD(n,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];t.mergedAttrs=Vl(t.mergedAttrs,h.hostAttrs),_6(n,t,e,l,h),m6(l,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}o6(n,t,o)}function c6(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;u6(s)!=a&&s.push(a),s.push(t,i,o)}}function u6(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function d6(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;yh(t)&&v6(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||eh(t,e),$r(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],u=Fo(e,n,a,t);if($r(u,e),s!==null&&w6(e,a-r,u,l,t,s),Ur(l)){let h=qr(t.index,e);h[jt]=Fo(e,n,a,t)}}}function QD(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=C2();try{ko(o);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];__(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&h6(l,u)}}finally{ko(-1),__(s)}}function h6(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function f6(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(RF(e,s.selectors,!1))if(i||(i=[]),Ur(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;R_(n,e,l)}else i.unshift(s),R_(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function R_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function p6(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new j(-301,!1);i.push(e[r],o)}}}function m6(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ur(e)&&(t[""]=n)}}function g6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _6(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=xo(r.type,!0)),s=new Oo(o,Ur(r),F);n.blueprint[i]=s,t[i]=s,c6(n,e,i,qD(n,t,r.hostVars,wi),r)}function v6(n,e,t){let i=xn(e,n),r=WD(t),o=n[_i].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=kh(n,Rh(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function y6(n,e,t,i,r,o){let s=xn(n,e);C6(e[_t],s,o,n.value,t,i,r)}function C6(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Ql(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function w6(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];zD(i,t,l,u,h,p)}}function E6(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function YD(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function ZD(n,e){let t=n.contentQueries;if(t!==null){let i=Se(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];D0(o),a.contentQueries(2,e[s],s)}}}finally{Se(i)}}}function kh(n,e){return n[jl]?n[wT][qn]=e:n[jl]=e,n[wT]=e,e}function k_(n,e,t){D0(0);let i=Se(null);try{e(n,t)}finally{Se(i)}}function JD(n){return n[Kd]??=[]}function XD(n){return n.cleanup??=[]}function eA(n,e){let t=n[Qs],i=t?t.get(Wn,null):null;i&&i.handleError(e)}function K0(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],h=n.data[s];zD(h,u,i,a,l,r)}}function b6(n,e,t){let i=OS(e,n);NL(n[_t],i,t)}function I6(n,e){let t=qr(e,n),i=t[le];T6(i,t);let r=t[Qi];r!==null&&t[Ul]===null&&(t[Ul]=L0(r,t[Qs])),Q0(i,t,t[jt])}function T6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Q0(n,e,t){A0(e);try{let i=n.viewQuery;i!==null&&k_(1,i,t);let r=n.template;r!==null&&GD(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zi]?.finishViewCreation(n),n.staticContentQueries&&ZD(n,e),n.staticViewQueries&&k_(2,n.viewQuery,t);let o=n.components;o!==null&&S6(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[oe]&=-5,x0()}}function S6(n,e){for(let t=0;t<e.length;t++)I6(n,e[t])}function Oh(n,e,t,i){let r=Se(null);try{let o=e.tView,a=n[oe]&4096?4096:16,l=Rh(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[Po]=u;let h=n[zi];return h!==null&&(l[zi]=h.createEmbeddedView(o)),Q0(o,l,t),l}finally{Se(r)}}function tA(n,e){let t=$t+e;if(t<n.length)return n[t]}function Hl(n,e){return!e||e.firstChild===null||gD(n)}function Fh(n,e,t,i=!0){let r=e[le];if(LL(r,e,n,t),i){let s=N_(t,n),a=e[_t],l=BD(a,n[No]);l!==null&&OL(r,n[Zn],a,e,l,s)}let o=e[Ul];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function nA(n,e){let t=$l(n,e);return t!==void 0&&Mh(t[le],t),t}function oh(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(vi(o)),Yi(o)&&D6(o,i);let s=t.type;if(s&8)oh(n,e,t.child,i);else if(s&32){let a=U0(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=UD(e,t);if(Array.isArray(a))i.push(...a);else{let l=Ro(e[Gn]);oh(l[le],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function D6(n,e){for(let t=$t;t<n.length;t++){let i=n[t],r=i[le].firstChild;r!==null&&oh(i[le],i,r,e)}n[No]!==n[Qi]&&e.push(n[No])}var iA=[];function A6(n){return n[Tn]??x6(n)}function x6(n){let e=iA.pop()??Object.create(P6);return e.lView=n,e}function M6(n){n.lView[Tn]!==n&&(n.lView=null,iA.push(n))}var P6=ce(U({},Nl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Eh(n.lView)},consumerOnSignalRead(){this.lView[Tn]=this}});function N6(n){let e=n[Tn]??Object.create(R6);return e.lView=n,e}var R6=ce(U({},Nl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ro(n.lView);for(;e&&!rA(e[le]);)e=Ro(e);e&&VS(e)},consumerOnSignalRead(){this.lView[Tn]=this}});function rA(n){return n.type!==2}var k6=100;function oA(n,e=!0,t=0){let i=n[_i],r=i.rendererFactory,o=!1;o||r.begin?.();try{O6(n,t)}catch(s){throw e&&eA(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function O6(n,e){let t=zS();try{bT(!0),O_(n,e);let i=0;for(;wh(n);){if(i===k6)throw new j(103,!1);i++,O_(n,1)}}finally{bT(t)}}function F6(n,e,t,i){let r=e[oe];if((r&256)===256)return;let o=!1,s=!1;!o&&e[_i].inlineEffectRunner?.flush(),A0(e);let a=!0,l=null,u=null;o||(rA(n)?(u=A6(e),l=Ad(u)):JI()===null?(a=!1,u=N6(e),l=Ad(u)):e[Tn]&&(zg(e[Tn]),e[Tn]=null));try{LS(e),_2(n.bindingStartIndex),t!==null&&GD(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let w=n.preOrderCheckHooks;w!==null&&Bd(e,w,null)}else{let w=n.preOrderHooks;w!==null&&Ud(e,w,0,null),Qg(e,0)}if(s||L6(e),sA(e,0),n.contentQueries!==null&&ZD(n,e),!o)if(h){let w=n.contentCheckHooks;w!==null&&Bd(e,w)}else{let w=n.contentHooks;w!==null&&Ud(e,w,1),Qg(e,1)}ZL(n,e);let p=n.components;p!==null&&lA(e,p,0);let y=n.viewQuery;if(y!==null&&k_(2,y,i),!o)if(h){let w=n.viewCheckHooks;w!==null&&Bd(e,w)}else{let w=n.viewHooks;w!==null&&Ud(e,w,2),Qg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Kg]){for(let w of e[Kg])w();e[Kg]=null}o||(e[oe]&=-73)}catch(h){throw o||Eh(e),h}finally{u!==null&&($g(u,l),a&&M6(u)),x0()}}function sA(n,e){for(let t=vD(n);t!==null;t=yD(t))for(let i=$t;i<t.length;i++){let r=t[i];aA(r,e)}}function L6(n){for(let e=vD(n);e!==null;e=yD(e)){if(!(e[oe]&Yd.HasTransplantedViews))continue;let t=e[Ys];for(let i=0;i<t.length;i++){let r=t[i];VS(r)}}}function V6(n,e,t){let i=qr(e,n);aA(i,t)}function aA(n,e){T0(n)&&O_(n,e)}function O_(n,e){let i=n[le],r=n[oe],o=n[Tn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Hg(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)F6(i,n,i.template,n[jt]);else if(r&8192){sA(n,1);let a=i.components;a!==null&&lA(n,a,1)}}function lA(n,e,t){for(let i=0;i<e.length;i++)V6(n,e[i],t)}function Y0(n,e){let t=zS()?64:1088;for(n[_i].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let i=Ro(n);if(p_(n)&&!i)return n;n=i}return null}var Lo=class{get rootNodes(){let e=this._lView,t=e[le];return oh(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ht];if(Yi(e)){let t=e[Qd],i=t?t.indexOf(this):-1;i>-1&&($l(e,i),Gd(t,i))}this._attachedToViewContainer=!1}Mh(this._lView[le],this._lView)}onDestroy(e){BS(this._lView,e)}markForCheck(){Y0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){g_(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,oA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=p_(this._lView),t=this._lView[Po];t!==null&&!e&&j0(t,this._lView),FD(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=p_(this._lView),i=this._lView[Po];i!==null&&!t&&LD(i,this._lView),g_(this._lView)}},qi=(()=>{class n{static{this.__NG_ELEMENT_ID__=j6}}return n})(),B6=qi,U6=class extends B6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Oh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Lo(r)}};function j6(){return Z0(qt(),we())}function Z0(n,e){return n.type&4?new U6(e,n,na(n,e)):null}var gse=new RegExp(`^(\\d+)*(${iL}|${nL})*(.*)`);var $6=()=>null;function zl(n,e){return $6(n,e)}var Zs=class{},Lh=new Z("",{providedIn:"root",factory:()=>!1});var cA=new Z(""),uA=new Z(""),F_=class{},sh=class{};function H6(n){let e=Error(`No component factory found for ${Zt(n)}.`);return e[z6]=n,e}var z6="ngComponent";var L_=class{resolveComponentFactory(e){throw H6(e)}},Js=class{static{this.NULL=new L_}},Hr=class{},dn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>q6()}}return n})();function q6(){let n=we(),e=qt(),t=qr(e.index,n);return(Vr(t)?t:n)[_t]}var G6=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}}return n})();function ah(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=s_(r,a);else if(o==2){let l=a,u=e[++s];i=s_(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var lh=class extends Js{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Mo(e);return new ql(t,this.ngModule)}};function $T(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Br.None;e?t.push({propName:s,templateName:i,isSignal:(a&Br.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function W6(n){let e=n.toLowerCase();return e==="svg"?kS:e==="math"?r2:null}var ql=class extends sh{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=$T(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return $T(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Se(null);try{r=r||this.ngModule;let s=r instanceof Sn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new v_(e,s):e,l=a.get(Hr,null);if(l===null)throw new j(407,!1);let u=a.get(G6,null),h=a.get(Zs,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},y=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",b=i?e6(y,i,this.componentDef.encapsulation,a):OD(y,w,W6(w)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let B=null;b!==null&&(B=L0(b,a,!0));let G=G0(0,null,null,1,0,null,null,null,null,null,null),J=Rh(null,G,null,R,null,null,p,y,a,null,B);A0(J);let ne,he,dt=null;try{let ve=this.componentDef,A,E=null;ve.findHostDirectiveDefs?(A=[],E=new Map,ve.findHostDirectiveDefs(ve,A,E),A.push(ve)):A=[ve];let S=K6(J,b);dt=Q6(S,b,ve,A,J,p,y),he=I0(G,Jt),b&&J6(y,ve,b,i),t!==void 0&&X6(he,this.ngContentSelectors,t),ne=Z6(dt,ve,A,E,J,[eV]),Q0(G,J,null)}catch(ve){throw dt!==null&&D_(dt),D_(J),ve}finally{x0()}return new V_(this.componentType,ne,na(he,J),J,he)}finally{Se(o)}}},V_=class extends F_{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Lo(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;K0(o[le],o,r,e,t),this.previousInputValues.set(e,t);let s=qr(this._tNode.index,o);Y0(s,1)}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function K6(n,e){let t=n[le],i=Jt;return n[i]=e,tc(t,i,2,"#host",null)}function Q6(n,e,t,i,r,o,s){let a=r[le];Y6(i,n,e,s);let l=null;e!==null&&(l=L0(e,r[Qs]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Rh(r,WD(t),null,h,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&R_(a,n,i.length-1),kh(r,p),r[n.index]=p}function Y6(n,e,t,i){for(let r of n)e.mergedAttrs=Vl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(ah(e,e.mergedAttrs,!0),t!==null&&$D(i,t,e))}function Z6(n,e,t,i,r,o){let s=qt(),a=r[le],l=xn(s,r);KD(a,r,s,t,null,i);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,y=Fo(r,a,p,s);$r(y,r)}QD(a,r,s),l&&$r(l,r);let u=Fo(r,a,s.directiveStart+s.componentOffset,s);if(n[jt]=r[jt]=u,o!==null)for(let h of o)h(u,e);return H0(a,s,r),u}function J6(n,e,t,i){if(i)u_(n,t,["ng-version","18.2.8"]);else{let{attrs:r,classes:o}=VF(e.selectors[0]);r&&u_(n,t,r),o&&o.length>0&&jD(n,t,o.join(" "))}}function X6(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function eV(){let n=qt();Th(we()[le],n)}var Ji=(()=>{class n{static{this.__NG_ELEMENT_ID__=tV}}return n})();function tV(){let n=qt();return hA(n,we())}var nV=Ji,dA=class extends nV{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=M0(this._hostTNode,this._hostLView);if(nD(e)){let t=Jd(e,this._hostLView),i=Zd(e),r=t[le].data[i+8];return new Ao(r,t)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=HT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=zl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Hl(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!e2(e),a;if(s)a=t;else{let b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?e:new ql(Mo(e)),u=i||this.parentInjector;if(!o&&l.ngModule==null){let R=(s?u:this.parentInjector).get(Sn,null);R&&(o=R)}let h=Mo(l.componentType??{}),p=zl(this._lContainer,h?.id??null),y=p?.firstChild??null,w=l.create(u,r,y,o);return this.insertImpl(w.hostView,a,Hl(this._hostTNode,p)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(s2(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ht],u=new dA(l,l[Zn],l[Ht]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Fh(s,r,o,i),e.attachToViewContainerRef(),dS(e_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=HT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=$l(this._lContainer,t);i&&(Gd(e_(this._lContainer),t),Mh(i[le],i))}detach(e){let t=this._adjustIndex(e,-1),i=$l(this._lContainer,t);return i&&Gd(e_(this._lContainer),t)!=null?new Lo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function HT(n){return n[Qd]}function e_(n){return n[Qd]||(n[Qd]=[])}function hA(n,e){let t,i=e[n.index];return Yi(i)?t=i:(t=YD(i,e,null,n),e[n.index]=t,kh(e,t)),rV(t,e,n,i),new dA(t,n,e)}function iV(n,e){let t=n[_t],i=t.createComment(""),r=xn(e,n),o=BD(t,r);return rh(t,o,i,$L(t,r),!1),i}var rV=aV,oV=()=>!1;function sV(n,e,t){return oV(n,e,t)}function aV(n,e,t,i){if(n[No])return;let r;t.type&8?r=vi(i):r=iV(e,t),n[No]=r}var B_=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},U_=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)J0(e,t).matches!==null&&this.queries[t].setDirty()}},j_=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=mV(e):this.predicate=e}},$_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},H_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,lV(t,o)),this.matchTNodeWithReadOption(e,t,jd(t,e,o,!1,!1))}else i===qi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===vt||r===Ji||r===qi&&t.type&4)this.addMatch(t.index,-2);else{let o=jd(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function lV(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function cV(n,e){return n.type&11?na(n,e):n.type&4?Z0(n,e):null}function uV(n,e,t,i){return t===-1?cV(e,n):t===-2?dV(n,e,i):Fo(n,n[le],t,e)}function dV(n,e,t){if(t===vt)return na(e,n);if(t===qi)return Z0(e,n);if(t===Ji)return hA(e,n)}function fA(n,e,t,i){let r=e[zi].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(uV(e,h,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function z_(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=fA(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=$t;p<h.length;p++){let y=h[p];y[Po]===y[Ht]&&z_(y[le],y,u,i)}if(h[Ys]!==null){let p=h[Ys];for(let y=0;y<p.length;y++){let w=p[y];z_(w[le],w,u,i)}}}}}return i}function hV(n,e){return n[zi].queries[e].queryList}function fV(n,e,t){let i=new S_((t&4)===4);return i6(n,e,i,i.destroy),(e[zi]??=new U_).queries.push(new B_(i))-1}function pV(n,e,t,i){let r=bt();if(r.firstCreatePass){let o=qt();gV(r,new j_(e,t,i),o.index),_V(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return fV(r,we(),t)}function mV(n){return n.split(",").map(e=>e.trim())}function gV(n,e,t){n.queries===null&&(n.queries=new $_),n.queries.track(new H_(e,t))}function _V(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function J0(n,e){return n.queries.getByIndex(e)}function vV(n,e){let t=n[le],i=J0(t,e);return i.crossesNgTemplate?z_(t,n,e,[]):fA(t,n,i,e)}var zT=new Set;function Xi(n){zT.has(n)||(zT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function nc(n,e){Xi("NgSignals");let t=cT(n),i=t[Or];return e?.equal&&(i.equal=e.equal),t.set=r=>qg(i,r),t.update=r=>uT(i,r),t.asReadonly=yV.bind(t),t}function yV(){let n=this[Or];if(n.readonlyFn===void 0){let e=()=>this();e[Or]=n,n.readonlyFn=e}return n.readonlyFn}function CV(n){return Object.getPrototypeOf(n.prototype).constructor}function Jn(n){let e=CV(n.type),t=!0,i=[n];for(;e;){let r;if(Ur(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Od(n.inputs),s.inputTransforms=Od(n.inputTransforms),s.declaredInputs=Od(n.declaredInputs),s.outputs=Od(n.outputs);let a=r.hostBindings;a&&TV(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&bV(n,l),u&&IV(n,u),wV(n,r),rF(n.outputs,r.outputs),Ur(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Jn&&(t=!1)}}e=Object.getPrototypeOf(e)}EV(i)}function wV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function EV(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Vl(r.hostAttrs,t=Vl(t,r.hostAttrs))}}function Od(n){return n===Gs?{}:n===un?[]:n}function bV(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function IV(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function TV(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function X0(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var zr=class{},Gl=class{};var q_=class extends zr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lh(this);let o=wS(e);this._bootstrapComponents=kD(o.bootstrap),this._r3Injector=dD(e,t,[{provide:zr,useValue:this},{provide:Js,useValue:this.componentFactoryResolver},...i],Zt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},G_=class extends Gl{constructor(e){super(),this.moduleType=e}create(e){return new q_(this.moduleType,e,[])}};var ch=class extends zr{constructor(e){super(),this.componentFactoryResolver=new lh(this),this.instance=null;let t=new Bl([...e.providers,{provide:zr,useValue:this},{provide:Js,useValue:this.componentFactoryResolver}],e.parent||E0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ev(n,e,t=null){return new ch({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function pA(n){return tv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function SV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function tv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Vh(n,e,t){return n[e]=t}function DV(n,e){return n[e]}function Kn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function W_(n,e,t,i){let r=Kn(n,e,t);return Kn(n,e+1,i)||r}function mA(n,e,t,i,r,o){let s=W_(n,e,t,i);return W_(n,e+2,r,o)||s}function AV(n){return(n.flags&32)===32}function xV(n,e,t,i,r,o,s,a,l){let u=e.consts,h=tc(e,n,4,s||null,a||null);W0(e,t,h,jr(u,l)),Th(e,h);let p=h.tView=G0(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function K_(n,e,t,i,r,o,s,a,l,u){let h=t+Jt,p=e.firstCreatePass?xV(h,e,n,i,r,o,s,a,l):e.data[h];Bo(p,!1);let y=MV(e,n,p,t);bh()&&Ph(e,n,y,p),$r(y,n);let w=YD(y,n,y,p);return n[h]=w,kh(n,w),sV(w,p,n),Ch(p)&&z0(e,n,p),l!=null&&q0(n,p,u),p}function I(n,e,t,i,r,o,s,a){let l=we(),u=bt(),h=jr(u.consts,o);return K_(l,u,n,e,t,i,r,h,s,a),I}var MV=PV;function PV(n,e,t,i){return Ih(!0),e[_t].createComment("")}var kl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(kl||{}),NV=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),qT=class n{constructor(){this.ngZone=W(xe),this.scheduler=W(Zs),this.errorHandler=W(Wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[kl.EarlyRead,kl.Write,kl.MixedReadWrite,kl.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}};function ic(n,e,t,i){let r=we(),o=Jl();if(Kn(r,o,e)){let s=bt(),a=JS();y6(a,r,n,e,t,i)}return ic}function RV(n,e,t,i){return Kn(n,Jl(),t)?e+Ql(t)+i:wi}function Fd(n,e){return n<<17|e<<2}function Vo(n){return n>>17&32767}function kV(n){return(n&2)==2}function OV(n,e){return n&131071|e<<17}function Q_(n){return n|2}function Xs(n){return(n&131068)>>2}function t_(n,e){return n&-131069|e<<2}function FV(n){return(n&1)===1}function Y_(n){return n|1}function LV(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Vo(s),l=Xs(s);n[i]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Yl(p,h)>0)&&(u=!0)}else h=t;if(r)if(l!==0){let y=Vo(n[a+1]);n[i+1]=Fd(y,a),y!==0&&(n[y+1]=t_(n[y+1],i)),n[a+1]=OV(n[a+1],i)}else n[i+1]=Fd(a,0),a!==0&&(n[a+1]=t_(n[a+1],i)),a=i;else n[i+1]=Fd(l,0),a===0?a=i:n[l+1]=t_(n[l+1],i),l=i;u&&(n[i+1]=Q_(n[i+1])),GT(n,h,i,!0),GT(n,h,i,!1),VV(e,h,n,i,o),s=Fd(a,l),o?e.classBindings=s:e.styleBindings=s}function VV(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Yl(o,e)>=0&&(t[i+1]=Y_(t[i+1]))}function GT(n,e,t,i){let r=n[t+1],o=e===null,s=i?Vo(r):Xs(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];BV(l,e)&&(a=!0,n[s+1]=i?Y_(u):Q_(u)),s=i?Vo(u):Xs(u)}a&&(n[t+1]=i?Q_(r):Y_(r))}function BV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Yl(n,e)>=0:!1}var zn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UV(n){return n.substring(zn.key,zn.keyEnd)}function jV(n){return $V(n),gA(n,_A(n,0,zn.textEnd))}function gA(n,e){let t=zn.textEnd;return t===e?-1:(e=zn.keyEnd=HV(n,zn.key=e,t),_A(n,e,t))}function $V(n){zn.key=0,zn.keyEnd=0,zn.value=0,zn.valueEnd=0,zn.textEnd=n.length}function _A(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function HV(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function H(n,e,t){let i=we(),r=Jl();if(Kn(i,r,e)){let o=bt(),s=JS();a6(o,s,i,n,e,i[_t],t,!1)}return H}function Z_(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";K0(n,t,o[s],s,i)}function Bh(n,e){return qV(n,e,null,!0),Bh}function ia(n){GV(JV,zV,n,!0)}function zV(n,e){for(let t=jV(e);t>=0;t=gA(e,t))y0(n,UV(e),!0)}function qV(n,e,t,i){let r=we(),o=bt(),s=qS(2);if(o.firstUpdatePass&&yA(o,n,s,i),e!==wi&&Kn(r,s,e)){let a=o.data[Gr()];CA(o,a,r,r[_t],n,r[s+1]=e4(e,t),i,s)}}function GV(n,e,t,i){let r=bt(),o=qS(2);r.firstUpdatePass&&yA(r,null,o,i);let s=we();if(t!==wi&&Kn(s,o,t)){let a=r.data[Gr()];if(wA(a,i)&&!vA(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=s_(l,t||"")),Z_(r,a,s,t,i)}else XV(r,a,s,s[_t],s[o+1],s[o+1]=ZV(n,e,t),i,o)}}function vA(n,e){return e>=n.expandoStartIndex}function yA(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Gr()],s=vA(n,t);wA(o,i)&&e===null&&!s&&(e=!1),e=WV(r,o,e,i),LV(r,o,e,t,s,i)}}function WV(n,e,t,i){let r=w2(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=n_(null,n,e,t,i),t=Wl(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=n_(r,n,e,t,i),o===null){let l=KV(n,e,i);l!==void 0&&Array.isArray(l)&&(l=n_(null,n,e,l[1],i),l=Wl(l,e.attrs,i),QV(n,e,i,l))}else o=YV(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function KV(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Xs(i)!==0)return n[Vo(i)]}function QV(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Vo(r)]=i}function YV(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Wl(i,s,t)}return Wl(i,e.attrs,t)}function n_(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Wl(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Wl(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),y0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function ZV(n,e,t){if(t==null||t==="")return un;let i=[],r=Uo(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function JV(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&y0(n,i,t)}function XV(n,e,t,i,r,o,s,a){r===wi&&(r=un);let l=0,u=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=l<r.length?r[l+1]:void 0,w=u<o.length?o[u+1]:void 0,b=null,R;h===p?(l+=2,u+=2,y!==w&&(b=p,R=w)):p===null||h!==null&&h<p?(l+=2,b=h):(u+=2,b=p,R=w),b!==null&&CA(n,e,t,i,b,R,s,a),h=l<r.length?r[l]:null,p=u<o.length?o[u]:null}}function CA(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=FV(u)?WT(l,e,t,r,Xs(u),s):void 0;if(!uh(h)){uh(o)||kV(u)&&(o=WT(l,null,t,r,a,s));let p=OS(Gr(),t);QL(i,s,p,r,o)}}function WT(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),h=u?l[1]:l,p=h===null,y=t[r+1];y===wi&&(y=p?un:void 0);let w=p?Gg(y,i):h===i?y:void 0;if(u&&!uh(w)&&(w=Gg(l,i)),uh(w)&&(a=w,s))return a;let b=n[r+1];r=s?Vo(b):Xs(b)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Gg(l,i))}return a}function uh(n){return n!==void 0}function e4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Zt(Uo(n)))),n}function wA(n,e){return(n.flags&(e?8:16))!==0}var J_=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function i_(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function t4(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),h=e[o],p=i_(o,u,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let y=n.at(s),w=e[l],b=i_(s,y,l,w,t);if(b!==0){b<0&&n.updateValue(s,w),s--,l--;continue}let R=t(o,u),B=t(s,y),G=t(o,h);if(Object.is(G,B)){let J=t(l,w);Object.is(J,R)?(n.swap(o,s),n.updateValue(s,w),l--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(i??=new dh,r??=QT(n,o,s,t),X_(n,i,o,G))n.updateValue(o,h),o++,s++;else if(r.has(G))i.set(R,n.detach(o)),s--;else{let J=n.create(o,e[o]);n.attach(o,J),o++,s++}}for(;o<=l;)KT(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let h=n.at(o),p=u.value,y=i_(o,h,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,u=l.next();else{i??=new dh,r??=QT(n,o,s,t);let w=t(o,p);if(X_(n,i,o,w))n.updateValue(o,p),o++,s++,u=l.next();else if(!r.has(w))n.attach(o,n.create(o,p)),o++,s++,u=l.next();else{let b=t(o,h);i.set(b,n.detach(o)),s--}}}for(;!u.done;)KT(n,i,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function X_(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function KT(n,e,t,i,r){if(X_(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function QT(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var dh=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function T(n,e){Xi("NgControlFlow");let t=we(),i=Jl(),r=t[i]!==wi?t[i]:-1,o=r!==-1?hh(t,Jt+r):void 0,s=0;if(Kn(t,i,n)){let a=Se(null);try{if(o!==void 0&&nA(o,s),n!==-1){let l=Jt+n,u=hh(t,l),h=i0(t[le],l),p=zl(u,h.tView.ssrId),y=Oh(t,h,e,{dehydratedView:p});Fh(u,y,s,Hl(h,p))}}finally{Se(a)}}else if(o!==void 0){let a=tA(o,s);a!==void 0&&(a[jt]=e)}}var e0=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-$t}};function It(n){return n}var t0=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Tt(n,e,t,i,r,o,s,a,l,u,h,p,y){Xi("NgControlFlow");let w=we(),b=bt(),R=l!==void 0,B=we(),G=a?s.bind(B[Gn][jt]):s,J=new t0(R,G);B[Jt+n]=J,K_(w,b,n+1,e,t,i,r,jr(b.consts,o)),R&&K_(w,b,n+2,l,u,h,p,jr(b.consts,y))}var n0=class extends J_{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$t}at(e){return this.getLView(e)[jt].$implicit}attach(e,t){let i=t[Ul];this.needsIndexUpdate||=e!==this.length,Fh(this.lContainer,t,e,Hl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,n4(this.lContainer,e)}create(e,t){let i=zl(this.lContainer,this.templateTNode.tView.ssrId),r=Oh(this.hostLView,this.templateTNode,new e0(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Mh(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[jt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[jt].$index=e}getLView(e){return i4(this.lContainer,e)}};function St(n){let e=Se(null),t=Gr();try{let i=we(),r=i[le],o=i[t],s=t+1,a=hh(i,s);if(o.liveCollection===void 0){let u=i0(r,s);o.liveCollection=new n0(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(t4(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=Jl(),h=l.length===0;if(Kn(i,u,h)){let p=t+2,y=hh(i,p);if(h){let w=i0(r,p),b=zl(y,w.tView.ssrId),R=Oh(i,w,void 0,{dehydratedView:b});Fh(y,R,0,Hl(w,b))}else nA(y,0)}}}finally{Se(e)}}function hh(n,e){return n[e]}function n4(n,e){return $l(n,e)}function i4(n,e){return tA(n,e)}function i0(n,e){return I0(n,e)}function r4(n,e,t,i,r,o){let s=e.consts,a=jr(s,r),l=tc(e,n,2,i,a);return W0(e,t,l,jr(s,o)),l.attrs!==null&&ah(l,l.attrs,!1),l.mergedAttrs!==null&&ah(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function C(n,e,t,i){let r=we(),o=bt(),s=Jt+n,a=r[_t],l=o.firstCreatePass?r4(s,o,r,e,t,i):o.data[s],u=o4(o,r,l,a,e,n);r[s]=u;let h=Ch(l);return Bo(l,!0),$D(a,u,l),!AV(l)&&bh()&&Ph(o,r,u,l),c2()===0&&$r(u,r),u2(),h&&(z0(o,r,l),H0(o,l,r)),i!==null&&q0(r,l),C}function _(){let n=qt();S0()?HS():(n=n.parent,Bo(n,!1));let e=n;f2(e)&&p2(),d2();let t=bt();return t.firstCreatePass&&(Th(t,n),b0(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&A2(e)&&Z_(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&x2(e)&&Z_(t,e,we(),e.stylesWithoutHost,!1),_}function V(n,e,t,i){return C(n,e,t,i),_(),V}var o4=(n,e,t,i,r,o)=>(Ih(!0),OD(i,r,I2()));function s4(n,e,t,i,r){let o=e.consts,s=jr(o,i),a=tc(e,n,8,"ng-container",s);s!==null&&ah(a,s,!0);let l=jr(o,r);return W0(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ra(n,e,t){let i=we(),r=bt(),o=n+Jt,s=r.firstCreatePass?s4(o,r,i,e,t):r.data[o];Bo(s,!0);let a=a4(r,i,s,n);return i[o]=a,bh()&&Ph(r,i,a,s),$r(a,i),Ch(s)&&(z0(r,i,s),H0(r,s,i)),t!=null&&q0(i,s),ra}function oa(){let n=qt(),e=bt();return S0()?HS():(n=n.parent,Bo(n,!1)),e.firstCreatePass&&(Th(e,n),b0(n)&&e.queries.elementEnd(n)),oa}var a4=(n,e,t,i)=>(Ih(!0),RL(e[_t],""));function Dt(){return we()}var fh="en-US";var l4=fh;function c4(n){typeof n=="string"&&(l4=n.toLowerCase().replace(/_/g,"-"))}var u4=(n,e,t)=>{};function X(n,e,t,i){let r=we(),o=bt(),s=qt();return h4(o,r,r[_t],s,n,e,i),X}function d4(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Kd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function h4(n,e,t,i,r,o,s){let a=Ch(i),u=n.firstCreatePass&&XD(n),h=e[jt],p=JD(e),y=!0;if(i.type&3||s){let R=xn(i,e),B=s?s(R):R,G=p.length,J=s?he=>s(vi(he[i.index])):i.index,ne=null;if(!s&&a&&(ne=d4(n,e,r,i.index)),ne!==null){let he=ne.__ngLastListenerFn__||ne;he.__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,y=!1}else{o=ZT(i,e,h,o),u4(R,r,o);let he=t.listen(B,r,o);p.push(o,he),u&&u.push(r,J,G,G+1)}}else o=ZT(i,e,h,o);let w=i.outputs,b;if(y&&w!==null&&(b=w[r])){let R=b.length;if(R)for(let B=0;B<R;B+=2){let G=b[B],J=b[B+1],dt=e[G][J].subscribe(o),ve=p.length;p.push(o,dt),u&&u.push(r,i.index,ve,-(ve+1))}}}function YT(n,e,t,i){let r=Se(null);try{return pi(6,e,t),t(i)!==!1}catch(o){return eA(n,o),!1}finally{pi(7,e,t),Se(r)}}function ZT(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?qr(n.index,e):e;Y0(s,5);let a=YT(e,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=YT(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function L(n=1){return b2(n)}function Uh(n,e,t,i){pV(n,e,t,i)}function jh(n){let e=we(),t=bt(),i=GS();D0(i+1);let r=J0(t,i);if(n.dirty&&o2(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=vV(e,i);n.reset(o,Y2),n.notifyOnChanges()}return!0}return!1}function $h(){return hV(we(),GS())}function f4(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Kr(n){let e=g2();return FS(e,Jt+n)}function m(n,e=""){let t=we(),i=bt(),r=n+Jt,o=i.firstCreatePass?tc(i,r,1,e,null):i.data[r],s=p4(i,t,o,e,n);t[r]=s,bh()&&Ph(i,t,s,o),Bo(o,!1)}var p4=(n,e,t,i,r)=>(Ih(!0),PL(e[_t],i));function Nt(n){return ee("",n,""),Nt}function ee(n,e,t){let i=we(),r=RV(i,n,e,t);return r!==wi&&b6(i,Gr(),r),ee}function m4(n,e,t){let i=bt();if(i.firstCreatePass){let r=Ur(n);r0(t,i.data,i.blueprint,r,!0),r0(e,i.data,i.blueprint,r,!1)}}function r0(n,e,t,i,r){if(n=Yt(n),Array.isArray(n))for(let o=0;o<n.length;o++)r0(n[o],e,t,i,r);else{let o=bt(),s=we(),a=qt(),l=Ks(n)?n:Yt(n.provide),u=DS(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Ks(n)||!n.multi){let w=new Oo(u,r,F),b=o_(l,e,r?h:h+y,p);b===-1?(C_(eh(a,s),o,l),r_(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[b]=w,s[b]=w)}else{let w=o_(l,e,h+y,p),b=o_(l,e,h,h+y),R=w>=0&&t[w],B=b>=0&&t[b];if(r&&!B||!r&&!R){C_(eh(a,s),o,l);let G=v4(r?_4:g4,t.length,r,i,u);!r&&B&&(t[b].providerFactory=G),r_(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=EA(t[r?b:w],u,!r&&i);r_(o,n,w>-1?w:b,G)}!r&&i&&B&&t[b].componentProviders++}}}function r_(n,e,t,i){let r=Ks(e),o=GF(e);if(r||o){let l=(o?Yt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[i,l]):u[h+1].push(i,l)}else u.push(t,l)}}}function EA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function o_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function g4(n,e,t,i){return o0(this.multi,[])}function _4(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Fo(t,t[le],this.providerFactory.index,i);o=a.slice(0,s),o0(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],o0(r,o);return o}function o0(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function v4(n,e,t,i,r){let o=new Oo(n,t,F);return o.multi=[],o.index=e,o.componentProviders=0,EA(o,r,i&&!t),o}function er(n,e=[]){return t=>{t.providersResolver=(i,r)=>m4(i,r?r(n):n,e)}}var y4=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=IS(!1,t.type),r=i.length>0?ev([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(K(Sn))})}}return n})();function He(n){Xi("NgStandalone"),n.getStandaloneInjector=e=>e.get(y4).getOrCreateStandaloneInjector(n)}function je(n,e,t,i){return IA(we(),Zl(),n,e,t,i)}function Me(n,e,t,i,r){return C4(we(),Zl(),n,e,t,i,r)}function bA(n,e,t,i,r,o,s){return w4(we(),Zl(),n,e,t,i,r,o,s)}function nv(n,e,t,i,r,o,s,a){let l=Zl()+n,u=we(),h=mA(u,l,t,i,r,o);return Kn(u,l+4,s)||h?Vh(u,l+5,a?e.call(a,t,i,r,o,s):e(t,i,r,o,s)):DV(u,l+5)}function iv(n,e){let t=n[e];return t===wi?void 0:t}function IA(n,e,t,i,r,o){let s=e+t;return Kn(n,s,r)?Vh(n,s+1,o?i.call(o,r):i(r)):iv(n,s+1)}function C4(n,e,t,i,r,o,s){let a=e+t;return W_(n,a,r,o)?Vh(n,a+2,s?i.call(s,r,o):i(r,o)):iv(n,a+2)}function w4(n,e,t,i,r,o,s,a,l){let u=e+t;return mA(n,u,r,o,s,a)?Vh(n,u+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):iv(n,u+4)}function Hh(n,e){let t=bt(),i,r=n+Jt;t.firstCreatePass?(i=E4(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=xo(i.type,!0)),s,a=cn(F);try{let l=Xd(!1),u=o();return Xd(l),f4(t,we(),r,u),u}finally{cn(a)}}function E4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function zh(n,e,t){let i=n+Jt,r=we(),o=FS(r,i);return b4(r,i)?IA(r,Zl(),e,o.transform,t,o):o.transform(t)}function b4(n,e){return n[le].data[e].pure}var Gi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},TA=new Gi("18.2.8");var qh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var SA=new Z("");function Qr(n){return!!n&&typeof n.then=="function"}function rv(n){return!!n&&typeof n.subscribe=="function"}var DA=new Z(""),AA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=W(DA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(Qr(o))t.push(o);else if(rv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ov=new Z("");function I4(){lT(()=>{throw new j(600,!1)})}function T4(n){return n.isBoundToModule}var S4=10;function D4(n,e,t){try{let i=t();return Qr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var jo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(K2),this.afterRenderManager=W(NV),this.zonelessEnabled=W(Lh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=W(ta).hasPendingTasks.pipe(de(t=>!t)),this._injector=W(Sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof sh;if(!this._injector.get(AA).done){let y=!r&&CS(t),w=!1;throw new j(405,w)}let s;r?s=t:s=this._injector.get(Js).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=T4(s)?void 0:this._injector.get(zr),l=i||s.selector,u=s.create(zt.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(SA,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),$d(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let t=Se(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Se(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Hr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<S4;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)A4(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;$d(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(ov,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$d(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $d(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function A4(n,e,t,i){if(!t&&!wh(n))return;oA(n,e,t&&!i?0:1)}var s0=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},sv=(()=>{class n{compileModuleSync(t){return new G_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=wS(t),o=kD(r.declarations).reduce((s,a)=>{let l=Mo(a);return l&&s.push(new ql(l)),s},[]);return new s0(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var x4=(()=>{class n{constructor(){this.zone=W(xe),this.changeDetectionScheduler=W(Zs),this.applicationRef=W(jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M4=new Z("",{factory:()=>!1});function xA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(ce(U({},PA()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Ws,multi:!0,useFactory:()=>{let i=W(x4,{optional:!0});return()=>i.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let i=W(P4);return()=>{i.initialize()}}},e===!0?{provide:cA,useValue:!0}:[],{provide:uA,useValue:t??hD}]}function MA(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=xA({ngZoneFactory:()=>{let r=PA(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Xi("NgZone_CoalesceEvent"),new xe(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Dn([{provide:M4,useValue:!0},{provide:Lh,useValue:!1},i])}function PA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var P4=(()=>{class n{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=W(xe),this.pendingTasks=W(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var N4=(()=>{class n{constructor(){this.appRef=W(jo),this.taskService=W(ta),this.ngZone=W(xe),this.zonelessEnabled=W(Lh),this.disableScheduling=W(cA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(uA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof T_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?AT:pD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R4(){return typeof $localize<"u"&&$localize.locale||fh}var av=new Z("",{providedIn:"root",factory:()=>W(av,ye.Optional|ye.SkipSelf)||R4()});var a0=new Z("");function Ld(n){return!n.moduleRef}function k4(n){let e=Ld(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Ld(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Wn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Ld(n)){let o=()=>e.destroy(),s=n.platformInjector.get(a0);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(a0);s.add(o),n.moduleRef.onDestroy(()=>{$d(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return D4(i,t,()=>{let o=e.get(AA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(av,fh);if(c4(s||fh),Ld(n)){let a=e.get(jo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return O4(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function O4(n,e){let t=n.injector.get(jo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new j(-403,!1);e.push(n)}var Hd=null;function F4(n=[],e){return zt.create({name:e,providers:[{provide:_h,useValue:"platform"},{provide:a0,useValue:new Set([()=>Hd=null])},...n]})}function L4(n=[]){if(Hd)return Hd;let e=F4(n);return Hd=e,I4(),V4(e),e}function V4(n){n.get(k0,null)?.forEach(t=>t())}function NA(){return!1}var Ei=(()=>{class n{static{this.__NG_ELEMENT_ID__=B4}}return n})();function B4(n){return U4(qt(),we(),(n&16)===16)}function U4(n,e,t){if(yh(n)&&!t){let i=qr(n.index,e);return new Lo(i,i)}else if(n.type&175){let i=e[Gn];return new Lo(i,e)}return null}var l0=class{constructor(){}supports(e){return pA(e)}create(e){return new c0(e)}},j4=(n,e)=>e,c0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||j4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<JT(i,r,o)?t:i,a=JT(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,h=l-r;if(u!=h){for(let y=0;y<u;y++){let w=y<o.length?o[y]:o[y]=0,b=w+y;h<=b&&b<u&&(o[y]=w+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!pA(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,SV(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new u0(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ph),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ph),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},u0=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},d0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},ph=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new d0,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JT(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var h0=class{constructor(){}supports(e){return e instanceof Map||tv(e)}create(){return new f0}},f0=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||tv(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new p0(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},p0=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function XT(){return new lv([new l0])}var lv=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:XT})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||XT()),deps:[[n,new _0,new ft]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new j(901,!1)}}return n})();function eS(){return new cv([new h0])}var cv=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:eS})}constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||eS()),deps:[[n,new _0,new ft]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new j(901,!1)}}return n})();function RA(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=L4(i),o=[xA({}),{provide:Zs,useExisting:N4},...t||[]],s=new ch({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return k4({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function sa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function rc(n,e){Xi("NgSignals");let t=oT(n);return e?.equal&&(t[Or].equal=e.equal),t}function Xn(n){let e=Se(null);try{return n()}finally{Se(e)}}var tr=new Gi("ANGULARFIRE2_VERSION");function la(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ho=(n,e)=>{let t=e?[e]:Zu(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Yr=class{constructor(){return Ho($4)}},$4="app-check";function aa(){}var Gh=class{zone;delegate;constructor(e,t=Ag){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},uv=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),t.pipe(ae({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Gh(Zone.current)),this.insideAngular=t.run(()=>new Gh(Zone.current,Os)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(K(xe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function H4(n){return Wh().ngZone.runOutsideAngular(()=>n())}function $o(n){return Wh().ngZone.run(()=>n())}function z4(n){return q4(Wh())(n)}function q4(n){return function(t){return t=t.lift(new uv(n.ngZone)),t.pipe(Mr(n.outsideAngular),xr(n.insideAngular))}}var G4=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$o(()=>n.apply(void 0,i))},ct=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa))),i[o]=G4(i[o],t));let r=H4(()=>n.apply(this,i));if(!e)if(r instanceof ue){let o=Wh();return r.pipe(Mr(o.outsideAngular),xr(o.insideAngular))}else return $o(()=>r);return r instanceof ue?r.pipe(z4):r instanceof Promise?$o(()=>new Promise((o,s)=>r.then(a=>$o(()=>o(a)),a=>$o(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:$o(()=>r)};var ei=class{constructor(e){return e}},nr=class{constructor(){return Zu()}};function W4(n){return n&&n.length===1?n[0]:new ei(Ar())}var dv=new Z("angularfire2._apps"),K4={provide:ei,useFactory:W4,deps:[[new ft,dv]]},Q4={provide:nr,deps:[[new ft,dv]]};function Y4(n){return(e,t)=>{let i=t.get(Mn);et("angularfire",tr.full,"core"),et("angularfire",tr.full,"app"),et("angular",TA.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new ei(r)}}function kA(n,...e){return Dn([K4,Q4,{provide:dv,useFactory:Y4(n),multi:!0,deps:[xe,zt,Zr,...e]}])}var OA=ct(gg,!0);function YA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZA=YA,JA=new ji("auth","Firebase",YA());var Xh=new li("@firebase/auth");function Z4(n,...e){Xh.logLevel<=Ne.WARN&&Xh.warn(`Auth (${hi}): ${n}`,...e)}function Qh(n,...e){Xh.logLevel<=Ne.ERROR&&Xh.error(`Auth (${hi}): ${n}`,...e)}function Ii(n,...e){throw xv(n,...e)}function ti(n,...e){return xv(n,...e)}function Av(n,e,t){let i=Object.assign(Object.assign({},ZA()),{[e]:t});return new ji("auth","Firebase",i).create(e,{appName:n.name})}function zo(n){return Av(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J4(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ii(n,"argument-error"),Av(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xv(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return JA.create(n,...e)}function se(n,e,...t){if(!n)throw xv(e,...t)}function ir(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Qh(e),new Error(e)}function or(n,e){n||ir(e)}function pv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X4(){return FA()==="http:"||FA()==="https:"}function FA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function eB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||nI()||"connection"in navigator)?navigator.onLine:!0}function tB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var qo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,or(t>e,"Short delay should be less than long delay!"),this.isMobile=Cl()||Ku()}get(){return eB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Mv(n,e){or(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ef=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var nB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iB=new qo(3e4,6e4);function Pv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function da(o,s,a,l){return k(this,arguments,function*(n,e,t,i,r={}){return XA(n,r,()=>k(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=Sr(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:y},u);return tI()||(w.referrerPolicy="no-referrer"),ef.fetch()(e1(n,n.config.apiHost,t,p),w)}))})}function XA(n,e,t){return k(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},nB),e);try{let r=new mv(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Kh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Kh(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Kh(n,"user-disabled",s);let h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Av(n,h,u);Ii(n,h)}}catch(r){if(r instanceof gn)throw r;Ii(n,"network-request-failed",{message:String(r)})}})}function rB(o,s,a,l){return k(this,arguments,function*(n,e,t,i,r={}){let u=yield da(n,e,t,i,r);return"mfaPendingCredential"in u&&Ii(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function e1(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Mv(n.config,r):`${n.config.apiScheme}://${r}`}var mv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ti(this.auth,"network-request-failed")),iB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=ti(n,e,i);return r.customData._tokenResponse=t,r}function oB(n,e){return k(this,null,function*(){return da(n,"POST","/v1/accounts:delete",e)})}function t1(n,e){return k(this,null,function*(){return da(n,"POST","/v1/accounts:lookup",e)})}function oc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nv(n,e=!1){return k(this,null,function*(){let t=Ct(n),i=yield t.getIdToken(e),r=Rv(i);se(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:oc(hv(r.auth_time)),issuedAtTime:oc(hv(r.iat)),expirationTime:oc(hv(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hv(n){return Number(n)*1e3}function Rv(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{let r=yl(t);return r?JSON.parse(r):(Qh("Failed to decode base64 JWT payload"),null)}catch(r){return Qh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LA(n){let e=Rv(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ac(n,e,t=!1){return k(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof gn&&sB(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function sB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var gv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>k(this,null,function*(){yield this.iteration()}),t)}iteration(){return k(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var lc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tf(n){return k(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield ac(n,t1(t,{idToken:i}));se(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?n1(o.providerUserInfo):[],a=aB(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function kv(n){return k(this,null,function*(){let e=Ct(n);yield tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function aB(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function n1(n){return n.map(e=>{var{providerId:t}=e,i=ld(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function lB(n,e){return k(this,null,function*(){let t=yield XA(n,{},()=>k(this,null,function*(){let i=Sr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=e1(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ef.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function cB(n,e){return k(this,null,function*(){return da(n,"POST","/v2/accounts:revokeToken",Pv(n,e))})}var sc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=LA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return k(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return k(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield lB(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(se(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(se(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Jr(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ua=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=ld(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return k(this,null,function*(){let t=yield ac(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Nv(this,e)}reload(){return kv(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return k(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield tf(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return k(this,null,function*(){if(di(this.auth.app))return Promise.reject(zo(this.auth));let e=yield this.getIdToken();return yield ac(this,oB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,u,h;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,B=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,G=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:he,isAnonymous:dt,providerData:ve,stsTokenManager:A}=t;se(ne&&A,e,"internal-error");let E=sc.fromJSON(this.name,A);se(typeof ne=="string",e,"internal-error"),Jr(p,e.name),Jr(y,e.name),se(typeof he=="boolean",e,"internal-error"),se(typeof dt=="boolean",e,"internal-error"),Jr(w,e.name),Jr(b,e.name),Jr(R,e.name),Jr(B,e.name),Jr(G,e.name),Jr(J,e.name);let S=new n({uid:ne,auth:e,email:y,emailVerified:he,displayName:p,isAnonymous:dt,photoURL:b,phoneNumber:w,tenantId:R,stsTokenManager:E,createdAt:G,lastLoginAt:J});return ve&&Array.isArray(ve)&&(S.providerData=ve.map(x=>Object.assign({},x))),B&&(S._redirectEventId=B),S}static _fromIdTokenResponse(e,t,i=!1){return k(this,null,function*(){let r=new sc;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield tf(o),o})}static _fromGetAccountInfoResponse(e,t,i){return k(this,null,function*(){let r=t.users[0];se(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?n1(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new sc;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new lc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var VA=new Map;function rr(n){or(n instanceof Function,"Expected a class definition");let e=VA.get(n);return e?(or(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VA.set(n,e),e)}var uB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return k(this,null,function*(){return!0})}_set(t,i){return k(this,null,function*(){this.storage[t]=i})}_get(t){return k(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return k(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),_v=uB;function Yh(n,e,t){return`firebase:${n}:${e}:${t}`}var nf=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Yh(this.userKey,r.apiKey,o),this.fullPersistenceKey=Yh("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return k(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ua._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return k(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return k(this,null,function*(){if(!t.length)return new n(rr(_v),e,i);let r=(yield Promise.all(t.map(u=>k(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||rr(_v),s=Yh(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=ua._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>k(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,i))})}};function BA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(c1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(a1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function i1(n=xt()){return/firefox\//i.test(n)}function r1(n=xt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(n=xt()){return/crios\//i.test(n)}function s1(n=xt()){return/iemobile/i.test(n)}function a1(n=xt()){return/android/i.test(n)}function l1(n=xt()){return/blackberry/i.test(n)}function c1(n=xt()){return/webos/i.test(n)}function Ov(n=xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dB(n=xt()){var e;return Ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hB(){return iI()&&document.documentMode===10}function u1(n=xt()){return Ov(n)||a1(n)||c1(n)||l1(n)||/windows phone/i.test(n)||s1(n)}function d1(n,e=[]){let t;switch(n){case"Browser":t=BA(xt());break;case"Worker":t=`${BA(xt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hi}/${i}`}var vv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return k(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function fB(t){return k(this,arguments,function*(n,e={}){return da(n,"GET","/v2/passwordPolicy",Pv(n,e))})}var pB=6,yv=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:pB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cv=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new vv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rr(t)),this._initializationPromise=this.queue(()=>k(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield nf.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return k(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return k(this,null,function*(){try{let t=yield t1(this,{idToken:e}),i=yield ua._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return k(this,null,function*(){var t;if(di(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return k(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return k(this,null,function*(){try{yield tf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=tB()}_delete(){return k(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return k(this,null,function*(){if(di(this.app))return Promise.reject(zo(this));let t=e?Ct(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return k(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>k(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return k(this,null,function*(){return di(this.app)?Promise.reject(zo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return di(this.app)?Promise.reject(zo(this)):this.queue(()=>k(this,null,function*(){yield this.assertedPersistence.setPersistence(rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return k(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return k(this,null,function*(){let e=yield fB(this),t=new yv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return k(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cB(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return k(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return k(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&rr(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield nf.create(this,[rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return k(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>k(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return k(this,null,function*(){if(e===this.currentUser)return this.queue(()=>k(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return k(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return k(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return k(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Z4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function hf(n){return Ct(n)}var rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lI(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fv={loadJS(){return k(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mB(n){Fv=n}function gB(n){return Fv.loadJS(n)}function _B(){return Fv.gapiScript}function h1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Lv(n,e){let t=Eo(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Co(o,e??{}))return r;Ii(r,"already-initialized")}return t.initialize({options:e})}function vB(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(rr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Vv(n,e,t){let i=hf(n);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=f1(e),{host:s,port:a}=yB(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||CB()}function f1(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yB(n){let e=f1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:UA(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:UA(s)}}}function UA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function CB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var cc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function ca(n,e){return k(this,null,function*(){return rB(n,"POST","/v1/accounts:signInWithIdp",Pv(n,e))})}var wB="http://localhost",of=class n extends cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=ld(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return ca(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,ca(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ca(e,t)}buildRequest(){let e={requestUri:wB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sr(t)}return e}};var uc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sf=class extends uc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Bv=(()=>{class n extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return of._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var dc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return k(this,null,function*(){let o=yield ua._fromIdTokenResponse(e,i,r),s=jA(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return k(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=jA(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function jA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var wv=class n extends gn{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function p1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wv._fromErrorAndOperation(n,o,e,i):o})}function EB(n,e,t=!1){return k(this,null,function*(){let i=yield ac(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return dc._forOperation(n,"link",i)})}function bB(n,e,t=!1){return k(this,null,function*(){let{auth:i}=n;if(di(i.app))return Promise.reject(zo(i));let r="reauthenticate";try{let o=yield ac(n,p1(i,r,e,n),t);se(o.idToken,i,"internal-error");let s=Rv(o.idToken);se(s,i,"internal-error");let{sub:a}=s;return se(n.uid===a,i,"user-mismatch"),dc._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ii(i,"user-mismatch"),o}})}function IB(n,e,t=!1){return k(this,null,function*(){if(di(n.app))return Promise.reject(zo(n));let i="signIn",r=yield p1(n,i,e),o=yield dc._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function fc(n,e,t,i){return Ct(n).onIdTokenChanged(e,t,i)}function Uv(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function ff(n,e,t,i){return Ct(n).onAuthStateChanged(e,t,i)}function jv(n){return Ct(n).signOut()}var af="__sak";var lf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var TB=1e3,SB=10,DB=(()=>{class n extends lf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);hB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,SB):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},TB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return k(this,null,function*(){yield Tr(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return k(this,null,function*(){let i=yield Tr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return k(this,null,function*(){yield Tr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),m1=DB;var AB=(()=>{class n extends lf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),$v=AB;function xB(n){return Promise.all(n.map(e=>k(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var MB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return k(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(h=>k(this,null,function*(){return h(i.origin,s)})),u=yield xB(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Hv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Ev=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return k(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=Hv("",20);r.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){let y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function bi(){return window}function PB(n){bi().location.href=n}function g1(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}function NB(){return k(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function RB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kB(){return g1()?self:null}var _1="firebaseLocalStorageDb",OB=1,cf="firebaseLocalStorage",v1="fbase_key",Go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function pf(n,e){return n.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function FB(){let n=indexedDB.deleteDatabase(_1);return new Go(n).toPromise()}function bv(){let n=indexedDB.open(_1,OB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(cf,{keyPath:v1})}catch(r){t(r)}}),n.addEventListener("success",()=>k(this,null,function*(){let i=n.result;i.objectStoreNames.contains(cf)?e(i):(i.close(),yield FB(),e(yield bv()))}))})}function $A(n,e,t){return k(this,null,function*(){let i=pf(n,!0).put({[v1]:e,value:t});return new Go(i).toPromise()})}function LB(n,e){return k(this,null,function*(){let t=pf(n,!1).get(e),i=yield new Go(t).toPromise();return i===void 0?null:i.value})}function HA(n,e){let t=pf(n,!0).delete(e);return new Go(t).toPromise()}var VB=800,BB=3,UB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return k(this,null,function*(){return this.db?this.db:(this.db=yield bv(),this.db)})}_withRetries(t){return k(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>BB)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return k(this,null,function*(){return g1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return k(this,null,function*(){this.receiver=MB._getInstance(kB()),this.receiver._subscribe("keyChanged",(t,i)=>k(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>k(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return k(this,null,function*(){var t,i;if(this.activeServiceWorker=yield NB(),!this.activeServiceWorker)return;this.sender=new Ev(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return k(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||RB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return k(this,null,function*(){try{if(!indexedDB)return!1;let t=yield bv();return yield $A(t,af,"1"),yield HA(t,af),!0}catch{}return!1})}_withPendingWrite(t){return k(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return k(this,null,function*(){return this._withPendingWrite(()=>k(this,null,function*(){return yield this._withRetries(r=>$A(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return k(this,null,function*(){let i=yield this._withRetries(r=>LB(r,t));return this.localCache[t]=i,i})}_remove(t){return k(this,null,function*(){return this._withPendingWrite(()=>k(this,null,function*(){return yield this._withRetries(i=>HA(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return k(this,null,function*(){let t=yield this._withRetries(o=>{let s=pf(o,!1).getAll();return new Go(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>k(this,null,function*(){return this._poll()}),VB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),y1=UB;var Hse=h1("rcb"),zse=new qo(3e4,6e4);function C1(n,e){return e?rr(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hc=class extends cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function jB(n){return IB(n.auth,new hc(n),n.bypassAuthState)}function $B(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),bB(t,new hc(n),n.bypassAuthState)}function HB(n){return k(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),EB(t,new hc(n),n.bypassAuthState)})}var uf=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>k(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return k(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jB;case"linkViaPopup":case"linkViaRedirect":return HB;case"reauthViaPopup":case"reauthViaRedirect":return $B;default:Ii(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var zB=new qo(2e3,1e4);function zv(n,e,t){return k(this,null,function*(){if(di(n.app))return Promise.reject(ti(n,"operation-not-supported-in-this-environment"));let i=hf(n);J4(n,e,uc);let r=C1(i,t);return new qB(i,"signInViaPopup",e,r).executeNotNull()})}var qB=(()=>{class n extends uf{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return k(this,null,function*(){let t=yield this.execute();return se(t,this.auth,"internal-error"),t})}onExecution(){return k(this,null,function*(){or(this.filter.length===1,"Popup operations only handle one event");let t=Hv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zB.get())};t()}}n.currentPopupAction=null;return n})(),GB="pendingRedirect",Zh=new Map,Iv=class n extends uf{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return k(this,null,function*(){let e=Zh.get(this.auth._key());if(!e){try{let i=(yield WB(this.resolver,this.auth))?yield Tr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return k(this,null,function*(){if(e.type==="signInViaRedirect")return Tr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Tr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return k(this,null,function*(){})}cleanUp(){}};function WB(n,e){return k(this,null,function*(){let t=YB(e),i=QB(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function KB(n,e){Zh.set(n._key(),e)}function QB(n){return rr(n._redirectPersistence)}function YB(n){return Yh(GB,n.config.apiKey,n.name)}function ZB(n,e,t=!1){return k(this,null,function*(){if(di(n.app))return Promise.reject(zo(n));let i=hf(n),r=C1(i,e),s=yield new Iv(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var JB=10*60*1e3,Tv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!w1(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JB&&this.cachedEventUids.clear(),this.cachedEventUids.has(zA(e))}saveEventToCache(e){this.cachedEventUids.add(zA(e)),this.lastProcessedEventTime=Date.now()}};function zA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function w1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(n);default:return!1}}function e3(t){return k(this,arguments,function*(n,e={}){return da(n,"GET","/v1/projects",e)})}var t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;function i3(n){return k(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield e3(n);for(let t of e)try{if(r3(t))return}catch{}Ii(n,"unauthorized-domain")})}function r3(n){let e=pv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!n3.test(t))return!1;if(t3.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var o3=new qo(3e4,6e4);function qA(){let n=bi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s3(n){return new Promise((e,t)=>{var i,r,o;function s(){qA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qA(),t(ti(n,"network-request-failed"))},timeout:o3.get()})}if(!((r=(i=bi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)s();else{let a=h1("iframefcb");return bi()[a]=()=>{gapi.load?s():t(ti(n,"network-request-failed"))},gB(`${_B()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Jh=null,e})}var Jh=null;function a3(n){return Jh=Jh||s3(n),Jh}var l3=new qo(5e3,15e3),c3="__/auth/iframe",u3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f3(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Mv(e,u3):`https://${n.config.authDomain}/${c3}`,i={apiKey:e.apiKey,appName:n.name,v:hi},r=h3.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Sr(i).slice(1)}`}function p3(n){return k(this,null,function*(){let e=yield a3(n),t=bi().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:f3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},i=>new Promise((r,o)=>k(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=ti(n,"network-request-failed"),a=bi().setTimeout(()=>{o(s)},l3.get());function l(){bi().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var m3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g3=500,_3=600,v3="_blank",y3="http://localhost",df=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function C3(n,e,t,i=g3,r=_3){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},m3),{width:i.toString(),height:r.toString(),top:o,left:s}),u=xt().toLowerCase();t&&(a=o1(u)?v3:t),i1(u)&&(e=e||y3,l.scrollbars="yes");let h=Object.entries(l).reduce((y,[w,b])=>`${y}${w}=${b},`,"");if(dB(u)&&a!=="_self")return w3(e||"",a),new df(null);let p=window.open(e||"",a,h);se(p,n,"popup-blocked");try{p.focus()}catch{}return new df(p)}function w3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var E3="__/auth/handler",b3="emulator/auth/handler",I3=encodeURIComponent("fac");function GA(n,e,t,i,r,o){return k(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:hi,eventId:r};if(e instanceof uc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wl(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof sf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),u=l?`#${I3}=${encodeURIComponent(l)}`:"";return`${T3(n)}?${Sr(a).slice(1)}${u}`})}function T3({config:n}){return n.emulator?Mv(n,b3):`https://${n.authDomain}/${E3}`}var fv="webStorageSupport",Sv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$v,this._completeRedirectFn=ZB,this._overrideRedirectResult=KB}_openPopup(e,t,i,r){return k(this,null,function*(){var o;or((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield GA(e,t,i,pv(),r);return C3(e,s,Hv())})}_openRedirect(e,t,i,r){return k(this,null,function*(){yield this._originValidation(e);let o=yield GA(e,t,i,pv(),r);return PB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(or(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return k(this,null,function*(){let t=yield p3(e),i=new Tv(e);return t.register("authEvent",r=>(se(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fv,{type:fv},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[fv];s!==void 0&&t(!!s),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u1()||r1()||Ov()}},E1=Sv;var WA="@firebase/auth",KA="1.7.9";var Dv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return k(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function S3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(n){ui(new sn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(n)},u=new Cv(i,r,o,l);return vB(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ui(new sn("auth-internal",e=>{let t=hf(e.getProvider("auth").getImmediate());return(i=>new Dv(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(WA,KA,S3(n)),et(WA,KA,"esm2017")}var A3=5*60,x3=tg("authIdTokenMaxAge")||A3,QA=null,M3=n=>e=>k(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>x3)return;let r=t?.token;QA!==r&&(QA=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function qv(n=Ar()){let e=Eo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Lv(n,{popupRedirectResolver:E1,persistence:[y1,m1,$v]}),i=tg("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=M3(o.toString());Uv(t,s,()=>s(t.currentUser)),fc(t,a=>s(a))}}let r=Xm("auth");return r&&Vv(t,`http://${r}`),t}function P3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mB({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=ti("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",P3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");function I1(n){return new ue(function(e){var t=ff(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function T1(n){return new ue(function(e){var t=fc(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var S1="auth",sr=class{constructor(e){return e}},Wo=class{constructor(){return Ho(S1)}};var Gv=new Z("angularfire2.auth-instances");function wU(n,e){let t=la(S1,n,e);return t&&new sr(t)}function EU(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new sr(i)}}var bU={provide:Wo,deps:[[new ft,Gv]]},IU={provide:sr,useFactory:wU,deps:[[new ft,Gv],ei]};function D1(n,...e){return et("angularfire",tr.full,"auth"),Dn([IU,bU,{provide:Gv,useFactory:EU(n),multi:!0,deps:[xe,zt,Zr,nr,[new ft,Yr],...e]}])}var A1=ct(I1,!0),x1=ct(T1,!0);var M1=ct(qv,!0);var P1=ct(zv,!0);var N1=ct(jv,!0);var k1="@firebase/database",O1="1.0.8";var Jy="";function TU(n){Jy=n}var ey=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:bs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ty=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var hx=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ey(e)}}catch{}return new ty},Qo=hx("localStorage"),ny=hx("sessionStorage");var pa=new li("@firebase/database"),SU=function(){let n=1;return function(){return n++}}(),fx=function(n){let e=cI(n),t=new zu;t.update(e);let i=t.digest();return qu.encodeByteArray(i)},kc=function(...n){let e="";for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=kc.apply(null,i):typeof i=="object"?e+=pt(i):e+=i,e+=" "}return e},Yo=null,F1=!0,DU=function(n,e){$(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(pa.logLevel=Ne.VERBOSE,Yo=pa.log.bind(pa),e&&ny.set("logging_enabled",!0)):typeof n=="function"?Yo=n:(Yo=null,ny.remove("logging_enabled"))},Rt=function(...n){if(F1===!0&&(F1=!1,Yo===null&&ny.get("logging_enabled")===!0&&DU(!0)),Yo){let e=kc.apply(null,n);Yo(e)}},Oc=function(n){return function(...e){Rt(n,...e)}},iy=function(...n){let e="FIREBASE INTERNAL ERROR: "+kc(...n);pa.error(e)},ar=function(...n){let e=`FIREBASE FATAL ERROR: ${kc(...n)}`;throw pa.error(e),new Error(e)},en=function(...n){let e="FIREBASE WARNING: "+kc(...n);pa.warn(e)},AU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&en("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xy=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xU=function(n){if(ai()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Jo="[MIN_NAME]",no="[MAX_NAME]",es=function(n,e){if(n===e)return 0;if(n===Jo||e===no)return-1;if(e===Jo||n===no)return 1;{let t=L1(n),i=L1(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},MU=function(n,e){return n===e?0:n<e?-1:1},pc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+pt(e))},eC=function(n){if(typeof n!="object"||n===null)return pt(n);let e=[];for(let i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=pt(e[i]),t+=":",t+=eC(n[e[i]]);return t+="}",t},px=function(n,e){let t=n.length;if(t<=e)return[n];let i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function kt(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var mx=function(n){$(!Xy(n),"Invalid JSON number");let e=11,t=52,i=(1<<e-1)-1,r,o,s,a,l;n===0?(o=0,s=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-i-t))));let u=[];for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();let h=u.join(""),p="";for(l=0;l<64;l+=8){let y=parseInt(h.substr(l,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},PU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function RU(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}var kU=new RegExp("^-?(0*)\\d{1,10}$"),OU=-2147483648,FU=2147483647,L1=function(n){if(kU.test(n)){let e=Number(n);if(e>=OU&&e<=FU)return e}return null},Ta=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw en("Exception was thrown by user callback.",t),e},Math.floor(0))}},LU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yc=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var ry=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){en(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var oy=class{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',en(e)}},Cc=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),gf="5",gx="v",_x="s",vx="r",yx="f",Cx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wx="ls",Ex="p",sy="ac",bx="websocket",Ix="long_polling";var _f=class{constructor(e,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function VU(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Tx(n,e,t){$(typeof e=="string","typeof type must == string"),$(typeof t=="object","typeof params must == object");let i;if(e===bx)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Ix)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VU(n)&&(t.ns=n.namespace);let r=[];return kt(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var ay=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Xb(this.counters_)}};var Wv={},Kv={};function tC(n){let e=n.toString();return Wv[e]||(Wv[e]=new ay),Wv[e]}function BU(n,e){let t=n.toString();return Kv[t]||(Kv[t]=e()),Kv[t]}var ly=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ta(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var V1="start",UU="close",jU="pLPCommand",$U="pRTLPCB",Sx="id",Dx="pw",Ax="ser",HU="cb",zU="seg",qU="ts",GU="d",WU="dframe",xx=1870,Mx=30,KU=xx-Mx,QU=25e3,YU=3e4,cy=class n{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oc(e),this.stats_=tC(t),this.urlFn=l=>(this.appCheckToken&&(l[sy]=this.appCheckToken),Tx(t,Ix,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ly(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YU)),xU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uy((...o)=>{let[s,a,l,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===V1)this.id=a,this.password=l;else if(s===UU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[V1]="t",i[Ax]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[HU]=this.scriptTagHolder.uniqueCallbackIdentifier),i[gx]=gf,this.transportSessionId&&(i[_x]=this.transportSessionId),this.lastSessionId&&(i[wx]=this.lastSessionId),this.applicationId&&(i[Ex]=this.applicationId),this.appCheckToken&&(i[sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cx.test(location.hostname)&&(i[vx]=yx);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return ai()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PU()&&!NU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=pt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=Zm(t),r=px(i,KU);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ai())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[WU]="t",i[Sx]=e,i[Dx]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=pt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},uy=class n{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ai())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=SU(),window[jU+this.uniqueCallbackIdentifier]=e,window[$U+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Rt("frame writing exception"),a.stack&&Rt(a.stack),Rt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Sx]=this.myID,e[Dx]=this.myPW,e[Ax]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Mx+i.length<=xx;){let s=this.pendingSegs.shift();i=i+"&"+zU+r+"="+s.seg+"&"+qU+r+"="+s.ts+"&"+GU+r+"="+s.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(QU)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){ai()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var ZU=16384,JU=45e3,vf=null;typeof MozWebSocket<"u"?vf=MozWebSocket:typeof WebSocket<"u"&&(vf=WebSocket);var mc=(()=>{class n{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oc(this.connId),this.stats_=tC(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){let a={};return a[gx]=gf,!ai()&&typeof location<"u"&&location.hostname&&Cx.test(location.hostname)&&(a[vx]=yx),i&&(a[_x]=i),r&&(a[wx]=r),o&&(a[sy]=o),s&&(a[Ex]=s),Tx(t,bx,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qo.set("previous_websocket_failure",!0);try{let r;if(ai()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${gf}/${Jy}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new vf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&vf!==null&&!n.forceDisallow_}static previouslyFailed(){return Qo.isInMemoryStorage||Qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=bs(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=pt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=px(i,ZU);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JU))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),XU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[cy,mc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let i=mc&&mc.isAvailable(),r=i&&!mc.previouslyFailed();if(t.webSocketOnly&&(i||en("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mc];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),ej=6e4,tj=5e3,nj=10*1024,ij=100*1024,Qv="t",B1="d",rj="s",U1="r",oj="e",j1="o",$1="a",H1="n",z1="p",sj="h",dy=class{constructor(e,t,i,r,o,s,a,l,u,h){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oc("c:"+this.id+":"),this.transportManager_=new XU(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ij?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qv in e){let t=e[Qv];t===$1?this.upgradeIfSecondaryHealthy_():t===U1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===j1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=pc("t",e),i=pc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:z1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:H1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=pc("t",e),i=pc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=pc(Qv,e);if(B1 in e){let i=e[B1];if(t===sj){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===H1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===rj?this.onConnectionShutdown_(i):t===U1?this.onReset_(i):t===oj?iy("Server Error: "+i):t===j1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iy("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),gf!==i&&en("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ej))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:z1,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var yf=class{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}};var Cf=class{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){$(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var wf=class n extends Cf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var q1=32,G1=768,Be=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Fe(){return new Be("")}function Ee(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function io(n){return n.pieces_.length-n.pieceNum_}function Qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Be(n.pieces_,e)}function nC(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function aj(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Ic(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Px(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Be(e,0)}function ut(n,e){let t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Be)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Be(t,0)}function be(n){return n.pieceNum_>=n.pieces_.length}function Xt(n,e){let t=Ee(n),i=Ee(e);if(t===null)return e;if(t===i)return Xt(Qe(n),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function lj(n,e){let t=Ic(n,0),i=Ic(e,0);for(let r=0;r<t.length&&r<i.length;r++){let o=es(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function iC(n,e){if(io(n)!==io(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Pn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(io(n)>io(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}var hy=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Ic(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=bl(this.parts_[i]);Nx(this)}};function cj(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=bl(e),Nx(n)}function uj(n){let e=n.parts_.pop();n.byteLength_-=bl(e),n.parts_.length>0&&(n.byteLength_-=1)}function Nx(n){if(n.byteLength_>G1)throw new Error(n.errorPrefix_+"has a key path longer than "+G1+" bytes ("+n.byteLength_+").");if(n.parts_.length>q1)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+q1+") or object contains a cycle "+Ko(n))}function Ko(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var fy=class n extends Cf{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new n}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}};var gc=1e3,dj=60*5*1e3,W1=30*1e3,hj=1.3,fj=3e4,pj="server_kill",K1=3,rC=(()=>{class n extends yf{constructor(t,i,r,o,s,a,l,u){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=Oc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gc,this.maxReconnectDelay_=dj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!ai())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fy.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(pt(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();let i=new Ui,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(t,i,r,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,l=>{let u=l.d,h=l.s;n.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(h,u))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Un(t,"w")){let r=yo(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();en(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||aI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=W1)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=sI(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);let s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pt(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):iy("Unrecognized action received from server: "+pt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fj&&(this.reconnectDelay_=gc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hj)}this.onConnectStatus_(!1)}establishConnection_(){return k(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())},h=function(y){$(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(y)};this.realtime_={close:u,sendRequest:h};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[y,w]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,l=new dy(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,b=>{en(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(pj)},s))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&en(y),u())}}})}interrupt(t){Rt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Rt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],wl(this.interruptReasons_)&&(this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(s=>eC(s)).join("$"):r="default";let o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){let r=new Be(t).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Rt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=K1&&(this.reconnectDelay_=W1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Rt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=K1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";ai()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+Jy.replace(/\./g,"-")]=1,Cl()?t["framework.cordova"]=1:Ku()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=wf.getInstance().currentlyOnline();return wl(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Ie=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var ma=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new Ie(Jo,e),r=new Ie(Jo,t);return this.compare(i,r)!==0}minPost(){return Ie.MIN}};var mf,Ef=class extends ma{static get __EMPTY_NODE(){return mf}static set __EMPTY_NODE(e){mf=e}compare(e,t){return es(e.name,t.name)}isDefinedOn(e){throw vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(no,mf)}makePost(e,t){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,mf)}toString(){return".key"}},Zo=new Ef;var fa=class{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?i(e.key,t):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ni=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Nn.EMPTY_NODE,this.right=s??Nn.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this,s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Nn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),py=class{copy(e,t,i,r,o){return this}insert(e,t,i){return new ni(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Nn=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fa(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fa(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fa(this.root_,null,this.comparator_,!0,e)}};Nn.EMPTY_NODE=new py;function mj(n,e){return es(n.name,e.name)}function oC(n,e){return es(n,e)}var my;function gj(n){my=n}var Rx=function(n){return typeof n=="number"?"number:"+mx(n):"string:"+n},kx=function(n){if(n.isLeafNode()){let e=n.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Un(e,".sv"),"Priority must be a string or number.")}else $(n===my||n.isEmpty(),"priority of unexpected type.");$(n===my||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Q1,ga=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kx(this.priorityNode_)}static set __childrenNodeConstructor(t){Q1=t}static get __childrenNodeConstructor(){return Q1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return be(t)?this:Ee(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=Ee(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:($(r!==".priority"||io(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Rx(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=mx(this.value_):t+=this.value_,this.lazyHash_=fx(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return $(o>=0,"Unknown leaf type: "+i),$(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),Ox,Fx;function _j(n){Ox=n}function vj(n){Fx=n}var gy=class extends ma{compare(e,t){let i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?es(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(no,new ga("[PRIORITY-POST]",Fx))}makePost(e,t){let i=Ox(e);return new Ie(t,new ga("[PRIORITY-POST]",i))}toString(){return".priority"}},nt=new gy;var yj=Math.log(2),_y=class{constructor(e){let t=o=>parseInt(Math.log(o)/yj,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},bf=function(n,e,t,i){n.sort(e);let r=function(l,u){let h=u-l,p,y;if(h===0)return null;if(h===1)return p=n[l],y=t?t(p):p,new ni(y,p.node,ni.BLACK,null,null);{let w=parseInt(h/2,10)+l,b=r(l,w),R=r(w+1,u);return p=n[w],y=t?t(p):p,new ni(y,p.node,ni.BLACK,b,R)}},o=function(l){let u=null,h=null,p=n.length,y=function(b,R){let B=p-b,G=p;p-=b;let J=r(B+1,G),ne=n[B],he=t?t(ne):ne;w(new ni(he,ne.node,R,null,J))},w=function(b){u?(u.left=b,u=b):(h=b,u=b)};for(let b=0;b<l.count;++b){let R=l.nextBitIsOne(),B=Math.pow(2,l.count-(b+1));R?y(B,ni.BLACK):(y(B,ni.BLACK),y(B,ni.RED))}return h},s=new _y(n.length),a=o(s);return new Nn(i||e,a)};var Yv,ha={},_a=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return $(ha&&nt,"ChildrenNode.ts has not been loaded"),Yv=Yv||new n({".priority":ha},{".priority":nt}),Yv}get(e){let t=yo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Nn?t:null}hasIndex(e){return Un(this.indexSet_,e.toString())}addIndex(e,t){$(e!==Zo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=t.getIterator(Ie.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=bf(i,e.getCompare()):a=ha;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let h=Object.assign({},this.indexes_);return h[l]=a,new n(h,u)}addToIndexes(e,t){let i=El(this.indexes_,(r,o)=>{let s=yo(this.indexSet_,o);if($(s,"Missing index implementation for "+o),r===ha)if(s.isDefinedOn(e.node)){let a=[],l=t.getIterator(Ie.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),bf(a,s.getCompare())}else return ha;else{let a=t.get(e.name),l=r;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new n(i,this.indexSet_)}removeFromIndexes(e,t){let i=El(this.indexes_,r=>{if(r===ha)return r;{let o=t.get(e.name);return o?r.remove(new Ie(e.name,o)):r}});return new n(i,this.indexSet_)}};var _c,fe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kx(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _c||(_c=new n(new Nn(oC),null,_a.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_c}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?_c:i}}getChild(t){let i=Ee(t);return i===null?this:this.getImmediateChild(i).getChild(Qe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if($(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new Ie(t,i),o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?_c:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){let r=Ee(t);if(r===null)return i;{$(Ee(t)!==".priority"||io(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(Qe(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(nt,(a,l)=>{i[a]=l.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Rx(this.getPriority().val())+":"),this.forEachChild(nt,(i,r)=>{let o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":fx(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Ie(t,i));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new Ie(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new Ie(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,Ie.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fc?-1:0}withIndex(t){if(t===Zo||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Zo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(nt),o=i.getIterator(nt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Zo?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),vy=class extends fe{constructor(){super(new Nn(oC),fe.EMPTY_NODE,_a.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}},Fc=new vy;Object.defineProperties(Ie,{MIN:{value:new Ie(Jo,fe.EMPTY_NODE)},MAX:{value:new Ie(no,Fc)}});Ef.__EMPTY_NODE=fe.EMPTY_NODE;ga.__childrenNodeConstructor=fe;gj(Fc);vj(Fc);var Cj=!0;function yt(n,e=null){if(n===null)return fe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new ga(t,yt(e))}if(!(n instanceof Array)&&Cj){let t=[],i=!1;if(kt(n,(s,a)=>{if(s.substring(0,1)!=="."){let l=yt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Ie(s,l)))}}),t.length===0)return fe.EMPTY_NODE;let o=bf(t,mj,s=>s.name,oC);if(i){let s=bf(t,nt.getCompare());return new fe(o,yt(e),new _a({".priority":s},{".priority":nt}))}else return new fe(o,yt(e),_a.Default)}else{let t=fe.EMPTY_NODE;return kt(n,(i,r)=>{if(Un(n,i)&&i.substring(0,1)!=="."){let o=yt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(yt(e))}}_j(yt);var Tc=class extends ma{constructor(e){super(),this.indexPath_=e,$(!be(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?es(e.name,t.name):o}makePost(e,t){let i=yt(e),r=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(t,r)}maxPost(){let e=fe.EMPTY_NODE.updateChild(this.indexPath_,Fc);return new Ie(no,e)}toString(){return Ic(this.indexPath_,0).join("/")}};var yy=class extends ma{compare(e,t){let i=e.node.compareTo(t.node);return i===0?es(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,t){let i=yt(e);return new Ie(t,i)}toString(){return".value"}},Lx=new yy;function Vx(n){return{type:"value",snapshotNode:n}}function va(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Sc(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Dc(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function wj(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var Ac=class{constructor(e){this.index_=e}updateChild(e,t,i,r,o,s){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(t)?s.trackChildChange(Sc(t,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(va(t,i)):s.trackChildChange(Dc(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(nt,(r,o)=>{t.hasChild(r)||i.trackChildChange(Sc(r,o))}),t.isLeafNode()||t.forEachChild(nt,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Dc(r,o,s))}else i.trackChildChange(va(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var If=class n{constructor(e){this.indexedFilter_=new Ac(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,s){return this.matches(new Ie(t,i))||(i=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,s)}updateFullNode(e,t,i){t.isLeafNode()&&(t=fe.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(fe.EMPTY_NODE);let o=this;return t.forEachChild(nt,(s,a)=>{o.matches(new Ie(s,a))||(r=r.updateImmediateChild(s,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var Cy=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new If(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,s){return this.rangedFilter_.matches(new Ie(t,i))||(i=fe.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,s):this.fullLimitUpdateChild_(e,t,i,o,s)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(fe.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let s;if(this.reverse_){let p=this.index_.getCompare();s=(y,w)=>p(w,y)}else s=this.index_.getCompare();let a=e;$(a.numChildren()===this.limit_,"");let l=new Ie(t,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(t)){let p=a.getImmediateChild(t),y=r.getChildAfterChild(this.index_,u,this.reverse_);for(;y!=null&&(y.name===t||a.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);let w=y==null?1:s(y,l);if(h&&!i.isEmpty()&&w>=0)return o?.trackChildChange(Dc(t,i,p)),a.updateImmediateChild(t,i);{o?.trackChildChange(Sc(t,p));let R=a.updateImmediateChild(t,fe.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(va(y.name,y.node)),R.updateImmediateChild(y.name,y.node)):R}}else return i.isEmpty()?e:h&&s(u,l)>=0?(o!=null&&(o.trackChildChange(Sc(u.name,u.node)),o.trackChildChange(va(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(u.name,fe.EMPTY_NODE)):e}};var wy=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jo}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:no}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Ej(n){return n.loadsAllData()?new Ac(n.getIndex()):n.hasLimit()?new Cy(n):new If(n)}function bj(n,e,t){let i=n.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ij(n,e,t){let i=n.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Tj(n,e){let t=n.copy();return t.index_=e,t}function Y1(n){let e={};if(n.isDefault())return e;let t;if(n.index_===nt?t="$priority":n.index_===Lx?t="$value":n.index_===Zo?t="$key":($(n.index_ instanceof Tc,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=pt(t),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";e[i]=pt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+pt(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";e[i]=pt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+pt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Z1(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==nt&&(e.i=n.index_.toString()),e}var Ey=class n extends yf{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Oc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=n.getListenId_(e,i),a={};this.listens_[s]=a;let l=Y1(e._queryParams);this.restRequest_(o+".json",l,(u,h)=>{let p=h;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(o,p,!1,i),yo(this.listens_,s)===a){let y;u?u===401?y="permission_denied":y="rest_error:"+u:y="ok",r(y,null)}})}unlisten(e,t){let i=n.getListenId_(e,t);delete this.listens_[i]}get(e){let t=Y1(e._queryParams),i=e._path.toString(),r=new Ui;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sr(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=bs(a.responseText)}catch{en("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&en("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var by=class{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Tf(){return{value:null,children:new Map}}function Bx(n,e,t){if(be(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let i=Ee(e);n.children.has(i)||n.children.set(i,Tf());let r=n.children.get(i);e=Qe(e),Bx(r,e,t)}}function Iy(n,e,t){n.value!==null?t(e,n.value):Sj(n,(i,r)=>{let o=new Be(e.toString()+"/"+i);Iy(r,o,t)})}function Sj(n,e){n.children.forEach((t,i)=>{e(i,t)})}var Ty=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}};var J1=10*1e3,Dj=30*1e3,Aj=5*60*1e3,Sy=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ty(e);let i=J1+(Dj-J1)*Math.random();yc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;kt(e,(r,o)=>{o>0&&Un(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Aj))}};var Ti=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ti||{});function sC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lC(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var Dy=class n{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ti.ACK_USER_WRITE,this.source=sC()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new Be(e));return new n(Fe(),t,this.revert)}}else return $(Ee(this.path)===e,"operationForChild called for unrelated child."),new n(Qe(this.path),this.affectedTree,this.revert)}};var Sf=class n{constructor(e,t){this.source=e,this.path=t,this.type=Ti.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new n(this.source,Fe()):new n(this.source,Qe(this.path))}};var ya=class n{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ti.OVERWRITE}operationForChild(e){return be(this.path)?new n(this.source,Fe(),this.snap.getImmediateChild(e)):new n(this.source,Qe(this.path),this.snap)}};var xc=class n{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ti.MERGE}operationForChild(e){if(be(this.path)){let t=this.children.subtree(new Be(e));return t.isEmpty()?null:t.value?new ya(this.source,Fe(),t.value):new n(this.source,Fe(),t)}else return $(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Si=class{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;let t=Ee(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Ay=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function xj(n,e,t,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(wj(s.childName,s.snapshotNode))}),vc(n,r,"child_removed",e,i,t),vc(n,r,"child_added",e,i,t),vc(n,r,"child_moved",o,i,t),vc(n,r,"child_changed",e,i,t),vc(n,r,"value",e,i,t),r}function vc(n,e,t,i,r,o){let s=i.filter(a=>a.type===t);s.sort((a,l)=>Pj(n,a,l)),s.forEach(a=>{let l=Mj(n,a,o);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function Mj(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Pj(n,e,t){if(e.childName==null||t.childName==null)throw vo("Should only compare child_ events.");let i=new Ie(e.childName,e.snapshotNode),r=new Ie(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function Uf(n,e){return{eventCache:n,serverCache:e}}function wc(n,e,t,i){return Uf(new Si(e,t,i),n.serverCache)}function Ux(n,e,t,i){return Uf(n.eventCache,new Si(e,t,i))}function Df(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var Zv,Nj=()=>(Zv||(Zv=new Nn(MU)),Zv),tn=class n{constructor(e,t=Nj()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return kt(e,(i,r)=>{t=t.set(new Be(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Fe(),value:this.value};if(be(e))return null;{let i=Ee(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(Qe(e),t);return o!=null?{path:ut(new Be(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{let t=Ee(e),i=this.children.get(t);return i!==null?i.subtree(Qe(e)):new n(null)}}set(e,t){if(be(e))return new n(t,this.children);{let i=Ee(e),o=(this.children.get(i)||new n(null)).set(Qe(e),t),s=this.children.insert(i,o);return new n(this.value,s)}}remove(e){if(be(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Ee(e),i=this.children.get(t);if(i){let r=i.remove(Qe(e)),o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(e){if(be(e))return this.value;{let t=Ee(e),i=this.children.get(t);return i?i.get(Qe(e)):null}}setTree(e,t){if(be(e))return t;{let i=Ee(e),o=(this.children.get(i)||new n(null)).setTree(Qe(e),t),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new n(this.value,s)}}fold(e){return this.fold_(Fe(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ut(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Fe(),t)}findOnPath_(e,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(be(e))return null;{let o=Ee(e),s=this.children.get(o);return s?s.findOnPath_(Qe(e),ut(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Fe(),t)}foreachOnPath_(e,t,i){if(be(e))return this;{this.value&&i(t,this.value);let r=Ee(e),o=this.children.get(r);return o?o.foreachOnPath_(Qe(e),ut(t,r),i):new n(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ut(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}};var ii=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new tn(null))}};function Ec(n,e,t){if(be(e))return new ii(new tn(t));{let i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=Xt(r,e);return o=o.updateChild(s,t),new ii(n.writeTree_.set(r,o))}else{let r=new tn(t),o=n.writeTree_.setTree(e,r);return new ii(o)}}}function xy(n,e,t){let i=n;return kt(t,(r,o)=>{i=Ec(i,ut(e,r),o)}),i}function X1(n,e){if(be(e))return ii.empty();{let t=n.writeTree_.setTree(e,new tn(null));return new ii(t)}}function My(n,e){return ts(n,e)!=null}function ts(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Xt(t.path,e)):null}function ex(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(nt,(i,r)=>{e.push(new Ie(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ie(i,r.value))}),e}function eo(n,e){if(be(e))return n;{let t=ts(n,e);return t!=null?new ii(new tn(t)):new ii(n.writeTree_.subtree(e))}}function Py(n){return n.writeTree_.isEmpty()}function Ca(n,e){return jx(Fe(),n.writeTree_,e)}function jx(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?($(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=jx(ut(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ut(n,".priority"),i)),t}}function jf(n,e){return qx(e,n)}function Rj(n,e,t,i,r){$(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Ec(n.visibleWrites,e,t)),n.lastWriteId=i}function kj(n,e,t,i){$(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=xy(n.visibleWrites,e,t),n.lastWriteId=i}function Oj(n,e){for(let t=0;t<n.allWrites.length;t++){let i=n.allWrites[t];if(i.writeId===e)return i}return null}function Fj(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);$(t>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=t&&Lj(a,i.path)?r=!1:Pn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return Vj(n),!0;if(i.snap)n.visibleWrites=X1(n.visibleWrites,i.path);else{let a=i.children;kt(a,l=>{n.visibleWrites=X1(n.visibleWrites,ut(i.path,l))})}return!0}else return!1}function Lj(n,e){if(n.snap)return Pn(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&Pn(ut(n.path,t),e))return!0;return!1}function Vj(n){n.visibleWrites=$x(n.allWrites,Bj,Fe()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Bj(n){return n.visible}function $x(n,e,t){let i=ii.empty();for(let r=0;r<n.length;++r){let o=n[r];if(e(o)){let s=o.path,a;if(o.snap)Pn(t,s)?(a=Xt(t,s),i=Ec(i,a,o.snap)):Pn(s,t)&&(a=Xt(s,t),i=Ec(i,Fe(),o.snap.getChild(a)));else if(o.children){if(Pn(t,s))a=Xt(t,s),i=xy(i,a,o.children);else if(Pn(s,t))if(a=Xt(s,t),be(a))i=xy(i,Fe(),o.children);else{let l=yo(o.children,Ee(a));if(l){let u=l.getChild(Qe(a));i=Ec(i,Fe(),u)}}}else throw vo("WriteRecord should have .snap or .children")}}return i}function Hx(n,e,t,i,r){if(!i&&!r){let o=ts(n.visibleWrites,e);if(o!=null)return o;{let s=eo(n.visibleWrites,e);if(Py(s))return t;if(t==null&&!My(s,Fe()))return null;{let a=t||fe.EMPTY_NODE;return Ca(s,a)}}}else{let o=eo(n.visibleWrites,e);if(!r&&Py(o))return t;if(!r&&t==null&&!My(o,Fe()))return null;{let s=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Pn(u.path,e)||Pn(e,u.path))},a=$x(n.allWrites,s,e),l=t||fe.EMPTY_NODE;return Ca(a,l)}}}function Uj(n,e,t){let i=fe.EMPTY_NODE,r=ts(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(nt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){let o=eo(n.visibleWrites,e);return t.forEachChild(nt,(s,a)=>{let l=Ca(eo(o,new Be(s)),a);i=i.updateImmediateChild(s,l)}),ex(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=eo(n.visibleWrites,e);return ex(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function jj(n,e,t,i,r){$(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ut(e,t);if(My(n.visibleWrites,o))return null;{let s=eo(n.visibleWrites,o);return Py(s)?r.getChild(t):Ca(s,r.getChild(t))}}function $j(n,e,t,i){let r=ut(e,t),o=ts(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){let s=eo(n.visibleWrites,r);return Ca(s,i.getNode().getImmediateChild(t))}else return null}function Hj(n,e){return ts(n.visibleWrites,e)}function zj(n,e,t,i,r,o,s){let a,l=eo(n.visibleWrites,e),u=ts(l,Fe());if(u!=null)a=u;else if(t!=null)a=Ca(l,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let h=[],p=s.getCompare(),y=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),w=y.getNext();for(;w&&h.length<r;)p(w,i)!==0&&h.push(w),w=y.getNext();return h}else return[]}function qj(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function Af(n,e,t,i){return Hx(n.writeTree,n.treePath,e,t,i)}function cC(n,e){return Uj(n.writeTree,n.treePath,e)}function tx(n,e,t,i){return jj(n.writeTree,n.treePath,e,t,i)}function xf(n,e){return Hj(n.writeTree,ut(n.treePath,e))}function Gj(n,e,t,i,r,o){return zj(n.writeTree,n.treePath,e,t,i,r,o)}function uC(n,e,t){return $j(n.writeTree,n.treePath,e,t)}function zx(n,e){return qx(ut(n.treePath,e),n.writeTree)}function qx(n,e){return{treePath:n,writeTree:e}}var Ny=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;$(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),$(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Dc(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Sc(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,va(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Dc(i,e.snapshotNode,r.oldSnap));else throw vo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var Ry=class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}},Gx=new Ry,Mc=class{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uC(this.writes_,e,i)}}getChildAfterChild(e,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xo(this.viewCache_),o=Gj(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}};function Wj(n){return{filter:n}}function Kj(n,e){$(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Qj(n,e,t,i,r){let o=new Ny,s,a;if(t.type===Ti.OVERWRITE){let u=t;u.source.fromUser?s=ky(n,e,u.path,u.snap,i,r,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!be(u.path),s=Mf(n,e,u.path,u.snap,i,r,a,o))}else if(t.type===Ti.MERGE){let u=t;u.source.fromUser?s=Zj(n,e,u.path,u.children,i,r,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Oy(n,e,u.path,u.children,i,r,a,o))}else if(t.type===Ti.ACK_USER_WRITE){let u=t;u.revert?s=e$(n,e,u.path,i,r,o):s=Jj(n,e,u.path,u.affectedTree,i,r,o)}else if(t.type===Ti.LISTEN_COMPLETE)s=Xj(n,e,t.path,i,o);else throw vo("Unknown operation type: "+t.type);let l=o.getChanges();return Yj(e,s,l),{viewCache:s,changes:l}}function Yj(n,e,t){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Df(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(Vx(Df(e)))}}function Wx(n,e,t,i,r,o){let s=e.eventCache;if(xf(i,t)!=null)return e;{let a,l;if(be(t))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Xo(e),h=u instanceof fe?u:fe.EMPTY_NODE,p=cC(i,h);a=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{let u=Af(i,Xo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=Ee(t);if(u===".priority"){$(io(t)===1,"Can't have a priority with additional path components");let h=s.getNode();l=e.serverCache.getNode();let p=tx(i,t,h,l);p!=null?a=n.filter.updatePriority(h,p):a=s.getNode()}else{let h=Qe(t),p;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();let y=tx(i,t,s.getNode(),l);y!=null?p=s.getNode().getImmediateChild(u).updateChild(h,y):p=s.getNode().getImmediateChild(u)}else p=uC(i,u,e.serverCache);p!=null?a=n.filter.updateChild(s.getNode(),u,p,h,r,o):a=s.getNode()}}return wc(e,a,s.isFullyInitialized()||be(t),n.filter.filtersNodes())}}function Mf(n,e,t,i,r,o,s,a){let l=e.serverCache,u,h=s?n.filter:n.filter.getIndexedFilter();if(be(t))u=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){let w=l.getNode().updateChild(t,i);u=h.updateFullNode(l.getNode(),w,null)}else{let w=Ee(t);if(!l.isCompleteForPath(t)&&io(t)>1)return e;let b=Qe(t),B=l.getNode().getImmediateChild(w).updateChild(b,i);w===".priority"?u=h.updatePriority(l.getNode(),B):u=h.updateChild(l.getNode(),w,B,b,Gx,null)}let p=Ux(e,u,l.isFullyInitialized()||be(t),h.filtersNodes()),y=new Mc(r,p,o);return Wx(n,p,t,r,y,a)}function ky(n,e,t,i,r,o,s){let a=e.eventCache,l,u,h=new Mc(r,e,o);if(be(t))u=n.filter.updateFullNode(e.eventCache.getNode(),i,s),l=wc(e,u,!0,n.filter.filtersNodes());else{let p=Ee(t);if(p===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),i),l=wc(e,u,a.isFullyInitialized(),a.isFiltered());else{let y=Qe(t),w=a.getNode().getImmediateChild(p),b;if(be(y))b=i;else{let R=h.getCompleteChild(p);R!=null?nC(y)===".priority"&&R.getChild(Px(y)).isEmpty()?b=R:b=R.updateChild(y,i):b=fe.EMPTY_NODE}if(w.equals(b))l=e;else{let R=n.filter.updateChild(a.getNode(),p,b,y,h,s);l=wc(e,R,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function nx(n,e){return n.eventCache.isCompleteForChild(e)}function Zj(n,e,t,i,r,o,s){let a=e;return i.foreach((l,u)=>{let h=ut(t,l);nx(e,Ee(h))&&(a=ky(n,a,h,u,r,o,s))}),i.foreach((l,u)=>{let h=ut(t,l);nx(e,Ee(h))||(a=ky(n,a,h,u,r,o,s))}),a}function ix(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Oy(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;be(t)?u=i:u=new tn(null).setTree(t,i);let h=e.serverCache.getNode();return u.children.inorderTraversal((p,y)=>{if(h.hasChild(p)){let w=e.serverCache.getNode().getImmediateChild(p),b=ix(n,w,y);l=Mf(n,l,new Be(p),b,r,o,s,a)}}),u.children.inorderTraversal((p,y)=>{let w=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!h.hasChild(p)&&!w){let b=e.serverCache.getNode().getImmediateChild(p),R=ix(n,b,y);l=Mf(n,l,new Be(p),R,r,o,s,a)}}),l}function Jj(n,e,t,i,r,o,s){if(xf(r,t)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(be(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Mf(n,e,t,l.getNode().getChild(t),r,o,a,s);if(be(t)){let u=new tn(null);return l.getNode().forEachChild(Zo,(h,p)=>{u=u.set(new Be(h),p)}),Oy(n,e,t,u,r,o,a,s)}else return e}else{let u=new tn(null);return i.foreach((h,p)=>{let y=ut(t,h);l.isCompleteForPath(y)&&(u=u.set(h,l.getNode().getChild(y)))}),Oy(n,e,t,u,r,o,a,s)}}function Xj(n,e,t,i,r){let o=e.serverCache,s=Ux(e,o.getNode(),o.isFullyInitialized()||be(t),o.isFiltered());return Wx(n,s,t,i,Gx,r)}function e$(n,e,t,i,r,o){let s;if(xf(i,t)!=null)return e;{let a=new Mc(i,e,r),l=e.eventCache.getNode(),u;if(be(t)||Ee(t)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Af(i,Xo(e));else{let p=e.serverCache.getNode();$(p instanceof fe,"serverChildren would be complete if leaf node"),h=cC(i,p)}h=h,u=n.filter.updateFullNode(l,h,o)}else{let h=Ee(t),p=uC(i,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=l.getImmediateChild(h)),p!=null?u=n.filter.updateChild(l,h,p,Qe(t),a,o):e.eventCache.getNode().hasChild(h)?u=n.filter.updateChild(l,h,fe.EMPTY_NODE,Qe(t),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Af(i,Xo(e)),s.isLeafNode()&&(u=n.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||xf(i,Fe())!=null,wc(e,u,s,n.filter.filtersNodes())}}var Fy=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Ac(i.getIndex()),o=Ej(i);this.processor_=Wj(o);let s=t.serverCache,a=t.eventCache,l=r.updateFullNode(fe.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=new Si(l,s.isFullyInitialized(),r.filtersNodes()),p=new Si(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Uf(p,h),this.eventGenerator_=new Ay(this.query_)}get query(){return this.query_}};function t$(n){return n.viewCache_.serverCache.getNode()}function n$(n){return Df(n.viewCache_)}function i$(n,e){let t=Xo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!be(e)&&!t.getImmediateChild(Ee(e)).isEmpty())?t.getChild(e):null}function rx(n){return n.eventRegistrations_.length===0}function r$(n,e){n.eventRegistrations_.push(e)}function ox(n,e,t){let i=[];if(t){$(e==null,"A cancel should cancel all event registrations.");let r=n.query._path;n.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){let s=n.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function sx(n,e,t,i){e.type===Ti.MERGE&&e.source.queryId!==null&&($(Xo(n.viewCache_),"We should always have a full cache before handling merges"),$(Df(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,o=Qj(n.processor_,r,e,t,i);return Kj(n.processor_,o.viewCache),$(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Kx(n,o.changes,o.viewCache.eventCache.getNode(),null)}function o$(n,e){let t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(nt,(o,s)=>{i.push(va(o,s))}),t.isFullyInitialized()&&i.push(Vx(t.getNode())),Kx(n,i,t.getNode(),e)}function Kx(n,e,t,i){let r=i?[i]:n.eventRegistrations_;return xj(n.eventGenerator_,e,t,r)}var Pf,Nf=class{constructor(){this.views=new Map}};function s$(n){$(!Pf,"__referenceConstructor has already been defined"),Pf=n}function a$(){return $(Pf,"Reference.ts has not been loaded"),Pf}function l$(n){return n.views.size===0}function dC(n,e,t,i){let r=e.source.queryId;if(r!==null){let o=n.views.get(r);return $(o!=null,"SyncTree gave us an op for an invalid query."),sx(o,e,t,i)}else{let o=[];for(let s of n.views.values())o=o.concat(sx(s,e,t,i));return o}}function Qx(n,e,t,i,r){let o=e._queryIdentifier,s=n.views.get(o);if(!s){let a=Af(t,r?i:null),l=!1;a?l=!0:i instanceof fe?(a=cC(t,i),l=!1):(a=fe.EMPTY_NODE,l=!1);let u=Uf(new Si(a,l,!1),new Si(i,r,!1));return new Fy(e,u)}return s}function c$(n,e,t,i,r,o){let s=Qx(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),r$(s,t),o$(s,t)}function u$(n,e,t,i){let r=e._queryIdentifier,o=[],s=[],a=ro(n);if(r==="default")for(let[l,u]of n.views.entries())s=s.concat(ox(u,t,i)),rx(u)&&(n.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{let l=n.views.get(r);l&&(s=s.concat(ox(l,t,i)),rx(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ro(n)&&o.push(new(a$())(e._repo,e._path)),{removed:o,events:s}}function Yx(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function to(n,e){let t=null;for(let i of n.views.values())t=t||i$(i,e);return t}function Zx(n,e){if(e._queryParams.loadsAllData())return $f(n);{let i=e._queryIdentifier;return n.views.get(i)}}function Jx(n,e){return Zx(n,e)!=null}function ro(n){return $f(n)!=null}function $f(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Rf;function d$(n){$(!Rf,"__referenceConstructor has already been defined"),Rf=n}function h$(){return $(Rf,"Reference.ts has not been loaded"),Rf}var f$=1,kf=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tn(null),this.pendingWriteTree_=qj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Xx(n,e,t,i,r){return Rj(n.pendingWriteTree_,e,t,i,r),r?Sa(n,new ya(sC(),e,t)):[]}function p$(n,e,t,i){kj(n.pendingWriteTree_,e,t,i);let r=tn.fromObject(t);return Sa(n,new xc(sC(),e,r))}function Xr(n,e,t=!1){let i=Oj(n.pendingWriteTree_,e);if(Fj(n.pendingWriteTree_,e)){let o=new tn(null);return i.snap!=null?o=o.set(Fe(),!0):kt(i.children,s=>{o=o.set(new Be(s),!0)}),Sa(n,new Dy(i.path,o,t))}else return[]}function Lc(n,e,t){return Sa(n,new ya(aC(),e,t))}function m$(n,e,t){let i=tn.fromObject(t);return Sa(n,new xc(aC(),e,i))}function g$(n,e){return Sa(n,new Sf(aC(),e))}function _$(n,e,t){let i=fC(n,t);if(i){let r=pC(i),o=r.path,s=r.queryId,a=Xt(o,e),l=new Sf(lC(s),a);return mC(n,o,l)}else return[]}function Of(n,e,t,i,r=!1){let o=e._path,s=n.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||Jx(s,e))){let l=u$(s,e,t,i);l$(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));let u=l.removed;if(a=l.events,!r){let h=u.findIndex(y=>y._queryParams.loadsAllData())!==-1,p=n.syncPointTree_.findOnPath(o,(y,w)=>ro(w));if(h&&!p){let y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){let w=C$(y);for(let b=0;b<w.length;++b){let R=w[b],B=R.query,G=iM(n,R);n.listenProvider_.startListening(bc(B),Pc(n,B),G.hashFn,G.onComplete)}}}!p&&u.length>0&&!i&&(h?n.listenProvider_.stopListening(bc(e),null):u.forEach(y=>{let w=n.queryToTagMap.get(Hf(y));n.listenProvider_.stopListening(bc(y),w)}))}w$(n,u)}return a}function eM(n,e,t,i){let r=fC(n,i);if(r!=null){let o=pC(r),s=o.path,a=o.queryId,l=Xt(s,e),u=new ya(lC(a),l,t);return mC(n,s,u)}else return[]}function v$(n,e,t,i){let r=fC(n,i);if(r){let o=pC(r),s=o.path,a=o.queryId,l=Xt(s,e),u=tn.fromObject(t),h=new xc(lC(a),l,u);return mC(n,s,h)}else return[]}function Ly(n,e,t,i=!1){let r=e._path,o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(y,w)=>{let b=Xt(y,r);o=o||to(w,b),s=s||ro(w)});let a=n.syncPointTree_.get(r);a?(s=s||ro(a),o=o||to(a,Fe())):(a=new Nf,n.syncPointTree_=n.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=fe.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((w,b)=>{let R=to(b,Fe());R&&(o=o.updateImmediateChild(w,R))}));let u=Jx(a,e);if(!u&&!e._queryParams.loadsAllData()){let y=Hf(e);$(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");let w=E$();n.queryToTagMap.set(y,w),n.tagToQueryMap.set(w,y)}let h=jf(n.pendingWriteTree_,r),p=c$(a,e,t,h,o,l);if(!u&&!s&&!i){let y=Zx(a,e);p=p.concat(b$(n,e,y))}return p}function hC(n,e,t){let r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{let l=Xt(s,e),u=to(a,l);if(u)return u});return Hx(r,e,o,t,!0)}function y$(n,e){let t=e._path,i=null;n.syncPointTree_.foreachOnPath(t,(u,h)=>{let p=Xt(u,t);i=i||to(h,p)});let r=n.syncPointTree_.get(t);r?i=i||to(r,Fe()):(r=new Nf,n.syncPointTree_=n.syncPointTree_.set(t,r));let o=i!=null,s=o?new Si(i,!0,!1):null,a=jf(n.pendingWriteTree_,e._path),l=Qx(r,e,a,o?s.getNode():fe.EMPTY_NODE,o);return n$(l)}function Sa(n,e){return tM(e,n.syncPointTree_,null,jf(n.pendingWriteTree_,Fe()))}function tM(n,e,t,i){if(be(n.path))return nM(n,e,t,i);{let r=e.get(Fe());t==null&&r!=null&&(t=to(r,Fe()));let o=[],s=Ee(n.path),a=n.operationForChild(s),l=e.children.get(s);if(l&&a){let u=t?t.getImmediateChild(s):null,h=zx(i,s);o=o.concat(tM(a,l,u,h))}return r&&(o=o.concat(dC(r,n,i,t))),o}}function nM(n,e,t,i){let r=e.get(Fe());t==null&&r!=null&&(t=to(r,Fe()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=t?t.getImmediateChild(s):null,u=zx(i,s),h=n.operationForChild(s);h&&(o=o.concat(nM(h,a,l,u)))}),r&&(o=o.concat(dC(r,n,i,t))),o}function iM(n,e){let t=e.query,i=Pc(n,t);return{hashFn:()=>(t$(e)||fe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?_$(n,t._path,i):g$(n,t._path);{let o=RU(r,t);return Of(n,t,null,o)}}}}function Pc(n,e){let t=Hf(e);return n.queryToTagMap.get(t)}function Hf(n){return n._path.toString()+"$"+n._queryIdentifier}function fC(n,e){return n.tagToQueryMap.get(e)}function pC(n){let e=n.indexOf("$");return $(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Be(n.substr(0,e))}}function mC(n,e,t){let i=n.syncPointTree_.get(e);$(i,"Missing sync point for query tag that we're tracking");let r=jf(n.pendingWriteTree_,e);return dC(i,t,r,null)}function C$(n){return n.fold((e,t,i)=>{if(t&&ro(t))return[$f(t)];{let r=[];return t&&(r=Yx(t)),kt(i,(o,s)=>{r=r.concat(s)}),r}})}function bc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(h$())(n._repo,n._path):n}function w$(n,e){for(let t=0;t<e.length;++t){let i=e[t];if(!i._queryParams.loadsAllData()){let r=Hf(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function E$(){return f$++}function b$(n,e,t){let i=e._path,r=Pc(n,e),o=iM(n,t),s=n.listenProvider_.startListening(bc(e),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)$(!ro(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((u,h,p)=>{if(!be(u)&&h&&ro(h))return[$f(h).query];{let y=[];return h&&(y=y.concat(Yx(h).map(w=>w.query))),kt(p,(w,b)=>{y=y.concat(b)}),y}});for(let u=0;u<l.length;++u){let h=l[u];n.listenProvider_.stopListening(bc(h),Pc(n,h))}}return s}var Vy=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},By=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=ut(this.path_,e);return new n(this.syncTree_,t)}node(){return hC(this.syncTree_,this.path_)}},I$=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},ax=function(n,e,t){if(!n||typeof n!="object")return n;if($(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return T$(n[".sv"],e,t);if(typeof n[".sv"]=="object")return S$(n[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},T$=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:$(!1,"Unexpected server value: "+n)}},S$=function(n,e,t){n.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&$(!1,"Unexpected increment value: "+i);let r=e.node();if($(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},rM=function(n,e,t,i){return gC(e,new By(t,n),i)},oM=function(n,e,t){return gC(n,new Vy(e),t)};function gC(n,e,t){let i=n.getPriority().val(),r=ax(i,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){let s=n,a=ax(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new ga(a,yt(r)):n}else{let s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new ga(r))),s.forEachChild(nt,(a,l)=>{let u=gC(l,e.getImmediateChild(a),t);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}var Nc=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function _C(n,e){let t=e instanceof Be?e:new Be(e),i=n,r=Ee(t);for(;r!==null;){let o=yo(i.node.children,r)||{children:{},childCount:0};i=new Nc(r,i,o),t=Qe(t),r=Ee(t)}return i}function Da(n){return n.node.value}function sM(n,e){n.node.value=e,Uy(n)}function aM(n){return n.node.childCount>0}function D$(n){return Da(n)===void 0&&!aM(n)}function zf(n,e){kt(n.node.children,(t,i)=>{e(new Nc(t,n,i))})}function lM(n,e,t,i){t&&!i&&e(n),zf(n,r=>{lM(r,e,!0,i)}),t&&i&&e(n)}function A$(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Vc(n){return new Be(n.parent===null?n.name:Vc(n.parent)+"/"+n.name)}function Uy(n){n.parent!==null&&x$(n.parent,n.name,n)}function x$(n,e,t){let i=D$(t),r=Un(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Uy(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Uy(n))}var M$=/[\[\].#$\/\u0000-\u001F\u007F]/,P$=/[\[\].#$\u0000-\u001F\u007F]/,Jv=10*1024*1024,qf=function(n){return typeof n=="string"&&n.length!==0&&!M$.test(n)},cM=function(n){return typeof n=="string"&&n.length!==0&&!P$.test(n)},N$=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cM(n)},jy=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Xy(n)||n&&typeof n=="object"&&Un(n,".sv")},Gf=function(n,e,t,i){i&&e===void 0||Wf(Is(n,"value"),e,t)},Wf=function(n,e,t){let i=t instanceof Be?new hy(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Ko(i));if(typeof e=="function")throw new Error(n+"contains a function "+Ko(i)+" with contents = "+e.toString());if(Xy(e))throw new Error(n+"contains "+e.toString()+" "+Ko(i));if(typeof e=="string"&&e.length>Jv/3&&bl(e)>Jv)throw new Error(n+"contains a string greater than "+Jv+" utf8 bytes "+Ko(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(kt(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!qf(s)))throw new Error(n+" contains an invalid key ("+s+") "+Ko(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cj(i,s),Wf(n,a,i),uj(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ko(i)+" in addition to actual children.")}},R$=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];let o=Ic(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!qf(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(lj);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&Pn(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},k$=function(n,e,t,i){if(i&&e===void 0)return;let r=Is(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];kt(e,(s,a)=>{let l=new Be(s);if(Wf(r,a,ut(t,l)),nC(l)===".priority"&&!jy(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),R$(r,o)};var O$=function(n,e,t,i){if(!(i&&t===void 0)&&!qf(t))throw new Error(Is(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},vC=function(n,e,t,i){if(!(i&&t===void 0)&&!cM(t))throw new Error(Is(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F$=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vC(n,e,t,i)},uM=function(n,e){if(Ee(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},L$=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!N$(t))throw new Error(Is(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var $y=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Kf(n,e){let t=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();t!==null&&!iC(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function dM(n,e,t){Kf(n,t),hM(n,i=>iC(i,e))}function Rn(n,e,t){Kf(n,t),hM(n,i=>Pn(i,e)||Pn(e,i))}function hM(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let o=r.path;e(o)?(V$(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function V$(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let i=t.getEventRunner();Yo&&Rt("event: "+t.toString()),Ta(i)}}}var B$="repo_interrupt",U$=25,Hy=class{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $y,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tf(),this.transactionQueueTree_=new Nc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function j$(n,e,t){if(n.stats_=tC(n.repoInfo_),n.forceRestClient_||LU())n.server_=new Ey(n.repoInfo_,(i,r,o,s)=>{lx(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>cx(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rC(n.repoInfo_,e,(i,r,o,s)=>{lx(n,i,r,o,s)},i=>{cx(n,i)},i=>{H$(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=BU(n.repoInfo_,()=>new Sy(n.stats_,n.server_)),n.infoData_=new by,n.infoSyncTree_=new kf({startListening:(i,r,o,s)=>{let a=[],l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Lc(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),yC(n,"connected",!1),n.serverSyncTree_=new kf({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{let u=s(a,l);Rn(n.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function $$(n){let t=n.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Qf(n){return I$({timestamp:$$(n)})}function lx(n,e,t,i,r){n.dataUpdateCount++;let o=new Be(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){let l=El(t,u=>yt(u));s=v$(n.serverSyncTree_,o,l,r)}else{let l=yt(t);s=eM(n.serverSyncTree_,o,l,r)}else if(i){let l=El(t,u=>yt(u));s=m$(n.serverSyncTree_,o,l)}else{let l=yt(t);s=Lc(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=wa(n,o)),Rn(n.eventQueue_,a,s)}function cx(n,e){yC(n,"connected",e),e===!1&&W$(n)}function H$(n,e){kt(e,(t,i)=>{yC(n,t,i)})}function yC(n,e,t){let i=new Be("/.info/"+e),r=yt(t);n.infoData_.updateSnapshot(i,r);let o=Lc(n.infoSyncTree_,i,r);Rn(n.eventQueue_,i,o)}function CC(n){return n.nextWriteId_++}function z$(n,e,t){let i=y$(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{let o=yt(r).withIndex(e._queryParams.getIndex());Ly(n.serverSyncTree_,e,t,!0);let s;if(e._queryParams.loadsAllData())s=Lc(n.serverSyncTree_,e._path,o);else{let a=Pc(n.serverSyncTree_,e);s=eM(n.serverSyncTree_,e._path,o,a)}return Rn(n.eventQueue_,e._path,s),Of(n.serverSyncTree_,e,t,null,!0),o},r=>(Bc(n,"get for query "+pt(e)+" failed: "+r),Promise.reject(new Error(r))))}function q$(n,e,t,i,r){Bc(n,"set",{path:e.toString(),value:t,priority:i});let o=Qf(n),s=yt(t,i),a=hC(n.serverSyncTree_,e),l=oM(s,a,o),u=CC(n),h=Xx(n.serverSyncTree_,e,l,u,!0);Kf(n.eventQueue_,h),n.server_.put(e.toString(),s.val(!0),(y,w)=>{let b=y==="ok";b||en("set at "+e+" failed: "+y);let R=Xr(n.serverSyncTree_,u,!b);Rn(n.eventQueue_,e,R),zy(n,r,y,w)});let p=EC(n,e);wa(n,p),Rn(n.eventQueue_,p,[])}function G$(n,e,t,i){Bc(n,"update",{path:e.toString(),value:t});let r=!0,o=Qf(n),s={};if(kt(t,(a,l)=>{r=!1,s[a]=rM(ut(e,a),yt(l),n.serverSyncTree_,o)}),r)Rt("update() called with empty data.  Don't do anything."),zy(n,i,"ok",void 0);else{let a=CC(n),l=p$(n.serverSyncTree_,e,s,a);Kf(n.eventQueue_,l),n.server_.merge(e.toString(),t,(u,h)=>{let p=u==="ok";p||en("update at "+e+" failed: "+u);let y=Xr(n.serverSyncTree_,a,!p),w=y.length>0?wa(n,e):e;Rn(n.eventQueue_,w,y),zy(n,i,u,h)}),kt(t,u=>{let h=EC(n,ut(e,u));wa(n,h)}),Rn(n.eventQueue_,e,[])}}function W$(n){Bc(n,"onDisconnectEvents");let e=Qf(n),t=Tf();Iy(n.onDisconnect_,Fe(),(r,o)=>{let s=rM(r,o,n.serverSyncTree_,e);Bx(t,r,s)});let i=[];Iy(t,Fe(),(r,o)=>{i=i.concat(Lc(n.serverSyncTree_,r,o));let s=EC(n,r);wa(n,s)}),n.onDisconnect_=Tf(),Rn(n.eventQueue_,Fe(),i)}function K$(n,e,t){let i;Ee(e._path)===".info"?i=Ly(n.infoSyncTree_,e,t):i=Ly(n.serverSyncTree_,e,t),dM(n.eventQueue_,e._path,i)}function ux(n,e,t){let i;Ee(e._path)===".info"?i=Of(n.infoSyncTree_,e,t):i=Of(n.serverSyncTree_,e,t),dM(n.eventQueue_,e._path,i)}function Q$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B$)}function Bc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Rt(t,...e)}function zy(n,e,t,i){e&&Ta(()=>{if(t==="ok")e(null);else{let r=(t||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function fM(n,e,t){return hC(n.serverSyncTree_,e,t)||fe.EMPTY_NODE}function wC(n,e=n.transactionQueueTree_){if(e||Yf(n,e),Da(e)){let t=mM(n,e);$(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&Y$(n,Vc(e),t)}else aM(e)&&zf(e,t=>{wC(n,t)})}function Y$(n,e,t){let i=t.map(u=>u.currentWriteId),r=fM(n,e,i),o=r,s=r.hash();for(let u=0;u<t.length;u++){let h=t[u];$(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;let p=Xt(e,h.path);o=o.updateChild(p,h.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;n.server_.put(l.toString(),a,u=>{Bc(n,"transaction put response",{path:l.toString(),status:u});let h=[];if(u==="ok"){let p=[];for(let y=0;y<t.length;y++)t[y].status=2,h=h.concat(Xr(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&p.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Yf(n,_C(n.transactionQueueTree_,e)),wC(n,n.transactionQueueTree_),Rn(n.eventQueue_,e,h);for(let y=0;y<p.length;y++)Ta(p[y])}else{if(u==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{en("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=u}wa(n,e)}},s)}function wa(n,e){let t=pM(n,e),i=Vc(t),r=mM(n,t);return Z$(n,r,i),i}function Z$(n,e,t){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],u=Xt(t,l.path),h=!1,p;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,p=l.abortReason,r=r.concat(Xr(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=U$)h=!0,p="maxretry",r=r.concat(Xr(n.serverSyncTree_,l.currentWriteId,!0));else{let y=fM(n,l.path,s);l.currentInputSnapshot=y;let w=e[a].update(y.val());if(w!==void 0){Wf("transaction failed: Data returned ",w,l.path);let b=yt(w);typeof w=="object"&&w!=null&&Un(w,".priority")||(b=b.updatePriority(y.getPriority()));let B=l.currentWriteId,G=Qf(n),J=oM(b,y,G);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=J,l.currentWriteId=CC(n),s.splice(s.indexOf(B),1),r=r.concat(Xx(n.serverSyncTree_,l.path,J,l.currentWriteId,l.applyLocally)),r=r.concat(Xr(n.serverSyncTree_,B,!0))}else h=!0,p="nodata",r=r.concat(Xr(n.serverSyncTree_,l.currentWriteId,!0))}Rn(n.eventQueue_,t,r),r=[],h&&(e[a].status=2,function(y){setTimeout(y,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(p),!1,null))))}Yf(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Ta(i[a]);wC(n,n.transactionQueueTree_)}function pM(n,e){let t,i=n.transactionQueueTree_;for(t=Ee(e);t!==null&&Da(i)===void 0;)i=_C(i,t),e=Qe(e),t=Ee(e);return i}function mM(n,e){let t=[];return gM(n,e,t),t.sort((i,r)=>i.order-r.order),t}function gM(n,e,t){let i=Da(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);zf(e,r=>{gM(n,r,t)})}function Yf(n,e){let t=Da(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,sM(e,t.length>0?t:void 0)}zf(e,i=>{Yf(n,i)})}function EC(n,e){let t=Vc(pM(n,e)),i=_C(n.transactionQueueTree_,e);return A$(i,r=>{Xv(n,r)}),Xv(n,i),lM(i,r=>{Xv(n,r)}),t}function Xv(n,e){let t=Da(e);if(t){let i=[],r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?($(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):($(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Xr(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?sM(e,void 0):t.length=o+1,Rn(n.eventQueue_,Vc(e),r);for(let s=0;s<i.length;s++)Ta(i[s])}}function J$(n){let e="",t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function X$(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):en(`Invalid query segment '${t}' in query '${n}'`)}return e}var dx=function(n,e){let t=e5(n),i=t.namespace;t.domain==="firebase.com"&&ar(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||AU();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new _f(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Be(t.pathString)}},e5=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",l=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let h=n.indexOf("/");h===-1&&(h=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(h,p)),h<p&&(r=J$(n.substring(h,p)));let y=X$(n.substring(Math.min(n.length,p)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let w=e.slice(0,u);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{let b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),t=e.substring(b+1),o=i}"ns"in y&&(o=y.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var Ff=class{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pt(this.snapshot.exportVal())}},Lf=class{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Vf=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Ea=class n{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return be(this._path)?null:nC(this._path)}get ref(){return new Di(this._repo,this._path)}get _queryIdentifier(){let e=Z1(this._queryParams),t=eC(e);return t==="{}"?"default":t}get _queryObject(){return Z1(this._queryParams)}isEqual(e){if(e=Ct(e),!(e instanceof n))return!1;let t=this._repo===e._repo,i=iC(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+aj(this._path)}};function t5(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function bC(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Zo){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Jo)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==no)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(n.getIndex()===nt){if(e!=null&&!jy(e)||t!=null&&!jy(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(n.getIndex()instanceof Tc||n.getIndex()===Lx,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _M(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Di=class n extends Ea{constructor(e,t){super(e,t,new wy,!1)}get parent(){let e=Px(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Rc=class n{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new Be(e),i=ba(this.ref,e);return new n(this._node.getChild(t),i,nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new n(r,ba(this.ref,i),nt)))}hasChild(e){let t=new Be(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function vM(n,e){return n=Ct(n),n._checkNotDeleted("ref"),e!==void 0?ba(n._root,e):n._root}function ba(n,e){return n=Ct(n),Ee(n._path)===null?F$("child","path",e,!1):vC("child","path",e,!1),new Di(n._repo,ut(n._path,e))}function yM(n){return uM("remove",n._path),IC(n,null)}function IC(n,e){n=Ct(n),uM("set",n._path),Gf("set",e,n._path,!1);let t=new Ui;return q$(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function CM(n,e){k$("update",e,n._path,!1);let t=new Ui;return G$(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function wM(n){n=Ct(n);let e=new Vf(()=>{}),t=new Bf(e);return z$(n._repo,n,t).then(i=>new Rc(i,new Di(n._repo,n._path),n._queryParams.getIndex()))}var Bf=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let i=t._queryParams.getIndex();return new Ff("value",this,new Rc(e.snapshotNode,new Di(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Lf(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},qy=class n{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Lf(this,e,t):null}createEvent(e,t){$(e.childName!=null,"Child events should have a childName.");let i=ba(new Di(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ff(e.type,this,new Rc(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function n5(n,e,t,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=t,u=(h,p)=>{ux(n._repo,n,a),l(h,p)};u.userCallback=t.userCallback,u.context=t.context,t=u}let s=new Vf(t,o||void 0),a=e==="value"?new Bf(s):new qy(e,s);return K$(n._repo,n,a),()=>ux(n._repo,n,a)}function EM(n,e,t,i){return n5(n,"value",e,t,i)}var Ia=class{},Gy=class extends Ia{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Gf("endAt",this._value,e._path,!0);let t=Ij(e._queryParams,this._value,this._key);if(_M(t),bC(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ea(e._repo,e._path,t,e._orderByCalled)}};var Wy=class extends Ia{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Gf("startAt",this._value,e._path,!0);let t=bj(e._queryParams,this._value,this._key);if(_M(t),bC(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ea(e._repo,e._path,t,e._orderByCalled)}};var Ky=class extends Ia{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){t5(e,"orderByChild");let t=new Be(this._path);if(be(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Tc(t),r=Tj(e._queryParams,i);return bC(r),new Ea(e._repo,e._path,r,!0)}};function bM(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vC("orderByChild","path",n,!1),new Ky(n)}var Qy=class extends Ia{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Gf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gy(this._value,this._key)._apply(new Wy(this._value,this._key)._apply(e))}};function IM(n,e){return O$("equalTo","key",e,!0),new Qy(n,e)}function TM(n,...e){let t=Ct(n);for(let i of e)t=i._apply(t);return t}s$(Di);d$(Di);var i5="FIREBASE_DATABASE_EMULATOR_HOST",Yy={},r5=!1;function o5(n,e,t,i){n.repoInfo_=new _f(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function s5(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=dx(o,r),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[i5]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=dx(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let h=r&&l?new Cc(Cc.OWNER):new oy(n.name,n.options,e);L$("Invalid Firebase Database URL",s),be(s.path)||ar("Database URL must point to the root of a Firebase Database (not including a child path).");let p=l5(a,n,h,new ry(n.name,t));return new Zy(p,n)}function a5(n,e){let t=Yy[e];(!t||t[n.key]!==n)&&ar(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Q$(n),delete t[n.key]}function l5(n,e,t,i){let r=Yy[e.name];r||(r={},Yy[e.name]=r);let o=r[n.toURLString()];return o&&ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hy(n,r5,t,i),r[n.toURLString()]=o,o}var Zy=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(j$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Di(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ar("Cannot call "+e+" on a deleted database.")}};function SM(n=Ar(),e){let t=Eo(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let i=Gu("database");i&&DM(t,...i)}return t}function DM(n,e,t,i={}){n=Ct(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&ar("Cannot call useEmulator() after instance has already been initialized.");let r=n._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cc(Cc.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Wu(i.mockUserToken,n.app.options.projectId);o=new Cc(s)}o5(r,e,t,o)}function c5(n){TU(hi),ui(new sn("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return s5(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),et(k1,O1,n),et(k1,O1,"esm2017")}rC.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};rC.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};c5();var vn=class{constructor(e){return e}},AM="database",TC=class{constructor(){return Ho(AM)}};var SC=new Z("angularfire2.database-instances");function u5(n,e){let t=la(AM,n,e);return t&&new vn(t)}function d5(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new vn(i)}}var h5={provide:TC,deps:[[new ft,SC]]},f5={provide:vn,useFactory:u5,deps:[[new ft,SC],ei]};function xM(n,...e){return et("angularfire",tr.full,"rtdb"),Dn([f5,h5,{provide:SC,useFactory:d5(n),multi:!0,deps:[xe,zt,Zr,nr,[new ft,Wo],[new ft,Yr],...e]}])}var Uc=ct(ba,!0);var MM=ct(IM,!0);var Ai=ct(wM,!0),PM=ct(SM,!0);var DC=ct(EM,!0),NM=ct(bM,!0);var RM=ct(TM,!0),nn=ct(vM,!0);var Zf=ct(yM,!0);var Jf=ct(IC,!0);var ns=ct(CM,!0);var BM=null;function cr(){return BM}function UM(n){BM??=n}var ep=class{};var hn=new Z(""),RC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W(p5),providedIn:"platform"})}}return n})();var p5=(()=>{class n extends RC{constructor(){super(),this._doc=W(hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(t){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function kC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function kM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function lr(n){return n&&n[0]!=="?"?"?"+n:n}var ur=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W($M),providedIn:"root"})}}return n})(),jM=new Z(""),$M=(()=>{class n extends ur{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kC(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+lr(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+lr(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+lr(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(K(RC),K(jM,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HM=(()=>{class n extends ur{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=kC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(K(RC),K(jM,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),jc=(()=>{class n{constructor(t){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=_5(kM(OM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+lr(i))}normalize(t){return n.stripTrailingSlash(g5(this._basePath,OM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=lr}static{this.joinWithSlash=kC}static{this.stripTrailingSlash=kM}static{this.\u0275fac=function(i){return new(i||n)(K(ur))}}static{this.\u0275prov=q({token:n,factory:()=>m5(),providedIn:"root"})}}return n})();function m5(){return new jc(K(ur))}function g5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function OM(n){return n.replace(/\/index.html$/,"")}function _5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function zM(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var AC=/\s+/,FM=[],it=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=FM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(AC):FM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(AC):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(AC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(F(vt),F(dn))}}static{this.\u0275dir=We({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var xC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},OC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new xC(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),LM(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);LM(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(F(Ji),F(qi),F(lv))}}static{this.\u0275dir=We({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function LM(n,e){n.context.$implicit=e.item}var FC=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new MC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){VM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){VM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(F(Ji),F(qi))}}static{this.\u0275dir=We({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),MC=class{constructor(){this.$implicit=null,this.ngIf=null}};function VM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Zt(e)}'.`)}var qM=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:yi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(F(vt),F(cv),F(dn))}}static{this.\u0275dir=We({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),GM=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(F(Ji))}}static{this.\u0275dir=We({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[An]})}}return n})();function v5(n,e){return new j(2100,!1)}var PC=class{createSubscription(e,t){return Xn(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){Xn(()=>e.unsubscribe())}},NC=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},y5=new NC,C5=new PC,WM=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Qr(t))return y5;if(rv(t))return C5;throw v5(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(F(Ei,16))}}static{this.\u0275pipe=_S({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var rt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Yn({type:n})}static{this.\u0275inj=Qn({})}}return n})(),LC="browser",w5="server";function np(n){return n===LC}function VC(n){return n===w5}var tp=class{};var jC=class extends ep{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$C=class n extends jC{static makeCurrent(){UM(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=E5();return t==null?null:b5(t)}resetBaseElement(){$c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zM(document.cookie,e)}},$c=null;function E5(){return $c=$c||document.querySelector("base"),$c?$c.getAttribute("href"):null}function b5(n){return new URL(n,document.baseURI).pathname}var I5=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),HC=new Z(""),YM=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(K(HC),K(xe))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),ip=class{constructor(e){this._doc=e}},BC="ng-app-id",ZM=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=VC(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${BC}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(BC),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(BC,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(K(hn),K(R0),K(F0,8),K(Mn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),UC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qC=/%COMP%/g,JM="%COMP%",T5=`_nghost-${JM}`,S5=`_ngcontent-${JM}`,D5=!0,A5=new Z("",{providedIn:"root",factory:()=>D5});function x5(n){return S5.replace(qC,n)}function M5(n){return T5.replace(qC,n)}function XM(n,e){return e.map(t=>t.replace(qC,n))}var rp=(()=>{class n{constructor(t,i,r,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=VC(a),this.defaultRenderer=new Hc(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gi.ShadowDom&&(i=ce(U({},i),{encapsulation:gi.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof op?r.applyToHost(t):r instanceof zc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case gi.Emulated:o=new op(l,u,i,this.appId,h,s,a,p);break;case gi.ShadowDom:return new zC(l,u,t,i,s,a,this.nonce,p);default:o=new zc(l,u,i,h,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(K(YM),K(ZM),K(R0),K(A5),K(hn),K(Mn),K(xe),K(F0))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Hc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(UC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KM(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(KM(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=UC[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=UC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(yi.DashCase|yi.Important)?e.style.setProperty(t,i,r&yi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&yi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zC=class extends Hc{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=XM(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zc=class extends Hc{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?XM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},op=class extends zc{constructor(e,t,i,r,o,s,a,l){let u=r+"-"+i.id;super(e,t,i,o,s,a,l,u),this.contentAttr=x5(u),this.hostAttr=M5(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},P5=(()=>{class n extends ip{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(K(hn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),QM=["alt","control","meta","shift"],N5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},k5=(()=>{class n extends ip{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),QM.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=N5[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),QM.forEach(s=>{if(s!==r){let a=R5[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(K(hn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function eP(n,e){return RA(U({rootComponent:n},O5(e)))}function O5(n){return{appProviders:[...U5,...n?.providers??[]],platformProviders:B5}}function F5(){$C.makeCurrent()}function L5(){return new Wn}function V5(){return wD(document),document}var B5=[{provide:Mn,useValue:LC},{provide:k0,useValue:F5,multi:!0},{provide:hn,useFactory:V5,deps:[]}];var U5=[{provide:_h,useValue:"root"},{provide:Wn,useFactory:L5,deps:[]},{provide:HC,useClass:P5,multi:!0,deps:[hn,xe,Mn]},{provide:HC,useClass:k5,multi:!0,deps:[hn]},rp,ZM,YM,{provide:Hr,useExisting:rp},{provide:tp,useClass:I5,deps:[]},[]];var sp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(K(hn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var me="primary",su=Symbol("RouteTitle"),YC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ra(n){return new YC(n)}function j5(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xi(n[t],e[t]))return!1;return!0}function xi(n,e){let t=n?ZC(n):void 0,i=e?ZC(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!cP(n[r],e[r]))return!1;return!0}function ZC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function uP(n){return n.length>0?n[n.length-1]:null}function oo(n){return Mg(n)?n:Qr(n)?ke(Promise.resolve(n)):re(n)}var H5={exact:hP,subset:fP},dP={exact:z5,subset:q5,ignored:()=>!0};function nP(n,e,t){return H5[t.paths](n.root,e.root,t.matrixParams)&&dP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function z5(n,e){return xi(n,e)}function hP(n,e,t){if(!rs(n.segments,e.segments)||!cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!hP(n.children[i],e.children[i],t))return!1;return!0}function q5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cP(n[t],e[t]))}function fP(n,e,t){return pP(n,e,e.segments,t)}function pP(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!rs(r,t)||e.hasChildren()||!cp(r,t,i))}else if(n.segments.length===t.length){if(!rs(n.segments,t)||!cp(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!fP(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!rs(n.segments,r)||!cp(n.segments,r,i)||!n.children[me]?!1:pP(n.children[me],e,o,i)}}function cp(n,e,t){return e.every((i,r)=>dP[t](n[r].parameters,i.parameters))}var hr=class{constructor(e=new Ue([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){return K5.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return up(this)}},is=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ra(this.parameters),this._parameterMap}toString(){return gP(this)}};function G5(n,e){return rs(n,e)&&n.every((t,i)=>xi(t.parameters,e[i].parameters))}function rs(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function W5(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===me&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==me&&(t=t.concat(e(r,i)))}),t}var bw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>new Zc,providedIn:"root"})}}return n})(),Zc=class{parse(e){let t=new XC(e);return new hr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qc(e.root,!0)}`,i=Z5(e.queryParams),r=typeof e.fragment=="string"?`#${Q5(e.fragment)}`:"";return`${t}${i}${r}`}},K5=new Zc;function up(n){return n.segments.map(e=>gP(e)).join("/")}function qc(n,e){if(!n.hasChildren())return up(n);if(e){let t=n.children[me]?qc(n.children[me],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==me&&i.push(`${r}:${qc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=W5(n,(i,r)=>r===me?[qc(n.children[me],!1)]:[`${r}:${qc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${up(n)}/${t[0]}`:`${up(n)}/(${t.join("//")})`}}function mP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ap(n){return mP(n).replace(/%3B/gi,";")}function Q5(n){return encodeURI(n)}function JC(n){return mP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(n){return decodeURIComponent(n)}function iP(n){return dp(n.replace(/\+/g,"%20"))}function gP(n){return`${JC(n.path)}${Y5(n.parameters)}`}function Y5(n){return Object.entries(n).map(([e,t])=>`;${JC(e)}=${JC(t)}`).join("")}function Z5(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${ap(t)}=${ap(r)}`).join("&"):`${ap(t)}=${ap(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var J5=/^[^\/()?;#]+/;function GC(n){let e=n.match(J5);return e?e[0]:""}var X5=/^[^\/()?;=#]+/;function eH(n){let e=n.match(X5);return e?e[0]:""}var tH=/^[^=?&#]+/;function nH(n){let e=n.match(tH);return e?e[0]:""}var iH=/^[^&#]+/;function rH(n){let e=n.match(iH);return e?e[0]:""}var XC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[me]=new Ue(e,t)),i}parseSegment(){let e=GC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new is(dp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=eH(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=GC(this.remaining);r&&(i=r,this.capture(i))}e[dp(t)]=dp(i)}parseQueryParam(e){let t=nH(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=rH(this.remaining);s&&(i=s,this.capture(i))}let r=iP(t),o=iP(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=GC(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[me]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function _P(n){return n.segments.length>0?new Ue([],{[me]:n}):n}function vP(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=vP(r);if(i===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Ue(n.segments,e);return oH(t)}function oH(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new Ue(n.segments.concat(e.segments),e.children)}return n}function os(n){return n instanceof hr}function sH(n,e,t=null,i=null){let r=yP(n);return CP(r,e,t,i)}function yP(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ue(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=_P(i);return e??r}function CP(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return WC(r,r,r,t,i);let o=aH(e);if(o.toRoot())return WC(r,r,new Ue([],{}),t,i);let s=lH(o,r,n),a=s.processChildren?Kc(s.segmentGroup,s.index,o.commands):EP(s.segmentGroup,s.index,o.commands);return WC(r,s.segmentGroup,a,t,i)}function hp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Jc(n){return typeof n=="object"&&n!=null&&n.outlets}function WC(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=wP(n,e,t);let a=_P(vP(s));return new hr(a,o,r)}function wP(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=wP(o,e,t)}),new Ue(n.segments,i)}var fp=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hp(i[0]))throw new j(4003,!1);let r=i.find(Jc);if(r&&r!==uP(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fp(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new fp(t,e,i)}var Ma=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function lH(n,e,t){if(n.isAbsolute)return new Ma(e,!0,0);if(!t)return new Ma(e,!1,NaN);if(t.parent===null)return new Ma(t,!0,0);let i=hp(n.commands[0])?0:1,r=t.segments.length-1+i;return cH(t,r,n.numberOfDoubleDots)}function cH(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Ma(i,!1,r-o)}function uH(n){return Jc(n[0])?n[0].outlets:{[me]:n}}function EP(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Kc(n,e,t);let i=dH(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,i.pathIndex),{});return o.children[me]=new Ue(n.segments.slice(i.pathIndex),n.children),Kc(o,0,r)}else return i.match&&r.length===0?new Ue(n.segments,{}):i.match&&!n.hasChildren()?ew(n,e,t):i.match?Kc(n,0,r):ew(n,e,t)}function Kc(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let i=uH(t),r={};if(Object.keys(i).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=Kc(n.children[me],e,t);return new Ue(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=EP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ue(n.segments,r)}}function dH(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Jc(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!oP(l,u,s))return o;i+=2}else{if(!oP(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ew(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Jc(o)){let l=hH(o.outlets);return new Ue(i,l)}if(r===0&&hp(t[0])){let l=n.segments[e];i.push(new is(l.path,rP(t[0]))),r++;continue}let s=Jc(o)?o.outlets[me]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&hp(a)?(i.push(new is(s,rP(a))),r+=2):(i.push(new is(s,{})),r++)}return new Ue(i,{})}function hH(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=ew(new Ue([],{}),0,i))}),e}function rP(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function oP(n,e,t){return n==t.path&&xi(e,t.parameters)}var Qc="imperative",Ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ot||{}),On=class{constructor(e,t){this.id=e,this.url=t}},Xc=class extends On{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Ot.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fr=class extends On{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Cn||{}),tw=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(tw||{}),dr=class extends On{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ss=class extends On{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Ot.NavigationSkipped}},eu=class extends On{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pp=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nw=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iw=class extends On{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rw=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ow=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sw=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},aw=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lw=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cw=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uw=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dw=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var tu=class{},ka=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function fH(n,e){return n.providers&&!n._injector&&(n._injector=ev(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ri(n){return n.outlet||me}function pH(n,e){let t=n.filter(i=>ri(i)===e);return t.push(...n.filter(i=>ri(i)!==e)),t}function au(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hw=class{get injector(){return au(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wp(this.rootInjector),this.attachRef=null}},wp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new hw(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(K(Sn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fw(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=fw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=pw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return pw(e,this._root).map(t=>t.value)}};function fw(n,e){if(n===e.value)return e;for(let t of e.children){let i=fw(n,t);if(i)return i}return null}function pw(n,e){if(n===e.value)return[e];for(let t of e.children){let i=pw(n,t);if(i.length)return i.unshift(e),i}return[]}var yn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gp=class extends mp{constructor(e,t){super(e),this.snapshot=t,Iw(this,e)}toString(){return this.snapshot.toString()}};function bP(n){let e=mH(n),t=new Mt([new is("",{})]),i=new Mt({}),r=new Mt({}),o=new Mt({}),s=new Mt(""),a=new pr(t,i,o,s,r,me,n,e.root);return a.snapshot=e.root,new gp(new yn(a,[]),e)}function mH(n){let e={},t={},i={},r="",o=new Pa([],e,i,r,t,me,n,null,{});return new vp("",new yn(o,[]))}var pr=class{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(de(u=>u[su]))??re(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Ra(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Ra(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),r?.data),n._resolvedData)}:i={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},r&&TP(r)&&(i.resolve[su]=r.title),i}var Pa=class{get title(){return this.data?.[su]}constructor(e,t,i,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},vp=class extends mp{constructor(e,t){super(t),this.url=e,Iw(this,t)}toString(){return IP(this._root)}};function Iw(n,e){e.value._routerState=n,e.children.forEach(t=>Iw(n,t))}function IP(n){let e=n.children.length>0?` { ${n.children.map(IP).join(", ")} } `:"";return`${n.value}${e}`}function KC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xi(e.params,t.params)||n.paramsSubject.next(t.params),$5(e.url,t.url)||n.urlSubject.next(t.url),xi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function mw(n,e){let t=xi(n.params,e.params)&&G5(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||mw(n.parent,e.parent))}function TP(n){return typeof n.title=="string"||n.title===null}var Tw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=W(wp),this.location=W(Ji),this.changeDetector=W(Ei),this.inputBinder=W(Sw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new gw(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=We({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[An]})}}return n})(),gw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===pr?this.route:e===wp?this.childContexts:this.parent.get(e,t)}},Sw=new Z("");function gH(n,e,t){let i=nu(n,e._root,t?t._root:void 0);return new gp(i,e)}function nu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=_H(n,e,t);return new yn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nu(n,a)),s}}let i=vH(e.value),r=e.children.map(o=>nu(n,o));return new yn(i,r)}}function _H(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return nu(n,i,r);return nu(n,i)})}function vH(n){return new pr(new Mt(n.url),new Mt(n.params),new Mt(n.queryParams),new Mt(n.fragment),new Mt(n.data),n.outlet,n.component,n)}var iu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},SP="ngNavigationCancelingError";function yp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=os(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=DP(!1,Cn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function DP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SP]=!0,t.cancellationCode=e,t}function yH(n){return AP(n)&&os(n.url)}function AP(n){return!!n&&n[SP]}var CH=(n,e,t,i)=>de(r=>(new _w(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),_w=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),KC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=xa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=xa(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new dw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cw(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(KC(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),KC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Cp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Na=class{constructor(e,t){this.component=e,this.route=t}};function wH(n,e,t){let i=n._root,r=e?e._root:null;return Gc(i,r,t,[i.value])}function EH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fa(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!rS(n)?n:e.get(n):i}function Gc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xa(e);return n.children.forEach(s=>{bH(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yc(a,t.getContext(s),r)),r}function bH(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=IH(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Cp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Gc(n,e,a?a.children:null,i,r):Gc(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Na(a.outlet.component,s))}else s&&Yc(e,a,r),r.canActivateChecks.push(new Cp(i)),o.component?Gc(n,null,a?a.children:null,i,r):Gc(n,null,t,i,r);return r}function IH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mw(n,e)||!xi(n.queryParams,e.queryParams);case"paramsChange":default:return!mw(n,e)}}function Yc(n,e,t){let i=xa(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Yc(s,e.children.getContext(o),t):Yc(s,null,t):Yc(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Na(e.outlet.component,r)):t.canDeactivateChecks.push(new Na(null,r)):t.canDeactivateChecks.push(new Na(null,r))}function lu(n){return typeof n=="function"}function TH(n){return typeof n=="boolean"}function SH(n){return n&&lu(n.canLoad)}function DH(n){return n&&lu(n.canActivate)}function AH(n){return n&&lu(n.canActivateChild)}function xH(n){return n&&lu(n.canDeactivate)}function MH(n){return n&&lu(n.canMatch)}function xP(n){return n instanceof Hi||n?.name==="EmptyError"}var lp=Symbol("INITIAL_VALUE");function Oa(){return Et(n=>Cd(n.map(e=>e.pipe(Pt(1),Lg(lp)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===lp)return lp;if(t===!1||PH(t))return t}return!0}),wt(e=>e!==lp),Pt(1)))}function PH(n){return os(n)||n instanceof iu}function NH(n,e){return tt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(ce(U({},t),{guardsResult:!0})):RH(s,i,r,n).pipe(tt(a=>a&&TH(a)?kH(i,o,n,e):re(a)),de(a=>ce(U({},t),{guardsResult:a})))})}function RH(n,e,t,i){return ke(n).pipe(tt(r=>BH(r.component,r.route,t,e,i)),ln(r=>r!==!0,!0))}function kH(n,e,t,i){return ke(e).pipe(Bs(r=>Nr(FH(r.route.parent,i),OH(r.route,i),VH(n,r.path,t),LH(n,r.route,t))),ln(r=>r!==!0,!0))}function OH(n,e){return n!==null&&e&&e(new uw(n)),re(!0)}function FH(n,e){return n!==null&&e&&e(new lw(n)),re(!0)}function LH(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return re(!0);let r=i.map(o=>wd(()=>{let s=au(e)??t,a=Fa(o,s),l=DH(a)?a.canActivate(e,n):Ki(s,()=>a(e,n));return oo(l).pipe(ln())}));return re(r).pipe(Oa())}function VH(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>EH(s)).filter(s=>s!==null).map(s=>wd(()=>{let a=s.guards.map(l=>{let u=au(s.node)??t,h=Fa(l,u),p=AH(h)?h.canActivateChild(i,n):Ki(u,()=>h(i,n));return oo(p).pipe(ln())});return re(a).pipe(Oa())}));return re(o).pipe(Oa())}function BH(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=au(e)??r,u=Fa(a,l),h=xH(u)?u.canDeactivate(n,e,t,i):Ki(l,()=>u(n,e,t,i));return oo(h).pipe(ln())});return re(s).pipe(Oa())}function UH(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return re(!0);let o=r.map(s=>{let a=Fa(s,n),l=SH(a)?a.canLoad(e,t):Ki(n,()=>a(e,t));return oo(l)});return re(o).pipe(Oa(),MP(i))}function MP(n){return Eg(ae(e=>{if(typeof e!="boolean")throw yp(n,e)}),de(e=>e===!0))}function jH(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return re(!0);let o=r.map(s=>{let a=Fa(s,n),l=MH(a)?a.canMatch(e,t):Ki(n,()=>a(e,t));return oo(l)});return re(o).pipe(Oa(),MP(i))}var ru=class{constructor(e){this.segmentGroup=e||null}},ou=class extends Error{constructor(e){super(),this.urlTree=e}};function Aa(n){return Ls(new ru(n))}function $H(n){return Ls(new j(4e3,!1))}function HH(n){return Ls(DP(!1,Cn.GuardRejected))}var vw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return re(i);if(r.numberOfChildren>1||!r.children[me])return $H(`${e.redirectTo}`);r=r.children[me]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,params:w,data:b,title:R}=r,B=Ki(o,()=>a({params:w,data:b,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,title:R}));if(B instanceof hr)throw new ou(B);t=B}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new ou(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new hr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Ue(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zH(n,e,t,i,r){let o=PP(n,e,t);return o.matched?(i=fH(e,i),jH(i,e,t,r).pipe(de(s=>s===!0?o:U({},yw)))):re(o)}function PP(n,e,t){if(e.path==="**")return qH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},yw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||j5)(t,n,e);if(!r)return U({},yw);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?U(U({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function qH(n){return{matched:!0,parameters:n.length>0?uP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sP(n,e,t,i){return t.length>0&&KH(n,t,i)?{segmentGroup:new Ue(e,WH(i,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&QH(n,t,i)?{segmentGroup:new Ue(n.segments,GH(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function GH(n,e,t,i){let r={};for(let o of t)if(Ep(n,e,o)&&!i[ri(o)]){let s=new Ue([],{});r[ri(o)]=s}return U(U({},i),r)}function WH(n,e){let t={};t[me]=e;for(let i of n)if(i.path===""&&ri(i)!==me){let r=new Ue([],{});t[ri(i)]=r}return t}function KH(n,e,t){return t.some(i=>Ep(n,e,i)&&ri(i)!==me)}function QH(n,e,t){return t.some(i=>Ep(n,e,i))}function Ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function YH(n,e,t){return e.length===0&&!n.children[t]}var Cw=class{};function ZH(n,e,t,i,r,o,s="emptyOnly"){return new ww(n,e,t,i,r,s,o).recognize()}var JH=31,ww=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=sP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:i})=>{let r=new yn(i,t),o=new vp("",r),s=sH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Pa([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(de(i=>({children:i,rootSnapshot:t})),Rr(i=>{if(i instanceof ou)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ru?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(de(s=>s instanceof yn?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(Bs(s=>{let a=i.children[s],l=pH(t,s);return this.processSegmentGroup(e,l,a,s,r)}),Fg((s,a)=>(s.push(...a),s)),kr(null),Og(),tt(s=>{if(s===null)return Aa(i);let a=NP(s);return XH(a),re(a)}))}processSegment(e,t,i,r,o,s,a){return ke(t).pipe(Bs(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,a).pipe(Rr(u=>{if(u instanceof ru)return re(null);throw u}))),ln(l=>!!l),Rr(l=>{if(xP(l))return YH(i,r,o)?re(new Cw):Aa(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,l){return ri(i)!==s&&(s===me||!Ep(r,o,i))?Aa(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):Aa(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=PP(t,r,o);if(!l)return Aa(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JH&&(this.allowRedirects=!1));let w=new Pa(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aP(r),ri(r),r.component??r._loadedComponent??null,r,lP(r)),b=_p(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(b.params),w.data=Object.freeze(b.data);let R=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,w,e);return this.applyRedirects.lineralizeSegments(r,R).pipe(tt(B=>this.processSegment(e,i,t,B.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=zH(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Et(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Et(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:w}=l,b=new Pa(y,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aP(i),ri(i),i.component??i._loadedComponent??null,i,lP(i)),R=_p(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data);let{segmentGroup:B,slicedSegments:G}=sP(t,y,w,u);if(G.length===0&&B.hasChildren())return this.processChildren(h,u,B,b).pipe(de(ne=>new yn(b,ne)));if(u.length===0&&G.length===0)return re(new yn(b,[]));let J=ri(i)===o;return this.processSegment(h,u,B,G,J?me:o,!0,b).pipe(de(ne=>new yn(b,ne instanceof yn?[ne]:[])))}))):Aa(t)))}getChildConfig(e,t,i){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):UH(e,t,i,this.urlSerializer).pipe(tt(r=>r?this.configLoader.loadChildren(e,t).pipe(ae(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):HH(t))):re({routes:[],injector:e})}};function XH(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function ez(n){let e=n.value.routeConfig;return e&&e.path===""}function NP(n){let e=[],t=new Set;for(let i of n){if(!ez(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=NP(i.children);e.push(new yn(i.value,r))}return e.filter(i=>!t.has(i))}function aP(n){return n.data||{}}function lP(n){return n.resolve||{}}function tz(n,e,t,i,r,o){return tt(s=>ZH(n,e,t,i,s.extractedUrl,r,o).pipe(de(({state:a,tree:l})=>ce(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function nz(n,e){return tt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return re(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of RP(l))s.add(u);let a=0;return ke(s).pipe(Bs(l=>o.has(l)?iz(l,i,n,e):(l.data=_p(l,l.parent,n).resolve,re(void 0))),ae(()=>a++),Us(1),tt(l=>a===s.size?re(t):Qt))})}function RP(n){let e=n.children.map(t=>RP(t)).flat();return[n,...e]}function iz(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!TP(r)&&(o[su]=r.title),rz(o,n,e,i).pipe(de(s=>(n._resolvedData=s,n.data=_p(n,n.parent,t).resolve,null)))}function rz(n,e,t,i){let r=ZC(n);if(r.length===0)return re({});let o={};return ke(r).pipe(tt(s=>oz(n[s],e,t,i).pipe(ln(),ae(a=>{if(a instanceof iu)throw yp(new Zc,a);o[s]=a}))),Us(1),xl(o),Rr(s=>xP(s)?Qt:Ls(s)))}function oz(n,e,t,i){let r=au(e)??i,o=Fa(n,r),s=o.resolve?o.resolve(e,t):Ki(r,()=>o(e,t));return oo(s)}function QC(n){return Et(e=>{let t=n(e);return t?ke(t).pipe(de(()=>e)):re(e)})}var kP=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(t){return t.data[su]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W(sz),providedIn:"root"})}}return n})(),sz=(()=>{class n extends kP{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(K(sp))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dw=new Z("",{providedIn:"root",factory:()=>({})}),az=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[He],decls:1,vars:0,template:function(i,r){i&1&&V(0,"router-outlet")},dependencies:[Tw],encapsulation:2})}}return n})();function Aw(n){let e=n.children&&n.children.map(Aw),t=e?ce(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=az),t}var xw=new Z(""),lz=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(sv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=oo(t.loadComponent()).pipe(de(OP),ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ml(()=>{this.componentLoaders.delete(t)})),r=new Ps(i,()=>new Re).pipe(Ms());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=cz(i,this.compiler,t,this.onLoadEndListener).pipe(Ml(()=>{this.childrenLoaders.delete(i)})),s=new Ps(o,()=>new Re).pipe(Ms());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cz(n,e,t,i){return oo(n.loadChildren()).pipe(de(OP),tt(r=>r instanceof Gl||Array.isArray(r)?re(r):ke(e.compileModuleAsync(r))),de(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(xw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Aw),injector:o}}))}function uz(n){return n&&typeof n=="object"&&"default"in n}function OP(n){return uz(n)?n.default:n}var Mw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W(dz),providedIn:"root"})}}return n})(),dz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hz=new Z("");var fz=new Z(""),pz=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=W(lz),this.environmentInjector=W(Sn),this.urlSerializer=W(bw),this.rootContexts=W(wp),this.location=W(jc),this.inputBindingEnabled=W(Sw,{optional:!0})!==null,this.titleStrategy=W(kP),this.options=W(Dw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(Mw),this.createViewTransition=W(hz,{optional:!0}),this.navigationErrorHandler=W(fz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let t=r=>this.events.next(new sw(r)),i=r=>this.events.next(new aw(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ce(U(U({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Mt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),de(o=>ce(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let s=!1,a=!1;return re(o).pipe(Et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),Qt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ce(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new ss(l.id,this.urlSerializer.serialize(l.rawUrl),p,tw.IgnoredSameUrlNavigation)),l.resolve(!1),Qt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(Et(p=>{let y=this.transitions?.getValue();return this.events.next(new Xc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Qt:Promise.resolve(p)}),tz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ae(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new pp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:y,source:w,restoredState:b,extras:R}=l,B=new Xc(p,this.urlSerializer.serialize(y),w,b);this.events.next(B);let G=bP(this.rootComponentType).snapshot;return this.currentTransition=o=ce(U({},l),{targetSnapshot:G,urlAfterRedirects:y,extras:ce(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,re(o)}else{let p="";return this.events.next(new ss(l.id,this.urlSerializer.serialize(l.extractedUrl),p,tw.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Qt}}),ae(l=>{let u=new nw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),de(l=>(this.currentTransition=o=ce(U({},l),{guards:wH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),NH(this.environmentInjector,l=>this.events.next(l)),ae(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw yp(this.urlSerializer,l.guardsResult);let u=new iw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Cn.GuardRejected),!1)),QC(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(ae(u=>{let h=new rw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Et(u=>{let h=!1;return re(u).pipe(nz(this.paramsInheritanceStrategy,this.environmentInjector),ae({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Cn.NoDataFromResolver)}}))}),ae(u=>{let h=new ow(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),QC(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ae(y=>{h.component=y}),de(()=>{})));for(let y of h.children)p.push(...u(y));return p};return Cd(u(l.targetSnapshot.root)).pipe(kr(null),Pt(1))}),QC(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?ke(h).pipe(de(()=>o)):re(o)}),de(l=>{let u=gH(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ce(U({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),ae(()=>{this.events.next(new tu)}),CH(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Pt(1),ae({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Vg(this.transitionAbortSubject.pipe(ae(l=>{throw l}))),Ml(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rr(l=>{if(a=!0,AP(l))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yH(l)?this.events.next(new ka(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new eu(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Ki(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof iu){let{message:p,cancellationCode:y}=yp(this.urlSerializer,h);this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new ka(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Qt}))}))}cancelNavigationTransition(t,i,r){let o=new dr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mz(n){return n!==Qc}var gz=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W(_z),providedIn:"root"})}}return n})(),Ew=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_z=(()=>{class n extends Ew{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>W(vz),providedIn:"root"})}}return n})(),vz=(()=>{class n extends FP{constructor(){super(...arguments),this.location=W(jc),this.urlSerializer=W(bw),this.options=W(Dw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(Mw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Xc)this.stateMemento=this.createStateMemento();else if(t instanceof ss)this.rawUrlTree=i.initialUrl;else if(t instanceof pp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof tu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof dr&&(t.code===Cn.GuardRejected||t.code===Cn.NoDataFromResolver)?this.restoreHistory(i):t instanceof eu?this.restoreHistory(i,!0):t instanceof fr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof hr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=U(U({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wc||{});function yz(n,e){n.events.pipe(wt(t=>t instanceof fr||t instanceof dr||t instanceof eu||t instanceof ss),de(t=>t instanceof fr||t instanceof ss?Wc.COMPLETE:(t instanceof dr?t.code===Cn.Redirect||t.code===Cn.SupersededByNewNavigation:!1)?Wc.REDIRECTING:Wc.FAILED),wt(t=>t!==Wc.REDIRECTING),Pt(1)).subscribe(()=>{e()})}function Cz(n){throw n}var wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(qh),this.stateManager=W(FP),this.options=W(Dw,{optional:!0})||{},this.pendingTasks=W(ta),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(pz),this.urlSerializer=W(bw),this.location=W(jc),this.urlHandlingStrategy=W(Mw),this._events=new Re,this.errorHandler=this.options.errorHandler||Cz,this.navigated=!1,this.routeReuseStrategy=W(gz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(xw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(Sw,{optional:!0}),this.eventsSubscription=new lt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof dr&&i.code!==Cn.Redirect&&i.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fr)this.navigated=!0;else if(i instanceof ka){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=U({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mz(r.source)},s);this.scheduleNavigation(a,Qc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Iz(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=U({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Aw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=r?r.snapshot:this.routerState.snapshot.root;p=yP(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return CP(p,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=os(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Qc,null,i)}navigate(t,i={skipLocationChange:!1}){return bz(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=U({},wz):i===!1?r=U({},Ez):r=i,os(t))return nP(this.currentUrlTree,t,r);let o=this.parseUrl(t);return nP(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,y)=>{a=p,l=y});let h=this.pendingTasks.add();return yz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}function Iz(n){return!(n instanceof tu)&&!(n instanceof ka)}var mt=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(os(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:PD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:os(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(F(Gt),F(pr),Sh("tabindex"),F(dn),F(vt),F(ur))}}static{this.\u0275dir=We({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&X("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ic("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",sa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",sa],replaceUrl:[2,"replaceUrl","replaceUrl",sa],routerLink:"routerLink"},standalone:!0,features:[X0,An]})}}return n})(),bp=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new $e,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof fr&&this.update()})}ngAfterContentInit(){re(this.links.changes,re(null)).pipe(Pr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(t).pipe(Pr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=Tz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(i){return new(i||n)(F(Gt),F(vt),F(dn),F(Ei),F(mt,8))}}static{this.\u0275dir=We({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Uh(o,mt,5),i&2){let s;jh(s=$h())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[An]})}}return n})();function Tz(n){return!!n.paths}var Sz=new Z("");function Ip(n,...e){return Dn([{provide:xw,multi:!0,useValue:n},[],{provide:pr,useFactory:Dz,deps:[Gt]},{provide:ov,multi:!0,useFactory:xz},e.map(t=>t.\u0275providers)])}function Dz(n){return n.routerState.root}function Az(n,e){return{\u0275kind:n,\u0275providers:e}}function xz(){let n=W(zt);return e=>{let t=n.get(jo);if(e!==t.components[0])return;let i=n.get(Gt),r=n.get(Mz);n.get(Pz)===1&&i.initialNavigation(),n.get(Nz,null,ye.Optional)?.setUpPreloading(),n.get(Sz,null,ye.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Mz=new Z("",{factory:()=>new Re}),Pz=new Z("",{providedIn:"root",factory:()=>1});var Nz=new Z("");function LP(){return Az(6,[{provide:ur,useClass:HM}])}var Ye=class n{constructor(){}isArabic=!1;socials=[{icon:"fa-brands fa-facebook",link:"https://www.facebook.com/kuwaitarabstates"},{icon:"fa-brands fa-instagram",link:"https://www.instagram.com/kuwaitandarabstates"},{icon:"fa-brands fa-threads",link:"https://www.threads.net/@kuwaitandarabstates"}];services=[{icon:"fa-solid fa-screwdriver-wrench",name:"service 1",arName:"\u0627\u0644\u062E\u062F\u0645\u0647 1",description:"Lorem ipsum dolor sit amet ",arDescription:"\u0627\u064A \u062D\u0627\u062C\u0647 "},{icon:"fa-solid fa-screwdriver-wrench",name:"service 1",arName:"\u0627\u0644\u062E\u062F\u0645\u0647 1",description:"Lorem ipsum dolor sit amet ",arDescription:"\u0627\u064A \u062D\u0627\u062C\u0647 "},{icon:"fa-solid fa-screwdriver-wrench",name:"service 1",arName:"\u0627\u0644\u062E\u062F\u0645\u0647 1",description:"Lorem ipsum dolor sit amet ",arDescription:"\u0627\u064A \u062D\u0627\u062C\u0647 "}];testimonials=[{enOpinion:"Lorem ipsum dolor ",arOpinion:" \u0631\u0627\u064A \u0627\u0644\u0639\u0645\u064A\u0644 ",arClientName:" \u0627\u0644\u0627\u0633\u0645 ",enClientName:" name "},{enOpinion:"Lorem ipsum dolor ",arOpinion:" \u0631\u0627\u064A \u0627\u0644\u0639\u0645\u064A\u0644 ",arClientName:" \u0627\u0644\u0627\u0633\u0645 ",enClientName:" name "},{enOpinion:"Lorem ipsum dolor ",arOpinion:" \u0631\u0627\u064A \u0627\u0644\u0639\u0645\u064A\u0644 ",arClientName:" \u0627\u0644\u0627\u0633\u0645 ",enClientName:" name "},{enOpinion:"Lorem ipsum dolor ",arOpinion:" \u0631\u0627\u064A \u0627\u0644\u0639\u0645\u064A\u0644 ",arClientName:" \u0627\u0644\u0627\u0633\u0645 ",enClientName:" name "},{enOpinion:"Lorem ipsum dolor ",arOpinion:" \u0631\u0627\u064A \u0627\u0644\u0639\u0645\u064A\u0644 ",arClientName:" \u0627\u0644\u0627\u0633\u0645 ",enClientName:" name "}];static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var fn=class n{constructor(e,t){this.auth=e;this.db=t;this.user$=A1(this.auth)}user$;adminEmails=["mohamedessam1317@gmail.com"];loginWithEmail(e,t){let i=nn(this.db,"users");return ke(Ai(i).then(r=>{if(r.exists()){let o=r.val(),s=Object.values(o).find(a=>a.email===e&&a.password===t);if(s)return{user:s,exists:!0};throw new Error("User not found or incorrect credentials")}else throw new Error("No users found in the database")}))}loginWithGoogle(){return P1(this.auth,new Bv)}logout(){return N1(this.auth)}getCurrentUser(){return this.user$}getUserProfileData(e){let t=nn(this.db,`users/${e}`);return ke(Ai(t).then(i=>i.exists()?i.val():null))}static \u0275fac=function(t){return new(t||n)(K(sr),K(vn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var VP=n=>({"m-auto":n}),Rz=(n,e)=>({"offcanvas-end":n,"offcanvas-start":e}),kz=n=>({"mr-90":n});function Oz(n,e){n&1&&m(0," \u0645\u0646 \u0627\u0644\u0633\u0628\u062A \u0625\u0644\u0649 \u0627\u0644\u062E\u0645\u064A\u0633 \u060C \u0645\u0646 8:30 \u0635\u0628\u0627\u062D\u064B\u0627 \u0625\u0644\u0649 8:00 \u0645\u0633\u0627\u0621\u064B - \u0627\u0644\u062C\u0645\u0639\u0629 \u0625\u062C\u0627\u0632\u0629 ")}function Fz(n,e){n&1&&m(0," Saturday to Thursday, 8:30 AM to 8:00 PM - Friday off ")}function Lz(n,e){n&1&&m(0," 58 \u0634 \u0627\u0644\u062A\u062D\u0631\u064A\u0631\u060C \u0627\u0644\u062C\u064A\u0632\u0629\u060C \u0645\u0635\u0631 ")}function Vz(n,e){n&1&&m(0," 58 El Tahrir St, Giza, Egypt ")}function Bz(n,e){if(n&1&&(C(0,"a",13),V(1,"i"),_()),n&2){let t=e.$implicit;H("href",t.link,Ci),g(),ia(t.icon)}}function Uz(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u0633\u064A\u0629 ")}function jz(n,e){n&1&&m(0," Home ")}function $z(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function Hz(n,e){n&1&&m(0," About Us ")}function zz(n,e){n&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function qz(n,e){n&1&&m(0," Services ")}function Gz(n,e){n&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function Wz(n,e){n&1&&m(0," Contact Us ")}function Kz(n,e){n&1&&m(0," \u0627\u062D\u062C\u0632 \u0627\u0644\u0627\u0646 ")}function Qz(n,e){n&1&&m(0," Booking ")}function Yz(n,e){if(n&1&&(C(0,"li",26)(1,"a",46),I(2,Kz,1,0)(3,Qz,1,0),_()()),n&2){let t=L();g(2),T(t.isArabic?2:3)}}function Zz(n,e){n&1&&m(0," English ")}function Jz(n,e){n&1&&m(0," \u0627\u0644\u0639\u0631\u0628\u064A\u0629 ")}function Xz(n,e){n&1&&m(0," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 ")}function e7(n,e){n&1&&m(0," Login ")}function t7(n,e){if(n&1){let t=Dt();C(0,"a",47),X("click",function(){De(t);let r=L();return Ae(r.loginWithGoogle())}),I(1,Xz,1,0)(2,e7,1,0),V(3,"i",48),_()}if(n&2){let t=L();g(),T(t.isArabic?1:2)}}function n7(n,e){n&1&&m(0," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C ")}function i7(n,e){n&1&&m(0," Logout ")}function r7(n,e){if(n&1){let t=Dt();C(0,"a",47),X("click",function(){De(t);let r=L();return Ae(r.logout())}),I(1,n7,1,0)(2,i7,1,0),V(3,"i",49),_()}if(n&2){let t=L();g(),T(t.isArabic?1:2)}}function o7(n,e){if(n&1&&(C(0,"li",32)(1,"a",50),m(2),V(3,"i",51),_()()),n&2){let t=L();g(2),ee(" ",t.userName.slice(0,5)," ")}}function s7(n,e){n&1&&(m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F "),C(1,"b",52),m(2," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C "),_(),m(3," \u061F "))}function a7(n,e){n&1&&(m(0," Are you sure you want to "),C(1,"b",52),m(2," Log Out "),_(),m(3," ? "))}function l7(n,e){n&1&&m(0," \u0644\u0627 ")}function c7(n,e){n&1&&m(0," No ")}function u7(n,e){n&1&&m(0," \u0646\u0639\u0645 ")}function d7(n,e){n&1&&m(0," Yes ")}var Tp=class n{constructor(e,t,i){this.DataService=e;this.authService=t;this.router=i;this.user$=this.authService.user$}isArabic=!1;user$;userName="";socials;changeLangBtn(){this.DataService.isArabic?(this.DataService.isArabic=!1,this.isArabic=!1,localStorage.setItem("KuwaitArabStatesAutoLang","en")):(this.DataService.isArabic=!0,this.isArabic=!0,localStorage.setItem("KuwaitArabStatesAutoLang","ar"))}changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1}ngAfterViewInit(){let e=document.getElementById("offcanvasNavbar");e&&(e.addEventListener("show.bs.offcanvas",()=>{document.querySelector(".fa-gear")?.classList.add("rotate-gear"),console.log("Offcanvas is opened")}),e.addEventListener("hide.bs.offcanvas",()=>{document.querySelector(".fa-gear")?.classList.remove("rotate-gear"),console.log("Offcanvas is closed")}))}scr(){window.scrollY>=150?document.querySelector(".navbar")?.classList.add("changeNavColors"):document.querySelector(".navbar")?.classList.remove("changeNavColors")}loginWithGoogle(){this.authService.loginWithGoogle().then(()=>{this.router.navigate(["/profile"])}).catch(e=>{console.error("Login failed",e)})}logout(){this.authService.logout().then(()=>{this.router.navigate(["/"])}).catch(e=>{console.error("Logout error:",e)})}ngOnInit(){this.changeLang(),this.socials=this.DataService.socials,this.authService.user$.subscribe(e=>{e?this.authService.getUserProfileData(e.uid).subscribe(t=>{t?.name&&(this.userName=t.name)},t=>{console.error("Error fetching user data:",t)}):this.userName=""})}static \u0275fac=function(t){return new(t||n)(F(Ye),F(fn),F(Gt))};static \u0275cmp=Ve({type:n,selectors:[["app-navbar"]],standalone:!0,features:[He],decls:88,vars:33,consts:[[1,"top-nav","py-1","d-lg-block","d-none"],[1,"container"],[1,"row","g-2"],[1,"col-md-10"],["href","tel:+201150000495","target","_blank",1,"text-decoration-none"],[1,"fa-solid","fa-phone"],["dir","ltr"],[1,"text-decoration-none"],[1,"fa-solid","fa-clock"],["dir","auto"],["href","https://maps.app.goo.gl/u8UGA5e7VbJ6f8Nh8","target","_blank",1,"text-decoration-none"],[1,"fa-solid","fa-location-dot"],[1,"col-md-2","text-end","mt-2",3,"ngClass"],["target","_blank",1,"m-2","social-icon",3,"href"],[1,"navbar","navbar-expand-lg","py-2",3,"scrollTop"],["routerLink","home",1,"navbar-brand"],["src","assets/images/logo-removebg-preview.png","height","50","alt","Kuwait arab states Auto Logo",1,"d-inline-block","align-top"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"fa-solid","fa-gear"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas",3,"ngClass"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["src","assets/images/logo-removebg-preview.png","height","50","alt","Kuwait arab states Auto Logo",1,"d-inline-block"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white",3,"ngClass"],[1,"offcanvas-body"],[1,"navbar-nav","m-auto"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-item"],["routerLink","home","routerLinkActive","active",1,"nav-link"],["routerLink","about","routerLinkActive","active",1,"nav-link"],["routerLink","services","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"],[1,"navbar-nav","ms-auto","my-1","my-lg-0","text-center",3,"ngClass"],["data-bs-dismiss","offcanvas","aria-label","Close"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-link","selectLang",3,"click"],[1,"nav-link","loginOrProfile"],[1,"mt-3","d-md-none","acme"],[1,"fa-solid","fa-heart","text-danger"],["href","https://acmecode-eg.com/","target","_blank"],["id","logoutConfirm","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","logoutConfirmLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["routerLink","booking","routerLinkActive","active",1,"nav-link"],[1,"nav-link","loginOrProfile",3,"click"],[1,"fa-solid","fa-key"],[1,"fa-solid","fa-right-from-bracket"],["routerLink","profile","routerLinkActive","active",1,"nav-link","loginOrProfile"],[1,"fa-solid","fa-user"],[1,"text-danger"]],template:function(t,i){t&1&&(C(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),V(5,"i",5),C(6,"span",6),m(7," +20 115 000 0495 "),_()(),C(8,"b"),m(9," | "),_(),C(10,"a",7),V(11,"i",8),C(12,"span",9),I(13,Oz,1,0)(14,Fz,1,0),_()(),C(15,"b"),m(16," | "),_(),C(17,"a",10),V(18,"i",11),C(19,"span",9),I(20,Lz,1,0)(21,Vz,1,0),_()()(),C(22,"div",12),Tt(23,Bz,2,3,"a",13,It),_()()()(),C(25,"nav",14)(26,"div",1)(27,"a",15),V(28,"img",16),_(),C(29,"button",17),V(30,"i",18),_(),C(31,"div",19)(32,"div",20)(33,"h5",21)(34,"a",15),V(35,"img",22),_()(),V(36,"button",23),_(),C(37,"div",24)(38,"ul",25)(39,"li",26)(40,"a",27),I(41,Uz,1,0)(42,jz,1,0),_()(),C(43,"li",26)(44,"a",28),I(45,$z,1,0)(46,Hz,1,0),_()(),C(47,"li",26)(48,"a",29),I(49,zz,1,0)(50,qz,1,0),_()(),C(51,"li",26)(52,"a",30),I(53,Gz,1,0)(54,Wz,1,0),_()(),I(55,Yz,4,1,"li",26),Hh(56,"async"),_(),C(57,"ul",31)(58,"li",32)(59,"button",33),X("click",function(){return i.changeLangBtn()}),I(60,Zz,1,0)(61,Jz,1,0),_()(),C(62,"li",32),I(63,t7,4,1,"a",34),Hh(64,"async"),I(65,r7,4,1,"a",34),_(),I(66,o7,4,1,"li",32),Hh(67,"async"),C(68,"li",35),m(69," Made With "),V(70,"i",36),m(71," By "),C(72,"a",37),m(73," AcmeCode "),_()()()()()()(),C(74,"div",38)(75,"div",39)(76,"div",40)(77,"div",41),V(78,"i",42),I(79,s7,4,0)(80,a7,4,0),_(),C(81,"div",43)(82,"button",44),I(83,l7,1,0)(84,c7,1,0),_(),C(85,"button",45),X("click",function(){return i.logout()}),I(86,u7,1,0)(87,d7,1,0),_()()()()()),t&2&&(g(13),T(i.isArabic?13:14),g(7),T(i.isArabic?20:21),g(2),H("ngClass",je(24,VP,i.isArabic)),g(),St(i.socials),g(2),H("scrollTop",i.scr()),g(6),H("ngClass",Me(26,Rz,i.isArabic,!i.isArabic)),g(5),H("ngClass",je(29,kz,i.isArabic)),g(5),T(i.isArabic?41:42),g(4),T(i.isArabic?45:46),g(4),T(i.isArabic?49:50),g(4),T(i.isArabic?53:54),g(2),T(zh(56,18,i.user$)?55:-1),g(2),H("ngClass",je(31,VP,i.isArabic)),g(3),T(i.isArabic?60:61),g(3),T(zh(64,20,i.user$)?65:63),g(3),T(zh(67,22,i.user$)?66:-1),g(13),T(i.isArabic?79:80),g(4),T(i.isArabic?83:84),g(3),T(i.isArabic?86:87))},dependencies:[rt,it,WM,mt,bp],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.top-nav[_ngcontent-%COMP%]{background-color:#05054d;border-bottom:1px solid rgb(169,169,169)}.top-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;text-transform:capitalize}.top-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s}.top-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#771eab}.top-nav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{color:#a9a9a9}.navbar[_ngcontent-%COMP%]{background-color:transparent;transition:all 1s}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;margin:.2rem 1.2rem;padding:.5rem;width:75%;text-align:center;border-radius:.8rem;transition:all .3s}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#771eab66;border-radius:.8rem}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#771eab;color:#fff!important;font-weight:600;border-radius:.8rem;padding:.5rem 1rem;transition:all .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:gold;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}.selectLang[_ngcontent-%COMP%], .loginOrProfile[_ngcontent-%COMP%]{background-color:#fff;color:#771eab!important;cursor:pointer}.selectLang[_ngcontent-%COMP%]:hover, .loginOrProfile[_ngcontent-%COMP%]:hover{background-color:#771eab!important;color:#fff!important}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none;color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-toggler[aria-expanded=true][_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}.fa-gear[_ngcontent-%COMP%]{color:#fff;transition:all .3s ease-in-out}.rotate-gear[_ngcontent-%COMP%]{transform:rotate(90deg)}@media (max-width: 768px){.offcanvas[_ngcontent-%COMP%]{background-color:#000c;max-width:80%}}.mr-90[_ngcontent-%COMP%]{margin-right:90px}.changeNavColors[_ngcontent-%COMP%]{background-color:#05054d}.acme[_ngcontent-%COMP%]{color:#771eab;font-weight:800}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic;transition:all .3s}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}']})};var so=(n,e)=>({"fa-angles-left":n,"fa-angles-right":e});function h7(n,e){if(n&1&&(C(0,"a",8),V(1,"i"),_()),n&2){let t=e.$implicit;H("href",t.link,Ci),g(),ia(t.icon)}}function f7(n,e){n&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function p7(n,e){n&1&&m(0," Our Services ")}function m7(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function g7(n,e){n&1&&m(0," Car Oil Change ")}function _7(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function v7(n,e){n&1&&m(0," Auto Diagnostics ")}function y7(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function C7(n,e){n&1&&m(0," Battery Problem ")}function w7(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function E7(n,e){n&1&&m(0," Engine Repair ")}function b7(n,e){n&1&&m(0," \u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064A\u0639\u0629 ")}function I7(n,e){n&1&&m(0," Quick Links ")}function T7(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u0633\u064A\u0629 ")}function S7(n,e){n&1&&m(0," Home ")}function D7(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function A7(n,e){n&1&&m(0," About Us ")}function x7(n,e){n&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function M7(n,e){n&1&&m(0," Contact Us ")}function P7(n,e){n&1&&m(0," \u0627\u062D\u062C\u0632 \u0627\u0644\u0627\u0646 ")}function N7(n,e){n&1&&m(0," Booking ")}function R7(n,e){n&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function k7(n,e){n&1&&m(0," Contact Us ")}function O7(n,e){n&1&&m(0," 58 \u0634 \u0627\u0644\u062A\u062D\u0631\u064A\u0631\u060C \u0627\u0644\u062C\u064A\u0632\u0629\u060C \u0645\u0635\u0631 ")}function F7(n,e){n&1&&m(0," 58 El Tahrir St, Giza, Egypt ")}function L7(n,e){n&1&&m(0," \u0645\u0646 \u0627\u0644\u0633\u0628\u062A \u0625\u0644\u0649 \u0627\u0644\u062E\u0645\u064A\u0633 \u060C \u0645\u0646 8:30 \u0635\u0628\u0627\u062D\u064B\u0627 \u0625\u0644\u0649 8:00 \u0645\u0633\u0627\u0621\u064B - \u0627\u0644\u062C\u0645\u0639\u0629 \u0625\u062C\u0627\u0632\u0629 ")}function V7(n,e){n&1&&m(0," Saturday to Thursday, 8:30 AM to 8:00 PM - Friday off ")}function B7(n,e){n&1&&m(0," \u0634\u0631\u0643\u0629 \u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u0628\u0644\u0627\u062F \u0627\u0644\u0639\u0631\u0628\u064A\u0629 ")}function U7(n,e){n&1&&m(0," Kuwait and Arab Countries Company ")}function j7(n,e){n&1&&m(0," \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629 . ")}function $7(n,e){n&1&&m(0," All rights reserved . ")}var Sp=class n{constructor(e){this.DataService=e}isArabic=!1;socials;year=new Date().getUTCFullYear();changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.socials=this.DataService.socials,this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-footer"]],standalone:!0,features:[He],decls:106,vars:48,consts:[[1,"footer-section"],[1,"container"],[1,"row","g-3"],[1,"col-lg-3","col-md-6","col-sm-12"],[1,"footer-logo"],["src","assets/images/logo-removebg-preview.png","height","50","alt","Kuwait arab states Auto Logo",1,"d-inline-block","align-top"],[1,"my-3"],[1,"footer-social"],["target","_blank",3,"href"],["routerLink","no","routerLinkActive","active"],[1,"fa-solid","mx-1",3,"ngClass"],["routerLink","home","routerLinkActive","active"],["routerLink","about","routerLinkActive","active"],["routerLink","contact","routerLinkActive","active"],["routerLink","booking","routerLinkActive","active"],[1,"contact-info"],["href","https://maps.app.goo.gl/u8UGA5e7VbJ6f8Nh8","target","_blank",1,"text-decoration-none"],[1,"fa-solid","mx-1","fa-location-dot"],["dir","auto"],[1,"text-decoration-none"],[1,"fa-solid","mx-1","fa-clock"],["href","tel:+201150000495","target","_blank",1,"text-decoration-none"],[1,"fa-solid","mx-1","fa-phone"],["dir","ltr"],["href","mailto:info@kuwaitarabstates-auto.com","target","_blank",1,"text-decoration-none"],[1,"fa-solid","mx-1","fa-envelope"],[1,"row","g-3","bottom-row","text-center"],[1,"col-md-6","copyright"],[1,"companyName"],[1,"col-md-6","acme"],[1,"fa-solid","fa-heart","text-danger"],["href","https://acmecode-eg.com/","target","_blank"],[1,"frame"],["src","assets/images/Frame.png","alt","frame"],[1,"frame2"],["src","assets/images/footer_shape_2-1.png","alt","frame"]],template:function(t,i){t&1&&(C(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),V(5,"img",5),C(6,"p",6),m(7,"Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Donec rutrum congue leo eget malesuada."),_()(),C(8,"div",7),Tt(9,h7,2,3,"a",8,It),_()(),C(11,"div",3)(12,"h3"),I(13,f7,1,0)(14,p7,1,0),_(),C(15,"ul")(16,"li")(17,"a",9),V(18,"i",10),I(19,m7,1,0)(20,g7,1,0),_()(),C(21,"li")(22,"a",9),V(23,"i",10),I(24,_7,1,0)(25,v7,1,0),_()(),C(26,"li")(27,"a",9),V(28,"i",10),I(29,y7,1,0)(30,C7,1,0),_()(),C(31,"li")(32,"a",9),V(33,"i",10),I(34,w7,1,0)(35,E7,1,0),_()()()(),C(36,"div",3)(37,"h3"),I(38,b7,1,0)(39,I7,1,0),_(),C(40,"ul")(41,"li")(42,"a",11),V(43,"i",10),I(44,T7,1,0)(45,S7,1,0),_()(),C(46,"li")(47,"a",12),V(48,"i",10),I(49,D7,1,0)(50,A7,1,0),_()(),C(51,"li")(52,"a",13),V(53,"i",10),I(54,x7,1,0)(55,M7,1,0),_()(),C(56,"li")(57,"a",14),V(58,"i",10),I(59,P7,1,0)(60,N7,1,0),_()()()(),C(61,"div",3)(62,"h3"),I(63,R7,1,0)(64,k7,1,0),_(),C(65,"ul",15)(66,"li")(67,"a",16),V(68,"i",17),C(69,"span",18),I(70,O7,1,0)(71,F7,1,0),_()()(),C(72,"li")(73,"a",19),V(74,"i",20),C(75,"span",18),I(76,L7,1,0)(77,V7,1,0),_()()(),C(78,"li")(79,"a",21),V(80,"i",22),C(81,"span",23),m(82," +20 115 000 0495 "),_()()(),C(83,"li")(84,"a",24),V(85,"i",25),C(86,"span",23),m(87," Info@kuwaitarabstates-auto.com "),_()()()()()(),C(88,"div",26)(89,"div",27),m(90),C(91,"span",28),I(92,B7,1,0)(93,U7,1,0),_(),I(94,j7,1,0)(95,$7,1,0),_(),C(96,"div",29),m(97," Made With "),V(98,"i",30),m(99," By "),C(100,"a",31),m(101," AcmeCode "),_()()()(),C(102,"div",32),V(103,"img",33),_(),C(104,"div",34),V(105,"img",35),_()()),t&2&&(g(9),St(i.socials),g(4),T(i.isArabic?13:14),g(5),H("ngClass",Me(24,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?19:20),g(4),H("ngClass",Me(27,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?24:25),g(4),H("ngClass",Me(30,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?29:30),g(4),H("ngClass",Me(33,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?34:35),g(4),T(i.isArabic?38:39),g(5),H("ngClass",Me(36,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?44:45),g(4),H("ngClass",Me(39,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?49:50),g(4),H("ngClass",Me(42,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?54:55),g(4),H("ngClass",Me(45,so,i.isArabic,!i.isArabic)),g(),T(i.isArabic?59:60),g(4),T(i.isArabic?63:64),g(7),T(i.isArabic?70:71),g(6),T(i.isArabic?76:77),g(14),ee(" \xA9 ",i.year," "),g(2),T(i.isArabic?92:93),g(2),T(i.isArabic?94:95))},dependencies:[mt,bp,rt,it],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.footer-section[_ngcontent-%COMP%]{position:relative;background-color:#05054d;color:#fff;padding:50px 0}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#771eab;font-weight:700;font-style:italic;text-transform:uppercase;letter-spacing:1px;text-shadow:0 4px 8px rgba(0,0,0,.5)}.footer-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a9a9a9;font-size:1rem;line-height:2rem}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:1rem 0}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a9a9a9;font-size:.8rem;text-decoration:none;transition:all .3s}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#771eab}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#771eab;text-shadow:0 4px 8px rgba(0,0,0,.5);font-size:1rem}.footer-section[_ngcontent-%COMP%]   .footer-social[_ngcontent-%COMP%]{z-index:2;position:relative}.footer-section[_ngcontent-%COMP%]   .footer-social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin:0 10px 10px 0;color:#fff;font-size:18px;transition:all .3s}.footer-section[_ngcontent-%COMP%]   .footer-social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#771eab}.footer-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#771eab;margin-right:10px}.footer-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#a9a9a9;transition:all .3s}.footer-section[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.frame[_ngcontent-%COMP%], .frame2[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;pointer-events:none}.frame2[_ngcontent-%COMP%]{left:auto;right:0}@media (max-width: 768px){.frame[_ngcontent-%COMP%], .frame2[_ngcontent-%COMP%]{top:auto;bottom:0}.frame2[_ngcontent-%COMP%]{display:none}}.bottom-row[_ngcontent-%COMP%]{margin-top:20px;border-top:1px solid #3e4a68;padding-top:20px;font-size:14px}.companyName[_ngcontent-%COMP%]{color:#771eab;font-style:italic;font-weight:600}"]})};var H7=n=>({"hidden-navbar":n}),z7=n=>({hidden:n}),Dp=class n{constructor(e){this.DataService=e}title="kuwaitarabstates-auto";scrollHeight=0;scrollValue=0;strokeDasharray=138;strokeDashoffset=138;isNavbarHidden=!1;lastScrollPosition=0;onActivate(){window.scroll(0,0),this.calculateScrollHeight()}toTop(){window.scrollTo({top:0,behavior:"smooth"})}direction(){this.DataService.isArabic?document.querySelector(".direction")?.classList.add("rtl"):document.querySelector(".direction")?.classList.remove("rtl"),setTimeout(()=>{this.direction()},100)}calculateScrollHeight(){setTimeout(()=>{this.scrollHeight=document.documentElement.scrollHeight-window.innerHeight},100)}scrNavbar(){let e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollPosition?this.isNavbarHidden=!0:e<this.lastScrollPosition&&(this.isNavbarHidden=!1),this.lastScrollPosition=e}onScroll(){this.scrNavbar();let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(this.scrollValue=e,this.scrollHeight<=0)return;let t=e/this.scrollHeight;this.strokeDashoffset=this.strokeDasharray*(1-t);let i=document.querySelector(".progress-ring__circle");i&&(i.style.strokeDashoffset=`${this.strokeDashoffset}`)}ngOnInit(){AOS.init(),this.calculateScrollHeight(),localStorage.getItem("KuwaitArabStatesAutoLang")=="en"?this.DataService.isArabic=!1:this.DataService.isArabic=!0,this.direction()}static \u0275fac=function(t){return new(t||n)(F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-root"]],hostBindings:function(t,i){t&1&&X("scroll",function(){return i.onScroll()},!1,ND)},standalone:!0,features:[He],decls:9,vars:6,consts:[[1,"direction","overflow-hidden","main-bg"],[1,"navbarScr",3,"ngClass"],[1,"min-vh-100"],[3,"activate"],[1,"progress-container",3,"click","ngClass"],[1,"fa-solid","fa-angles-up","toTop"],["width","50","height","50",1,"progress-ring"],["stroke-width","4","fill","transparent","r","22","cx","25","cy","25",1,"progress-ring__circle"]],template:function(t,i){t&1&&(C(0,"div",0),V(1,"app-navbar",1),C(2,"div",2)(3,"router-outlet",3),X("activate",function(){return i.onActivate()}),_()(),V(4,"app-footer"),C(5,"div",4),X("click",function(){return i.toTop()}),V(6,"i",5),XS(),C(7,"svg",6),V(8,"circle",7),_()()()),t&2&&(g(),H("ngClass",je(2,H7,i.isNavbarHidden)),g(4),H("ngClass",je(4,z7,i.scrollValue<50)))},dependencies:[Tw,Tp,Sp,rt,it],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.rtl[_ngcontent-%COMP%]{direction:rtl}.main-bg[_ngcontent-%COMP%]{background-color:#05054d}.progress-container[_ngcontent-%COMP%]{position:fixed;bottom:5%;right:2%;width:50px;height:50px;cursor:pointer;z-index:9999;opacity:1;visibility:visible;transition:all .3s}.toTop[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.5rem;color:#771eab}.progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.progress-ring__circle[_ngcontent-%COMP%]{stroke:#771eab;stroke-dasharray:138;stroke-dashoffset:138;transition:stroke-dashoffset .3s;transform:rotate(-90deg);transform-origin:50% 50%}.hidden[_ngcontent-%COMP%]{bottom:-7%;opacity:0;visibility:hidden}.navbarScr[_ngcontent-%COMP%]{top:0;transition:all .8s ease;position:fixed;width:100%;z-index:1000}.hidden-navbar[_ngcontent-%COMP%]{top:-100%;transition:all .8s ease}"]})};var BP={production:!0,firebaseConfig:{apiKey:"AIzaSyAOvKqZ9cpKK3HP8IsHNIJIjBta-U78Clg",authDomain:"kuwaitarabstatesauto.firebaseapp.com",databaseURL:"https://kuwaitarabstatesauto-default-rtdb.firebaseio.com",projectId:"kuwaitarabstatesauto",storageBucket:"kuwaitarabstatesauto.appspot.com",messagingSenderId:"50758873885",appId:"1:50758873885:web:f784dc7815573e0f32e7f4"}};var pe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(pe||{}),Mi="*";function UP(n,e){return{type:pe.Trigger,name:n,definitions:e,options:{}}}function Pw(n,e=null){return{type:pe.Animate,styles:e,timings:n}}function jP(n,e=null){return{type:pe.Sequence,steps:n,options:e}}function Ba(n){return{type:pe.Style,styles:n,offset:null}}function Nw(n,e,t){return{type:pe.State,name:n,styles:e,options:t}}function Rw(n,e,t=null){return{type:pe.Transition,expr:n,animation:e,options:t}}var ao=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},cu=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ap="!";var q7=(n,e,t,i,r)=>({width:n,transform:e,transition:t,"padding-left":i,"padding-right":r}),G7=(n,e,t,i)=>({width:n,"margin-left":e,"margin-right":t,left:i}),W7=(n,e)=>({$implicit:n,index:e});function K7(n,e){}function Q7(n,e){if(n&1&&I(0,K7,0,0,"ng-template",4),n&2){let t=L(),i=t.$implicit,r=t.index,o=L();H("ngTemplateOutlet",i.tplRef)("ngTemplateOutletContext",Me(2,W7,o.preparePublicSlide(i),r))}}function Y7(n,e){if(n&1){let t=Dt();ra(0),C(1,"div",2),X("animationend",function(){let r=De(t).$implicit,o=L();return Ae(o.clear(r.id))}),I(2,Q7,1,5,null,3),_(),oa()}if(n&2){let t=e.$implicit;g(),H("ngClass",t.classes)("ngStyle",bA(4,G7,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),g(),H("ngIf",t.load)}}var Z7=(n,e,t,i,r)=>({"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":i,"owl-grab":r}),J7=(n,e)=>({isMouseDragable:n,isTouchDragable:e}),xp=n=>({disabled:n}),X7=(n,e)=>({active:n,"owl-dot-text":e});function eq(n,e){if(n&1&&(C(0,"div",4),V(1,"owl-stage",5),_()),n&2){let t=L();g(),H("owlDraggable",Me(3,J7,t.owlDOMData==null?null:t.owlDOMData.isMouseDragable,t.owlDOMData==null?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}function tq(n,e){if(n&1){let t=Dt();C(0,"div",11),X("click",function(){let r=De(t).$implicit,o=L(2);return Ae(o.moveByDot(r.id))}),V(1,"span",12),_()}if(n&2){let t=e.$implicit;H("ngClass",Me(2,X7,t.active,t.showInnerContent)),g(),H("innerHTML",t.innerContent,xh)}}function nq(n,e){if(n&1){let t=Dt();ra(0),C(1,"div",6)(2,"div",7),X("click",function(){De(t);let r=L();return Ae(r.prev())}),_(),C(3,"div",8),X("click",function(){De(t);let r=L();return Ae(r.next())}),_()(),C(4,"div",9),I(5,tq,2,5,"div",10),_(),oa()}if(n&2){let t=L();g(),H("ngClass",je(7,xp,t.navData==null?null:t.navData.disabled)),g(),H("ngClass",je(9,xp,t.navData==null||t.navData.prev==null?null:t.navData.prev.disabled))("innerHTML",t.navData==null||t.navData.prev==null?null:t.navData.prev.htmlText,xh),g(),H("ngClass",je(11,xp,t.navData==null||t.navData.next==null?null:t.navData.next.disabled))("innerHTML",t.navData==null||t.navData.next==null?null:t.navData.next.htmlText,xh),g(),H("ngClass",je(13,xp,t.dotsData==null?null:t.dotsData.disabled)),g(),H("ngForOf",t.dotsData==null?null:t.dotsData.dots)}}var kw=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},Ow=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},Lw=(()=>{class n{errorHandler;constructor(t){this.errorHandler=t}log(t,...i){NA()&&console.log(t,...i)}error(t){this.errorHandler.handleError(t)}warn(t,...i){console.warn(t,...i)}static \u0275fac=function(i){return new(i||n)(K(Wn))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var WP=function(n){return n.Event="event",n.State="state",n}(WP||{}),Mp=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(Mp||{});var mr=(()=>{class n{logger;_viewSettingsShipper$=new Re;_initializedCarousel$=new Re;_changeSettingsCarousel$=new Re;_changedSettingsCarousel$=new Re;_translateCarousel$=new Re;_translatedCarousel$=new Re;_resizeCarousel$=new Re;_resizedCarousel$=new Re;_refreshCarousel$=new Re;_refreshedCarousel$=new Re;_dragCarousel$=new Re;_draggedCarousel$=new Re;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{let i=this.settings.margin||"",r=!this.settings.autoWidth,o=this.settings.rtl,s={"margin-left":o?i:"","margin-right":o?"":i};r||this.slidesData.forEach(a=>{a.marginL=s["margin-left"],a.marginR=s["margin-right"]}),t.css=s}},{filter:["width","items","settings"],run:t=>{let i=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,r=!this.settings.autoWidth,o=[],s=null,a=this._items.length;for(t.items={merge:!1,width:i};a-- >0;)s=this._mergers[a],s=this.settings.mergeFit&&Math.min(s,this.settings.items)||s,t.items.merge=s>1||t.items.merge,o[a]=r?i*s:this._items[a].width?this._items[a].width:i;this._widths=o,this.slidesData.forEach((l,u)=>{l.width=this._widths[u],l.marginR=t.css["margin-right"],l.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let t=[],i=this._items,r=this.settings,o=Math.max(r.items*2,4),s=Math.ceil(i.length/2)*2,a=[],l=[],u=r.loop&&i.length?r.rewind?o:Math.max(o,s):0;for(u/=2;u-- >0;)t.push(this.normalize(t.length/2,!0)),a.push(U({},this.slidesData[t[t.length-1]])),t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l.unshift(U({},this.slidesData[t[t.length-1]]));this._clones=t,a=a.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),l=l.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),this.slidesData=l.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,i=this._clones.length+this._items.length,r=[],o=-1,s=0,a=0;for(;++o<i;)s=r[o-1]||0,a=this._widths[this.relative(o)]+this.settings.margin,r.push(s+a*t);this._coordinates=r}},{filter:["width","items","settings"],run:()=>{let t=this.settings.stagePadding,i=this._coordinates,r={width:Math.ceil(Math.abs(i[i.length-1]))+t*2,"padding-left":t||"","padding-right":t||""};this.stageData.width=r.width,this.stageData.paddingL=r["padding-left"],this.stageData.paddingR=r["padding-right"]}},{filter:["width","items","settings"],run:t=>{let i=t.current?this.slidesData.findIndex(r=>r.id===t.current):0;i=Math.max(this.minimum(),Math.min(this.maximum(),i)),this.reset(i)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,i=this.settings.stagePadding*2,r=[],o,s,a,l,u,h;if(o=this.coordinates(this.current()),typeof o=="number"?o+=i:o=0,s=o+this.width()*t,t===-1&&this.settings.center){let p=this._coordinates.filter(y=>this.settings.items%2===1?y>=o:y>o);o=p.length?p[p.length-1]:o}for(u=0,h=this._coordinates.length;u<h;u++)a=Math.ceil(this._coordinates[u-1]||0),l=Math.ceil(Math.abs(this._coordinates[u])+i*t),(this._op(a,"<=",o)&&this._op(a,">",s)||this._op(l,"<",o)&&this._op(l,">",s))&&r.push(u);this.slidesData.forEach(p=>(p.isActive=!1,p)),r.forEach(p=>{this.slidesData[p].isActive=!0}),this.settings.center&&(this.slidesData.forEach(p=>(p.isCentered=!1,p)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){let i=new kw,r=this._validateOptions(t,i);this._options=U(U({},i),r)}_validateOptions(t,i){let r=U({},t),o=new Ow,s=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${t[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(let a in r)if(r.hasOwnProperty(a)){if(o[a]==="number")this._isNumeric(r[a])?(r[a]=+r[a],r[a]=a==="items"?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=s(o[a],a);else if(o[a]==="boolean"&&typeof r[a]!="boolean")r[a]=s(o[a],a);else if(o[a]==="number|boolean"&&!this._isNumberOrBoolean(r[a]))r[a]=s(o[a],a);else if(o[a]==="number|string"&&!this._isNumberOrString(r[a]))r[a]=s(o[a],a);else if(o[a]==="string|boolean"&&!this._isStringOrBoolean(r[a]))r[a]=s(o[a],a);else if(o[a]==="string[]")if(Array.isArray(r[a])){let l=!1;r[a].forEach(u=>{l=typeof u=="string"}),l||(r[a]=s(o[a],a))}else r[a]=s(o[a],a)}return r}_validateItems(t,i){let r=t;return t>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(t){this._width=t}setup(t,i,r){this.setCarouselWidth(t),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings=U({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let t=this._width,i=this._options.responsive,r=-1;if(!Object.keys(i).length)return;if(!t){this.settings.items=1;return}for(let s in i)i.hasOwnProperty(s)&&+s<=t&&+s>r&&(r=Number(s));this.settings=ce(U(U({},this._options),i[r]),{items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(s=>{let a=this.settings.merge?s.dataMerge:1;o.push(a)}),this._mergers=o,this._breakpoint=r,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(i=>{let r=this.settings.merge?i.dataMerge:1;this._mergers.push(r)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0,i=this._pipe.length,r=s=>this._invalidated[s],o={};for(;t<i;){let s=this._pipe[t].filter.filter(r);(this._invalidated.all||s.length>0)&&this._pipe[t].run(o),t++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||Mp.Default,t){case Mp.Inner:case Mp.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let i=null,r;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),t.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,i){let r=null,o=null,s=null,a=this.difference(i.pointer,this.pointer(t)),l=this.difference(i.stage.start,a);return this.is("dragging")?(this.settings.loop?(r=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%o+o)%o+r):(r=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+s),o+s)),l):!1}finishDragging(t,i,r){let o=["right","left"],s=this.difference(i.pointer,this.pointer(t)),a=i.stage.current,l=o[+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)],u,h,p;(s.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),u=this.closest(a.x,s.x!==0?l:i.direction),h=this.current(),p=this.current(u===-1?void 0:u),h!==p&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(s.x)>3||new Date().getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,i){let o=this.width(),s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(l=>(l===0&&(l+=1e-6),l)));for(let l=0;l<s.length&&(i==="left"&&t>s[l]-30&&t<s[l]+30?a=l:i==="right"&&t>s[l]-o-30&&t<s[l]-o+30?a=l+1:this._op(t,"<",s[l])&&this._op(t,">",s[l+1]||s[l]-o)?a=i==="left"?l+1:l:i===null&&t>s[l]-30&&t<s[l]+30&&(a=l),a===-1);l++);return this.settings.loop||(this._op(t,">",s[this.minimum()])?a=t=this.minimum():this._op(t,"<",s[this.maximum()])&&(a=t=this.maximum())),a}animate(t){let i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){if(t===void 0)return this._current;if(this._items.length!==0){if(t=this.normalize(t),this._current!==t){let i=this._trigger("change",{property:{name:"position",value:t}});this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(t){return typeof t=="string"&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){t=this.normalize(t),t!==void 0&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,i){let r=this._items.length,o=i?0:this._clones.length;return!this._isNumeric(t)||r<1?t=void 0:(t<0||t>=r+o)&&(t=((t-o/2)%r+r)%r+o/2),t}relative(t){return t-=this._clones.length/2,this.normalize(t,!0)}maximum(t=!1){let i=this.settings,r=this._coordinates.length,o,s,a;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o-- >0&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););r=o+1}else i.center?r=this._items.length-1:r=this._items.length-i.items;return t&&(r-=this._clones.length/2),Math.max(r,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return t===void 0?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return t===void 0?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){let i=this._clones.length/2,r=i+this._items.length,o=s=>s%2===0?r+s/2:i-(s+1)/2;return t===void 0?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===t?o(a):null).filter(s=>s)}speed(t){return t!==void 0&&(this._speed=t),this._speed}coordinates(t){let i=1,r=t-1,o,s;return t===void 0?(s=this._coordinates.map((a,l)=>this.coordinates(l)),s):(this.settings.center?(this.settings.rtl&&(i=-1,r=t+1),o=this._coordinates[t],o+=(this.width()-o+(this._coordinates[r]||0))/2*i):o=this._coordinates[r]||0,o=Math.ceil(o),o)}_duration(t,i,r){return r===0?0:Math.min(Math.max(Math.abs(i-t),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(t,i){let r=this.current(),o=null,s=t-this.relative(r),a=this.maximum(),l=0,u=+(s>0)-+(s<0),h=this._items.length,p=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>h/2&&(s+=u*-1*h),t=r+s,o=((t-p)%h+h)%h+p,o!==t&&o-s<=a&&o-s>0&&(r=o-s,t=o,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,t=(t%a+a)%a):t=Math.max(p,Math.min(a,t)),setTimeout(()=>{this.speed(this._duration(r,t,i)),this.current(t),this.update()},l)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(t!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(i=>{i.load&&t.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:t?t.get(i.id):!1,hashFragment:i.dataHash}))}setCurSlideClasses(t){let i={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=t.isCustomAnimatedOut),i}_op(t,i,r){let o=this.settings.rtl;switch(i){case"<":return o?t>r:t<r;case">":return o?t<r:t>r;case">=":return o?t<=r:t>=r;case"<=":return o?t>=r:t<=r;default:break}}_trigger(t,i,r,o,s){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t);break;default:break}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(i=>{this._states.current[i]===void 0&&(this._states.current[i]=0),this._states.current[i]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(i=>{(this._states.current[i]===0||this._states.current[i])&&this._states.current[i]--})}register(t){t.type===WP.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((i,r)=>this._states.tags[t.name].indexOf(i)===r))}_suppress(t){t.forEach(i=>{this._supress[i]=!0})}_release(t){t.forEach(i=>{delete this._supress[i]})}pointer(t){let i={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||typeof t=="boolean"}_isNumberOrString(t){return this._isNumeric(t)||typeof t=="string"}_isStringOrBoolean(t){return typeof t=="string"||typeof t=="boolean"}difference(t,i){return t===null||i===null?{x:0,y:0}:{x:t.x-i.x,y:t.y-i.y}}static \u0275fac=function(i){return new(i||n)(K(Lw))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),$P=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ae(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe(wt(s=>s.property.name==="position"),ae(s=>{this.update()})),r=this.carouselService.getRefreshedState().pipe(ae(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=$n(t,i,r);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,i,r,o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],u=this.carouselService.settings,h=u.center||u.autoWidth||u.dotsData?1:Math.floor(Number(u.dotsEach))||Math.floor(u.items);if(h=+h,u.slideBy!=="page"&&(u.slideBy=Math.min(+u.slideBy,u.items)),u.dots||u.slideBy==="page")for(t=o,i=0,r=0;t<s;t++){if(i>=h||i===0){if(l.push({start:Math.min(a,t-o),end:t-o+h-1}),Math.min(a,t-o)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=l}draw(){let t,i=this.carouselService.settings,r=this.carouselService.items(),o=r.length<=i.items;if(this._navData.disabled=!i.nav||o,this._dotsData.disabled=!i.dots||o,i.dots)if(t=this._pages.length-this._dotsData.dots.length,i.dotsData&&t!==0)this._dotsData.dots=[],r.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(t>0){let s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<t;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let t=this.carouselService.settings,i=t.loop||t.rewind,r=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(i=>{i.active===!0&&(i.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let t=this.carouselService.relative(this.carouselService.current()),i,r=this._pages.filter((o,s)=>o.start<=t&&o.end>=t).pop();return i=this._pages.findIndex(o=>o.start===r.start&&o.end===r.end),i}_getPosition(t){let i,r,o=this.carouselService.settings;return o.slideBy==="page"?(i=this._current(),r=this._pages.length,t?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,t?i+=+o.slideBy:i-=+o.slideBy),i}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,i,r){let o;!r&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(t%o+o)%o].start,i)):this.carouselService.to(t,i)}moveByDot(t){let i=this._dotsData.dots.findIndex(r=>t===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(t){let i=this.carouselService.slidesData.findIndex(r=>r.id===t&&r.isCloned===!1);i===-1||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}static \u0275fac=function(i){return new(i||n)(K(mr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Vw=new Z("WindowToken"),uu=class{get nativeWindow(){throw new Error("Not implemented.")}},iq=(()=>{class n extends uu{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function rq(n,e){return np(e)?n.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}}var oq={provide:uu,useClass:iq},sq={provide:Vw,useFactory:rq,deps:[uu,Mn]},aq=[oq,sq],Bw=new Z("DocumentToken"),du=class{get nativeDocument(){throw new Error("Not implemented.")}},lq=(()=>{class n extends du{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function cq(n,e){return np(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var uq={provide:du,useClass:lq},dq={provide:Bw,useFactory:cq,deps:[du,Mn]},hq=[uq,dq],HP=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,i,r,o){this.carouselService=t,this.ngZone=o,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ae(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe(ae(s=>{this._handleChangeObservable(s)})),r=this.carouselService.getResizedState().pipe(ae(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=$n(t,i,r);this.autoplaySubscription=o.subscribe(()=>{})}play(t,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){t.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():t.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){re("translated").pipe(Et(t=>this.carouselService.getTranslatedState()),ln(),wt(()=>this._isArtificialAutoplayTimeout),ae(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(i){return new(i||n)(K(mr),K(Vw),K(Bw),K(xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),zP=(()=>{class n{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ae(()=>{let s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),o=$n(t,i,r).pipe(ae(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(t){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(t.property&&t.property.name==="position"||t==="initialized"||t==="resized")){let i=this.carouselService.settings,r=this.carouselService.clones().length,o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&o*-1||0,a=(t.property&&t.property.value!==void 0?t.property.value:this.carouselService.current())+s;for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(i){return new(i||n)(K(mr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Fw=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getChangeState().pipe(ae(u=>{u.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=u.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=$n(i,r,o).pipe(ae(u=>this.swapping=u==="translated")),a=this.carouselService.getTranslateState().pipe(ae(u=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),l=$n(t,a,s).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let t,i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${t}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(i=>{i.id===t&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(i){return new(i||n)(K(mr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),qP=(()=>{class n{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ae(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),i=this.carouselService.getChangedState().pipe(ae(s=>{this.carouselService.settings.autoHeight&&s.property.name==="position"&&this.update()})),r=this.carouselService.getRefreshedState().pipe(ae(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=$n(t,i,r);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let t=this.carouselService.settings.items,i=this.carouselService.current(),r=i+t;this.carouselService.settings.center&&(i=t%2===1?i-(t-1)/2:i-t/2,r=t%2===1?i+t:i+t+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=i&&s<r?"full":"nulled"})}static \u0275fac=function(i){return new(i||n)(K(mr))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),GP=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,i,r){this.carouselService=t,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:re("no route").pipe(Pt(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ae(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe(ae(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),r=$n(t,i);this.hashSubscription=r.subscribe(()=>{})}rewind(t){let i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===t&&r.isCloned===!1);i===-1||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){let t=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(Id(t)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}static \u0275fac=function(i){return new(i||n)(K(mr),K(pr,8),K(Gt,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),fq=0,Uw=(()=>{class n{tplRef;id=`owl-slide-${fq++}`;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(i){return new(i||n)(F(qi))};static \u0275dir=We({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return n})(),KP=(()=>{class n{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(t,i){this.resizeObservable$=np(i)?Al(t,"resize"):new Re().asObservable()}static \u0275fac=function(i){return new(i||n)(K(Vw),K(Mn))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),pq=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new Re;_oneMoveSubsription;preparePublicSlide=t=>{let i=U({},t);return delete i.tplRef,i};constructor(t,i,r,o,s){this.zone=t,this.el=i,this.renderer=r,this.carouselService=o,this.animateService=s}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(ln()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let i=null;t.which!==3&&(i=this._prepareDragging(t),this._drag.time=new Date().getTime(),this._drag.target=t.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){let i=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let i=t.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(t){let i,r=this.carouselService.defineNewCoordsDrag(t,this._drag);r!==!1&&(i=r,t.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,i){return this.carouselService.difference(t,i)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(i){return new(i||n)(F(xe),F(vt),F(dn),F(mr),F(Fw))};static \u0275cmp=Ve({type:n,selectors:[["owl-stage"]],hostBindings:function(i,r){i&1&&X("mousedown",function(s){return r.onMouseDown(s)})("touchstart",function(s){return r.onTouchStart(s)})("touchcancel",function(s){return r.onTouchCancel(s)})("dragstart",function(){return r.onDragStart()})("selectstart",function(){return r.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(C(0,"div")(1,"div",0),X("transitionend",function(){return r.onTransitionEnd()}),I(2,Y7,3,9,"ng-container",1),_()()),i&2&&(g(),H("ngStyle",nv(2,q7,r.stageData.width+"px",r.stageData.transform,r.stageData.transition,r.stageData.paddingL?r.stageData.paddingL+"px":"",r.stageData.paddingR?r.stageData.paddingR+"px":"")),g(),H("ngForOf",r.slidesData))},dependencies:[it,OC,FC,GM,qM],encapsulation:2,data:{animation:[UP("autoHeight",[Nw("nulled",Ba({height:0})),Nw("full",Ba({height:"*"})),Rw("full => nulled",[Pw("700ms 350ms")]),Rw("nulled => full",[Pw(350)])])]}})}return n})(),QP=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new $e;dragging=new $e;change=new $e;changed=new $e;initialized=new $e;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,i,r,o,s,a,l,u,h,p,y,w){this.el=t,this.resizeService=i,this.carouselService=r,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=u,this.hashService=h,this.logger=p,this.changeDetectorRef=y,this.docRef=w}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(ae(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(ae(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(ae(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(ae(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(ae(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Et(t=>{let i=re(t).pipe(wt(()=>t.property.name==="position"),Et(()=>ke(this.slidesData)),Id(t.property.value),Pt(this.carouselService.settings.items),de(r=>{let o=this.carouselService.clonedIdPrefix,s=r.id.indexOf(o)>=0?r.id.slice(o.length):r.id;return ce(U({},r),{id:s,isActive:!0})}),Ng(),de(r=>({slides:r,startPosition:this.carouselService.relative(t.property.value)})));return $n(i)}),ae(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(ae(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Et(()=>this.carouselService.getDraggedState().pipe(de(()=>!!this.carouselService.is("animating")))),Et(t=>t?this.carouselService.getTranslatedState().pipe(ln()):re("not animating")),ae(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=$n(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(wt(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),kg(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t,i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(i)>=0?o.id.slice(i.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(i){return new(i||n)(F(vt),F(KP),F(mr),F($P),F(HP),F(zP),F(Fw),F(qP),F(GP),F(Lw),F(Ei),F(Bw))};static \u0275cmp=Ve({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(i,r,o){if(i&1&&Uh(o,Uw,4),i&2){let s;jh(s=$h())&&(r.slides=s)}},hostBindings:function(i,r){i&1&&X("visibilitychange",function(s){return r.onVisibilityChange(s)},!1,RD)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[er([$P,HP,mr,zP,Fw,qP,GP]),An],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(i,r){if(i&1){let o=Dt();C(0,"div",1,0),X("mouseover",function(){return De(o),Ae(r.startPausing())})("mouseleave",function(){return De(o),Ae(r.startPlayML())})("touchstart",function(){return De(o),Ae(r.startPausing())})("touchend",function(){return De(o),Ae(r.startPlayTE())}),I(2,eq,2,6,"div",2)(3,nq,6,15,"ng-container",3),_()}i&2&&(H("ngClass",nv(3,Z7,r.owlDOMData==null?null:r.owlDOMData.rtl,r.owlDOMData==null?null:r.owlDOMData.isLoaded,r.owlDOMData==null?null:r.owlDOMData.isResponsive,r.owlDOMData==null?null:r.owlDOMData.isMouseDragable,r.owlDOMData==null?null:r.owlDOMData.isGrab)),g(2),H("ngIf",r.carouselLoaded),g(),H("ngIf",r.slides.toArray().length))},dependencies:[it,OC,FC,pq],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var YP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Yn({type:n});static \u0275inj=Qn({providers:[aq,KP,hq,Lw],imports:[rt]})}return n})();function gq(n,e){n&1&&m(0,"\u0634\u0631\u0643\u0629 \u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u0628\u0644\u0627\u062F \u0627\u0644\u0639\u0631\u0628\u064A\u0629")}function _q(n,e){n&1&&m(0," Kuwait and Arab Countries Company ")}function vq(n,e){n&1&&m(0," \u0645\u0631\u0643\u0632 \u062E\u062F\u0645\u0647 \u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u0628\u0644\u0627\u062F \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u064A\u0639\u062A\u0628\u0631 \u0648\u0627\u062D\u062F \u0645\u0646 \u0623\u0639\u0631\u0642 \u0648\u0623\u0643\u0628\u0631 \u0645\u0631\u0627\u0643\u0632 \u0627\u0644\u062E\u062F\u0645\u0647 \u0641\u064A \u0645\u0635\u0631 \u0648\u0643\u064A\u0644 \u0635\u064A\u0627\u0646\u0647 \u0645\u0639\u062A\u0645\u062F MG ")}function yq(n,e){n&1&&m(0," The Kuwait and Arab Countries Service Center is considered one of the oldest and largest service centers in Egypt, an authorized MG maintenance agent. ")}function Cq(n,e){n&1&&m(0," \u0627\u062D\u062C\u0632 \u0635\u064A\u0627\u0646\u062A\u0643 \u0627\u0644\u0627\u0646 ")}function wq(n,e){n&1&&m(0," Book your maintenance now ")}function Eq(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function bq(n,e){n&1&&m(0," About Us ")}function Iq(n,e){n&1&&m(0,"\u0634\u0631\u0643\u0629 \u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u0628\u0644\u0627\u062F \u0627\u0644\u0639\u0631\u0628\u064A\u0629")}function Tq(n,e){n&1&&m(0," Kuwait and Arab Countries Company ")}function Sq(n,e){n&1&&m(0," \u0627\u0644\u0645\u0632\u064A\u062F \u0639\u0646\u0627 ")}function Dq(n,e){n&1&&m(0," More About Us ")}function Aq(n,e){n&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function xq(n,e){n&1&&m(0," Our Services ")}function Mq(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.arName," ")}}function Pq(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.name," ")}}function Nq(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.arDescription," ")}}function Rq(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.description," ")}}function kq(n,e){if(n&1&&(C(0,"div",16)(1,"div",22),V(2,"i"),C(3,"h3"),I(4,Mq,1,1)(5,Pq,1,1),_(),C(6,"p"),I(7,Nq,1,1)(8,Rq,1,1),_(),C(9,"div",18),V(10,"img",19),_()()()),n&2){let t=e.$implicit,i=L();g(2),ia(t.icon),g(2),T(i.isArabic?4:5),g(3),T(i.isArabic?7:8)}}function Oq(n,e){n&1&&m(0," \u0627\u0643\u062A\u0634\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u062E\u062F\u0645\u0627\u062A ")}function Fq(n,e){n&1&&m(0," Explore All Services ")}function Lq(n,e){n&1&&m(0," \u0623\u0631\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 ")}function Vq(n,e){n&1&&m(0," Client Reviews ")}function Bq(n,e){if(n&1&&m(0),n&2){let t=L(2).$implicit;ee(" ",t.arOpinion," ")}}function Uq(n,e){if(n&1&&m(0),n&2){let t=L(2).$implicit;ee(" ",t.enOpinion," ")}}function jq(n,e){if(n&1&&m(0),n&2){let t=L(2).$implicit;ee(" ",t.arClientName," ")}}function $q(n,e){if(n&1&&m(0),n&2){let t=L(2).$implicit;ee(" ",t.enClientName," ")}}function Hq(n,e){if(n&1&&(C(0,"div",24)(1,"p"),I(2,Bq,1,1)(3,Uq,1,1),_(),V(4,"hr"),C(5,"small"),V(6,"i",25),I(7,jq,1,1)(8,$q,1,1),_()()),n&2){let t=L(2);g(2),T(t.isArabic?2:3),g(5),T(t.isArabic?7:8)}}function zq(n,e){n&1&&(ra(0),I(1,Hq,9,2,"ng-template",23),oa())}var Pp=class n{constructor(e,t,i){this.DataService=e;this.authService=t;this.router=i;this.user$=this.authService.user$}isArabic=!1;user$;services;testimonials;changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}handleBookingClick(){this.user$.subscribe(e=>{e?this.router.navigate(["/booking"]):this.authService.loginWithGoogle()})}navigateToBooking(){this.router.navigate(["/booking"])}loginWithGoogle(){this.authService.loginWithGoogle().then(()=>{this.router.navigate(["/profile"])}).catch(e=>{console.error("Login failed",e)})}ngOnInit(){this.changeLang(),this.services=this.DataService.services,this.testimonials=this.DataService.testimonials}customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:200,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:2},940:{items:3}},nav:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,rtl:!0};static \u0275fac=function(t){return new(t||n)(F(Ye),F(fn),F(Gt))};static \u0275cmp=Ve({type:n,selectors:[["app-home"]],standalone:!0,features:[He],decls:62,vars:10,consts:[[1,"hero","py-5"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"btn","btn-primary",3,"click"],[1,"about","py-5"],[1,"text-center","mb-3"],[1,"fs-4","style-paperclip"],["draggable","false","width","60","height","30","src","assets/images/logo-removebg-preview.png","alt","Kuwait arab states Auto Logo",1,"logo","mb-2"],[1,"row","g-5"],[1,"col-md-6"],["src","assets/images/logo.jpg","draggable","false","alt","Kuwait arab states Auto Logo",1,"w-100","aboutLogo"],[1,"text-center","mt-3"],["routerLink","/about",1,"btn","btn-primary"],[1,"services","py-5"],[1,"row","g-2"],[1,"col-lg-4","col-md-6"],["routerLink","/services",1,"btn","btn-primary"],[1,"frame"],["src","assets/images/service_shape_1.png","alt","service_shape"],[1,"clientReviews","py-5"],[1,"text-center",3,"options"],[1,"alert","alert-primary","service","shadow"],["carouselSlide",""],[1,"alert","alert-primary","clientReview","m-2"],[1,"fa-solid","fa-tag"]],template:function(t,i){t&1&&(C(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),I(5,gq,1,0)(6,_q,1,0),_(),C(7,"p"),I(8,vq,1,0)(9,yq,1,0),_(),C(10,"a",4),X("click",function(){return i.handleBookingClick()}),I(11,Cq,1,0)(12,wq,1,0),_()()()()(),C(13,"section",5)(14,"div",1)(15,"div",6)(16,"h2"),I(17,Eq,1,0)(18,bq,1,0),_(),C(19,"span",7),V(20,"img",8),_()(),C(21,"div",9)(22,"div",10),V(23,"img",11),_(),C(24,"div",10)(25,"h3"),I(26,Iq,1,0)(27,Tq,1,0),_(),C(28,"p"),m(29," Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo nemo a iure labore quam quos sed aperiam voluptate nostrum, quaerat dolorum ratione ex assumenda aliquid nulla beatae totam debitis mollitia molestias, facilis ipsa soluta quod neque sapiente. Nulla hic corrupti suscipit quasi! Quas vel illo adipisci quisquam perferendis aut provident . "),_(),C(30,"div",12)(31,"a",13),I(32,Sq,1,0)(33,Dq,1,0),_()()()()()(),C(34,"section",14)(35,"div",1)(36,"div",6)(37,"h2"),I(38,Aq,1,0)(39,xq,1,0),_(),C(40,"span",7),V(41,"img",8),_()(),C(42,"div",15),Tt(43,kq,11,4,"div",16,It),_(),C(45,"div",12)(46,"a",17),I(47,Oq,1,0)(48,Fq,1,0),_()()(),C(49,"div",18),V(50,"img",19),_()(),C(51,"section",20)(52,"div",1)(53,"div",6)(54,"h2"),I(55,Lq,1,0)(56,Vq,1,0),_(),C(57,"span",7),V(58,"img",8),_()(),C(59,"owl-carousel-o",21),Tt(60,zq,2,0,"ng-container",null,It),_()()()),t&2&&(g(5),T(i.isArabic?5:6),g(3),T(i.isArabic?8:9),g(3),T(i.isArabic?11:12),g(6),T(i.isArabic?17:18),g(9),T(i.isArabic?26:27),g(6),T(i.isArabic?32:33),g(6),T(i.isArabic?38:39),g(5),St(i.services),g(4),T(i.isArabic?47:48),g(8),T(i.isArabic?55:56),g(4),H("options",i.customOptions),g(),St(i.testimonials))},dependencies:[mt,YP,QP,Uw],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.hero[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;background:linear-gradient(#300965cc,#0000),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover;background-attachment:fixed}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;color:#fff;word-spacing:6px;text-transform:capitalize;font-family:Great Vibes,cursive}.hero[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#771eab;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}.hero[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.4rem;text-transform:capitalize;margin:2rem 0}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(1.02);box-shadow:1px 1px 15px #771eab99}}.about[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#771eab;font-style:italic}.about[_ngcontent-%COMP%]   .aboutLogo[_ngcontent-%COMP%]{border-radius:.8rem;box-shadow:1px 1px 15px #05054d!important;border:2px solid rgb(119,30,171);transition:all .3s ease-in-out}.about[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#771eab}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-style:italic}.about[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#771eab99;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out}.about[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}.services[_ngcontent-%COMP%]{position:relative}.services[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#771eab;font-style:italic}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]{background-color:#771eab66;color:#fff;border:2px solid rgb(119,30,171);padding:1.5rem;border-radius:.8rem;position:relative;overflow:hidden;transition:all .3s ease-in-out}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.5rem 0!important}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .frame[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:1;pointer-events:none;opacity:0;transition:all .3s ease-in-out}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]:hover{transform:translateY(5px);box-shadow:1px 1px 15px #771eab99!important}.services[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]:hover   .frame[_ngcontent-%COMP%]{opacity:1}.services[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#771eab99;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out}.services[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}.services[_ngcontent-%COMP%]   .frame[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:1;pointer-events:none}.clientReviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#771eab;font-style:italic}.clientReviews[_ngcontent-%COMP%]   .clientReview[_ngcontent-%COMP%]{background-color:#771eab66;color:#fff;border:2px solid rgb(119,30,171);padding:1.5rem;border-radius:.8rem;transition:all .3s ease-in-out}.clientReviews[_ngcontent-%COMP%]   .clientReview[_ngcontent-%COMP%]:hover{transform:translateY(5px);box-shadow:1px 1px 15px #771eab99!important}.style-paperclip[_ngcontent-%COMP%]{color:#771eab;position:relative}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_MOVE-BG .6s infinite ease-in-out alternate;position:relative}@keyframes _ngcontent-%COMP%_MOVE-BG{0%{transform:scale(1)}to{transform:scale(.9)}}.style-paperclip[_ngcontent-%COMP%]:before, .style-paperclip[_ngcontent-%COMP%]:after{content:"";width:60px;height:4px;background-color:#fff;border-radius:10px;position:absolute;top:50%;transform:translateY(-50%)}.style-paperclip[_ngcontent-%COMP%]:before{left:-70px}.style-paperclip[_ngcontent-%COMP%]:after{right:-70px}']})};function qq(n,e){n&1&&m(0," \u0639\u0630\u0631\u064B\u0627\u060C \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u062A\u064A \u062A\u0628\u062D\u062B \u0639\u0646\u0647\u0627 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629. ")}function Gq(n,e){n&1&&m(0," Sorry, the page you are looking for does not exist. ")}function Wq(n,e){n&1&&m(0," \u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function Kq(n,e){n&1&&m(0," Return to Home ")}var Np=class n{constructor(e){this.DataService=e}isArabic=!1;changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-error"]],standalone:!0,features:[He],decls:11,vars:2,consts:[[1,"error-page","vh-100","d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"error-icon"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"error-code"],[1,"error-message"],["routerLink","/home",1,"btn","btn-primary","mt-4"]],template:function(t,i){t&1&&(C(0,"div",0)(1,"div",1),V(2,"i",2),_(),C(3,"h1",3),m(4,"404"),_(),C(5,"p",4),I(6,qq,1,0)(7,Gq,1,0),_(),C(8,"a",5),I(9,Wq,1,0)(10,Kq,1,0),_()()),t&2&&(g(6),T(i.isArabic?6:7),g(3),T(i.isArabic?9:10))},dependencies:[mt],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.error-page[_ngcontent-%COMP%]{color:#fff;padding:20px}.error-page[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.error-page[_ngcontent-%COMP%]   .error-code[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;margin:0}.error-page[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:1.2rem;margin:20px 0}.error-page[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#fff;color:#771eab;padding:10px 20px;border:none;border-radius:5px;font-size:18px;text-transform:uppercase;transition:background-color .3s,color .3s}.error-page[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#771eab;color:#fff}"]})};var Qq=(n,e)=>({"fa-angle-left":n,"fa-angle-right":e});function Yq(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function Zq(n,e){n&1&&m(0," Home ")}function Jq(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function Xq(n,e){n&1&&m(0," About Us ")}function e9(n,e){n&1&&m(0," \u0639\u0646\u0627 ")}function t9(n,e){n&1&&m(0," About Us ")}var Rp=class n{constructor(e){this.DataService=e}isArabic=!1;changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-about"]],standalone:!0,features:[He],decls:14,vars:7,consts:[[1,"pageTitle","vh-70","d-flex","align-items-center","justify-content-center","flex-column","pt-5"],[1,"navigation"],["routerLink","/home"],[1,"mx-2"],[1,"fa-solid",3,"ngClass"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-5"]],template:function(t,i){t&1&&(C(0,"section",0)(1,"div",1)(2,"span")(3,"a",2),I(4,Yq,1,0)(5,Zq,1,0),_()(),C(6,"b",3),V(7,"i",4),_(),C(8,"span"),I(9,Jq,1,0)(10,Xq,1,0),_()(),C(11,"h1",5),I(12,e9,1,0)(13,t9,1,0),_()()),t&2&&(g(4),T(i.isArabic?4:5),g(3),H("ngClass",Me(4,Qq,i.isArabic,!i.isArabic)),g(2),T(i.isArabic?9:10),g(3),T(i.isArabic?12:13))},dependencies:[mt,rt,it],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.vh-70[_ngcontent-%COMP%]{height:70vh}.pageTitle[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(#00000080,#00000080),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Rubik,sans-serif;font-size:.8rem;line-height:33px;font-weight:400;transition:all .5s}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8rem}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;text-align:center;font-size:2.5rem;line-height:5rem;display:flex;align-items:center;justify-content:center}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";flex:1;height:3px;width:4rem;background-color:#771eab;box-shadow:1px 1px 8px #fff;margin:0 15px}@media (max-width: 768px){.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{display:none}}']})};var n9=(n,e)=>({"fa-angle-left":n,"fa-angle-right":e});function i9(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function r9(n,e){n&1&&m(0," Home ")}function o9(n,e){n&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function s9(n,e){n&1&&m(0," Our Services ")}function a9(n,e){n&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function l9(n,e){n&1&&m(0," Our Services ")}var kp=class n{constructor(e){this.DataService=e}isArabic=!1;changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-services"]],standalone:!0,features:[He],decls:14,vars:7,consts:[[1,"pageTitle","vh-70","d-flex","align-items-center","justify-content-center","flex-column","pt-5"],[1,"navigation"],["routerLink","/home"],[1,"mx-2"],[1,"fa-solid",3,"ngClass"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-5"]],template:function(t,i){t&1&&(C(0,"section",0)(1,"div",1)(2,"span")(3,"a",2),I(4,i9,1,0)(5,r9,1,0),_()(),C(6,"b",3),V(7,"i",4),_(),C(8,"span"),I(9,o9,1,0)(10,s9,1,0),_()(),C(11,"h1",5),I(12,a9,1,0)(13,l9,1,0),_()()),t&2&&(g(4),T(i.isArabic?4:5),g(3),H("ngClass",Me(4,n9,i.isArabic,!i.isArabic)),g(2),T(i.isArabic?9:10),g(3),T(i.isArabic?12:13))},dependencies:[mt,rt,it],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.vh-70[_ngcontent-%COMP%]{height:70vh}.pageTitle[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(#00000080,#00000080),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Rubik,sans-serif;font-size:.8rem;line-height:33px;font-weight:400;transition:all .5s}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8rem}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;text-align:center;font-size:2.5rem;line-height:5rem;display:flex;align-items:center;justify-content:center}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";flex:1;height:3px;width:4rem;background-color:#771eab;box-shadow:1px 1px 8px #fff;margin:0 15px}@media (max-width: 768px){.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{display:none}}']})};var sN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(F(dn),F(vt))}}static{this.\u0275dir=We({type:n})}}return n})(),Hp=(()=>{class n extends sN{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275dir=We({type:n,features:[Jn]})}}return n})(),_u=new Z("");var c9={provide:_u,useExisting:Wi(()=>uo),multi:!0};function u9(){let n=cr()?cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var d9=new Z(""),uo=(()=>{class n extends sN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!u9())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(F(dn),F(vt),F(d9,8))}}static{this.\u0275dir=We({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&X("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[er([c9]),Jn]})}}return n})();function lo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function aN(n){return n!=null&&typeof n.length=="number"}var lN=new Z(""),cN=new Z(""),h9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Le=class{static min(e){return f9(e)}static max(e){return p9(e)}static required(e){return m9(e)}static requiredTrue(e){return g9(e)}static email(e){return _9(e)}static minLength(e){return v9(e)}static maxLength(e){return y9(e)}static pattern(e){return C9(e)}static nullValidator(e){return uN(e)}static compose(e){return gN(e)}static composeAsync(e){return vN(e)}};function f9(n){return e=>{if(lo(e.value)||lo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function p9(n){return e=>{if(lo(e.value)||lo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function m9(n){return lo(n.value)?{required:!0}:null}function g9(n){return n.value===!0?null:{required:!0}}function _9(n){return lo(n.value)||h9.test(n.value)?null:{email:!0}}function v9(n){return e=>lo(e.value)||!aN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function y9(n){return e=>aN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function C9(n){if(!n)return uN;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(lo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function uN(n){return null}function dN(n){return n!=null}function hN(n){return Qr(n)?ke(n):n}function fN(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function pN(n,e){return e.map(t=>t(n))}function w9(n){return!n.validate}function mN(n){return n.map(e=>w9(e)?e:t=>e.validate(t))}function gN(n){if(!n)return null;let e=n.filter(dN);return e.length==0?null:function(t){return fN(pN(t,e))}}function _N(n){return n!=null?gN(mN(n)):null}function vN(n){if(!n)return null;let e=n.filter(dN);return e.length==0?null:function(t){let i=pN(t,e).map(hN);return Pg(i).pipe(de(fN))}}function yN(n){return n!=null?vN(mN(n)):null}function ZP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CN(n){return n._rawValidators}function wN(n){return n._rawAsyncValidators}function jw(n){return n?Array.isArray(n)?n:[n]:[]}function Fp(n,e){return Array.isArray(n)?n.includes(e):n===e}function JP(n,e){let t=jw(e);return jw(n).forEach(r=>{Fp(t,r)||t.push(r)}),t}function XP(n,e){return jw(e).filter(t=>!Fp(n,t))}var Lp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$a=class extends Lp{get formDirective(){return null}get path(){return null}},gu=class extends Lp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},E9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xue=ce(U({},E9),{"[class.ng-submitted]":"isSubmitted"}),za=(()=>{class n extends Vp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(F(gu,2))}}static{this.\u0275dir=We({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Bh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Jn]})}}return n})(),qa=(()=>{class n extends Vp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(F($a,10))}}static{this.\u0275dir=We({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Bh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Jn]})}}return n})();var hu="VALID",Op="INVALID",Ua="PENDING",fu="DISABLED",co=class{},Bp=class extends co{constructor(e,t){super(),this.value=e,this.source=t}},pu=class extends co{constructor(e,t){super(),this.pristine=e,this.source=t}},mu=class extends co{constructor(e,t){super(),this.touched=e,this.source=t}},ja=class extends co{constructor(e,t){super(),this.status=e,this.source=t}},$w=class extends co{constructor(e){super(),this.source=e}},Hw=class extends co{constructor(e){super(),this.source=e}};function Gw(n){return(zp(n)?n.validators:n)||null}function b9(n){return Array.isArray(n)?_N(n):n||null}function Ww(n,e){return(zp(e)?e.asyncValidators:n)||null}function I9(n){return Array.isArray(n)?yN(n):n||null}function zp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function EN(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[t])throw new j(1001,"")}function bN(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new j(1002,"")})}var Ha=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=rc(()=>this.statusReactive()),this.statusReactive=nc(void 0),this._pristine=rc(()=>this.pristineReactive()),this.pristineReactive=nc(!0),this._touched=rc(()=>this.touchedReactive()),this.touchedReactive=nc(!1),this._events=new Re,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xn(this.statusReactive)}set status(e){Xn(()=>this.statusReactive.set(e))}get valid(){return this.status===hu}get invalid(){return this.status===Op}get pending(){return this.status==Ua}get disabled(){return this.status===fu}get enabled(){return this.status!==fu}get pristine(){return Xn(this.pristineReactive)}set pristine(e){Xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xn(this.touchedReactive)}set touched(e){Xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XP(e,this._rawAsyncValidators))}hasValidator(e){return Fp(this._rawValidators,e)}hasAsyncValidator(e){return Fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new mu(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new mu(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new pu(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new pu(!0,i))}markAsPending(e={}){this.status=Ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ja(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fu,this.errors=null,this._forEachChild(r=>{r.disable(ce(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bp(this.value,i)),this._events.next(new ja(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hu,this._forEachChild(i=>{i.enable(ce(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hu||this.status===Ua)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bp(this.value,t)),this._events.next(new ja(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fu:hu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=hN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ja(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?fu:this.errors?Op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(Op)?Op:hu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new pu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new mu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=b9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=I9(this._rawAsyncValidators)}},Up=class extends Ha{constructor(e,t,i){super(Gw(t),Ww(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bN(this,!0,e),Object.keys(e).forEach(i=>{EN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zw=class extends Up{};var IN=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>Kw}),Kw="always";function T9(n,e){return[...e.path,n]}function eN(n,e,t=Kw){Qw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),D9(n,e),x9(n,e),A9(n,e),S9(n,e)}function tN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),$p(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function S9(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Qw(n,e){let t=CN(n);e.validator!==null?n.setValidators(ZP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=wN(n);e.asyncValidator!==null?n.setAsyncValidators(ZP(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();jp(e._rawValidators,r),jp(e._rawAsyncValidators,r)}function $p(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=CN(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=wN(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return jp(e._rawValidators,i),jp(e._rawAsyncValidators,i),t}function D9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&TN(n,e)})}function A9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&TN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function TN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function x9(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function M9(n,e){n==null,Qw(n,e)}function P9(n,e){return $p(n,e)}function N9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function R9(n){return Object.getPrototypeOf(n.constructor)===Hp}function k9(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function O9(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===uo?t=o:R9(o)?i=o:r=o}),r||i||t||null}function F9(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function nN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var as=class extends Ha{constructor(e=null,t,i){super(Gw(t),Ww(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(iN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L9=n=>n instanceof as;var Ga=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),V9={provide:_u,useExisting:Wi(()=>Yw),multi:!0},Yw=(()=>{class n extends Hp{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&X("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[er([V9]),Jn]})}}return n})();var SN=new Z("");var B9={provide:$a,useExisting:Wi(()=>ls)},ls=(()=>{class n extends $a{get submitted(){return Xn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=rc(()=>this._submittedReactive()),this._submittedReactive=nc(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return eN(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){tN(t.control||null,t,!1),F9(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),k9(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new $w(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Hw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(tN(i||null,t),L9(r)&&(eN(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);M9(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&P9(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qw(this.form,this),this._oldForm&&$p(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(F(lN,10),F(cN,10),F(IN,8))}}static{this.\u0275dir=We({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&X("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[er([B9]),Jn,An]})}}return n})();var U9={provide:gu,useExisting:Wi(()=>cs)},cs=(()=>{class n extends gu{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new $e,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=O9(this,o)}ngOnChanges(t){this._added||this._setUpControl(),N9(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return T9(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(F($a,13),F(lN,10),F(cN,10),F(_u,10),F(SN,8))}}static{this.\u0275dir=We({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[er([U9]),Jn,An]})}}return n})(),j9={provide:_u,useExisting:Wi(()=>Wa),multi:!0};function DN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function $9(n){return n.split(":")[0]}var Wa=(()=>{class n extends Hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=DN(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=$9(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&X("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([j9]),Jn]})}}return n})(),Ka=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(DN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(F(vt),F(dn),F(Wa,9))}}static{this.\u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),H9={provide:_u,useExisting:Wi(()=>AN),multi:!0};function rN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function z9(n){return n.split(":")[0]}var AN=(()=>{class n extends Hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=z9(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wr(n)))(r||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&X("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([H9]),Jn]})}}return n})(),Qa=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(F(vt),F(dn),F(AN,9))}}static{this.\u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var q9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Yn({type:n})}static{this.\u0275inj=Qn({})}}return n})(),qw=class extends Ha{constructor(e,t,i){super(Gw(t),Ww(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bN(this,!1,e),e.forEach((i,r)=>{EN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function oN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Pi=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return oN(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Up(r,o)}record(t,i=null){let r=this._reduceControls(t);return new zw(r,i)}control(t,i,r){let o={};return this.useNonNullable?(oN(i)?o=i:(o.validators=i,o.asyncValidators=r),new as(t,ce(U({},o),{nonNullable:!0}))):new as(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new qw(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof as)return t;if(t instanceof Ha)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ni=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:SN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:IN,useValue:t.callSetDisabledState??Kw}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Yn({type:n})}static{this.\u0275inj=Qn({imports:[q9]})}}return n})();var G9=(n,e)=>({"fa-angle-left":n,"fa-angle-right":e});function W9(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function K9(n,e){n&1&&m(0," Home ")}function Q9(n,e){n&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function Y9(n,e){n&1&&m(0," Contact Us ")}function Z9(n,e){n&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function J9(n,e){n&1&&m(0," Contact Us ")}var qp=class n{constructor(e,t){this.fb=e;this.DataService=t}isArabic=!1;contactForm;changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Pi),F(Ye))};static \u0275cmp=Ve({type:n,selectors:[["app-contact"]],standalone:!0,features:[He],decls:14,vars:7,consts:[[1,"pageTitle","vh-70","d-flex","align-items-center","justify-content-center","flex-column","pt-5"],[1,"navigation"],["routerLink","/home"],[1,"mx-2"],[1,"fa-solid",3,"ngClass"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-5"]],template:function(t,i){t&1&&(C(0,"section",0)(1,"div",1)(2,"span")(3,"a",2),I(4,W9,1,0)(5,K9,1,0),_()(),C(6,"b",3),V(7,"i",4),_(),C(8,"span"),I(9,Q9,1,0)(10,Y9,1,0),_()(),C(11,"h1",5),I(12,Z9,1,0)(13,J9,1,0),_()()),t&2&&(g(4),T(i.isArabic?4:5),g(3),H("ngClass",Me(4,G9,i.isArabic,!i.isArabic)),g(2),T(i.isArabic?9:10),g(3),T(i.isArabic?12:13))},dependencies:[mt,Ni,rt,it],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.vh-70[_ngcontent-%COMP%]{height:70vh}.pageTitle[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(#00000080,#00000080),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Rubik,sans-serif;font-size:.8rem;line-height:33px;font-weight:400;transition:all .5s}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8rem}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;text-align:center;font-size:2.5rem;line-height:5rem;display:flex;align-items:center;justify-content:center}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";flex:1;height:3px;width:4rem;background-color:#771eab;box-shadow:1px 1px 8px #fff;margin:0 15px}@media (max-width: 768px){.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{display:none}}']})};function Zw(n,e){return t=>{let i=t.value?new Date(t.value):null,r=new Date(n),o=new Date(e);return i&&(i<r||i>o)?{outOfRange:!0}:null}}var Ya=class n{constructor(e){this.db=e}addBooking(e,t){return k(this,null,function*(){let i="booking_"+new Date().getTime(),r=nn(this.db,`bookings/${i}`),o=ce(U({},t),{bookingId:i,userId:e});try{yield Jf(r,o)}catch(s){console.error("Error adding booking: ",s)}})}updateBooking(e,t){return k(this,null,function*(){let i=nn(this.db,`bookings/${e}`);try{(yield Ai(i)).exists()?yield ns(i,t):console.error("Booking does not exist, cannot update")}catch(r){console.error("Error updating booking: ",r)}})}deleteBooking(e){return k(this,null,function*(){let t=nn(this.db,`bookings/${e}`);try{(yield Ai(t)).exists()?yield Zf(t):console.error("Booking does not exist, cannot delete")}catch(i){console.error("Error deleting booking: ",i)}})}getUserBookings(e){return k(this,null,function*(){try{let t=nn(this.db,"bookings"),i=RM(t,NM("userId"),MM(e)),r=yield Ai(i);if(r.exists()){let o=r.val();return Object.keys(o).map(s=>U({bookingId:s},o[s]))}else return[]}catch(t){throw console.error("Error fetching user bookings:",t),t}})}getBookings(){let e=nn(this.db,"bookings");return new ue(t=>{DC(e,i=>{let r=i.val(),o=r?Object.values(r):[];t.next(o)},i=>{t.error(i)})})}getBookingById(e){let t=nn(this.db,`bookings/${e}`);return new ue(i=>{DC(t,r=>{i.next(r.val())},r=>{i.error(r)})})}changeBookingStatus(e,t){return k(this,null,function*(){let i=nn(this.db,`bookings/${e}`);try{return yield ns(i,{status:t})}catch(r){throw console.error("Error updating booking status:",r),r}})}isPastDate(e){let t=new Date;return t.setHours(0,0,0,0),new Date(e)<t}static \u0275fac=function(t){return new(t||n)(K(vn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Za=class n{constructor(e){this.db=e;this.servicesRef=nn(this.db,"services")}servicesRef;addService(e){return Jf(Uc(this.servicesRef,e.serviceId),e)}getServiceById(e){return ke(Ai(Uc(this.servicesRef,e)).then(t=>t.val()))}updateService(e,t){return ns(Uc(this.servicesRef,e),t)}deleteService(e){return Zf(Uc(this.servicesRef,e))}getAllServices(){return ke(Ai(this.servicesRef).then(e=>e.val()))}static \u0275fac=function(t){return new(t||n)(K(vn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var X9=(n,e)=>({"fa-angle-left":n,"fa-angle-right":e}),us=n=>({"is-invalid":n});function e8(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function t8(n,e){n&1&&m(0," Home ")}function n8(n,e){n&1&&m(0," \u0627\u0644\u062D\u062C\u0632 ")}function i8(n,e){n&1&&m(0," Booking ")}function r8(n,e){n&1&&m(0," \u0627\u0644\u062D\u062C\u0632 ")}function o8(n,e){n&1&&m(0," Booking ")}function s8(n,e){n&1&&m(0," \u064A\u062C\u0628 \u0625\u0643\u0645\u0627\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0644\u062A\u062A\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062D\u062C\u0632 ! ")}function a8(n,e){n&1&&m(0," All data must be completed in order to be able to book ! ")}function l8(n,e){n&1&&m(0," \u0627\u0636\u063A\u0637 \u0647\u0646\u0627 ")}function c8(n,e){n&1&&m(0," click here ")}function u8(n,e){if(n&1&&(C(0,"div",18),V(1,"i",20),I(2,s8,1,0)(3,a8,1,0),C(4,"a",21),I(5,l8,1,0)(6,c8,1,0),_()()),n&2){let t=L(2);g(2),T(t.isArabic?2:3),g(3),T(t.isArabic?5:6)}}function d8(n,e){n&1&&m(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u062C\u0632 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 ")}function h8(n,e){n&1&&m(0," Modify your reservation ")}function f8(n,e){if(n&1&&I(0,d8,1,0)(1,h8,1,0),n&2){let t=L(3);T(t.isArabic?0:1)}}function p8(n,e){n&1&&m(0," \u062D\u062C\u0632 \u0627\u0644\u062E\u062F\u0645\u0629 ")}function m8(n,e){n&1&&m(0," Book a Service ")}function g8(n,e){if(n&1&&I(0,p8,1,0)(1,m8,1,0),n&2){let t=L(3);T(t.isArabic?0:1)}}function _8(n,e){n&1&&m(0," \u0627\u062E\u062A\u0631 \u0627\u0644\u062E\u062F\u0645\u0629 ")}function v8(n,e){n&1&&m(0," Choose the service ")}function y8(n,e){n&1&&m(0," \u0627\u062E\u062A\u0631 \u0627\u0644\u062E\u062F\u0645\u0629 ")}function C8(n,e){n&1&&m(0," Select a service ")}function w8(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.arServiceName," ")}}function E8(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.serviceName," ")}}function b8(n,e){if(n&1&&(C(0,"option",28),m(1," \u2022 "),I(2,w8,1,1)(3,E8,1,1),_()),n&2){let t=e.$implicit,i=L(3);H("value",t.arServiceName),g(2),T(i.isArabic?2:3)}}function I8(n,e){n&1&&m(0," \u0627\u0644\u062E\u062F\u0645\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 ")}function T8(n,e){n&1&&m(0," Service required ")}function S8(n,e){if(n&1&&(C(0,"p",29),I(1,I8,1,0)(2,T8,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function D8(n,e){n&1&&m(0," \u062A\u0627\u0631\u064A\u062E ")}function A8(n,e){n&1&&m(0," Date ")}function x8(n,e){n&1&&m(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628 ")}function M8(n,e){n&1&&m(0," Date is required ")}function P8(n,e){if(n&1&&(C(0,"p",29),I(1,x8,1,0)(2,M8,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function N8(n,e){n&1&&m(0," \u062D\u062F\u062F \u0627\u0644\u0648\u0642\u062A ")}function R8(n,e){n&1&&m(0," Select Time ")}function k8(n,e){n&1&&m(0," \u062D\u062F\u062F \u0627\u0644\u0648\u0642\u062A ")}function O8(n,e){n&1&&m(0," Select Time ")}function F8(n,e){if(n&1&&(C(0,"option",28),m(1),_()),n&2){let t=e.$implicit;H("value",t.value),g(),ee(" ",t.value," ")}}function L8(n,e){n&1&&m(0," \u0627\u0644\u0648\u0642\u062A \u0645\u0637\u0644\u0648\u0628 ")}function V8(n,e){n&1&&m(0," Time is required ")}function B8(n,e){if(n&1&&(C(0,"p",29),I(1,L8,1,0)(2,V8,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function U8(n,e){n&1&&m(0," \u0639\u0630\u0631\u0627\u060C \u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0648\u0627\u0639\u064A\u062F \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u064A\u0648\u0645 , \u062D\u062F\u062F \u064A\u0648\u0645 \u0627\u062E\u0631 ")}function j8(n,e){n&1&&m(0," Sorry, there are no appointments on this day, select another day ")}function $8(n,e){if(n&1&&(C(0,"p",29),I(1,U8,1,0)(2,j8,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function H8(n,e){n&1&&m(0," \u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function z8(n,e){n&1&&m(0," Car Brand ")}function q8(n,e){n&1&&m(0," \u0645\u0648\u062F\u064A\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function G8(n,e){n&1&&m(0," Car Model ")}function W8(n,e){n&1&&m(0," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u062C\u0632 ")}function K8(n,e){n&1&&m(0," Update Booking ")}function Q8(n,e){if(n&1&&(C(0,"span"),I(1,W8,1,0)(2,K8,1,0),V(3,"i",41),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function Y8(n,e){n&1&&m(0," \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062D\u062C\u0632 ")}function Z8(n,e){n&1&&m(0," Submit Booking ")}function J8(n,e){if(n&1&&(C(0,"span"),I(1,Y8,1,0)(2,Z8,1,0),V(3,"i",42),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function X8(n,e){n&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function eG(n,e){n&1&&m(0," cancel ")}function tG(n,e){if(n&1){let t=Dt();C(0,"button",43),X("click",function(){De(t);let r=L(3);return Ae(r.cancelEdit())}),C(1,"span"),I(2,X8,1,0)(3,eG,1,0),V(4,"i",44),_()()}if(n&2){let t=L(3);g(2),T(t.isArabic?2:3)}}function nG(n,e){if(n&1&&m(0),n&2){let t=L(4);ee(" ",t.showBookingMessage==null?null:t.showBookingMessage.arText," ")}}function iG(n,e){if(n&1&&m(0),n&2){let t=L(4);ee(" ",t.showBookingMessage==null?null:t.showBookingMessage.text," ")}}function rG(n,e){if(n&1&&(C(0,"div",40),V(1,"i",45),I(2,nG,1,1)(3,iG,1,1),_()),n&2){let t=L(3);g(2),T(t.isArabic?2:3)}}function oG(n,e){if(n&1&&m(0),n&2){let t=L(4);ee(" ",t.showBookingMessage==null?null:t.showBookingMessage.arText," ")}}function sG(n,e){if(n&1&&m(0),n&2){let t=L(4);ee(" ",t.showBookingMessage==null?null:t.showBookingMessage.text," ")}}function aG(n,e){if(n&1&&(C(0,"div",18),V(1,"i",20),I(2,oG,1,1)(3,sG,1,1),_()),n&2){let t=L(3);g(2),T(t.isArabic?2:3)}}function lG(n,e){if(n&1){let t=Dt();C(0,"h3",22),I(1,f8,2,1)(2,g8,2,1),_(),C(3,"form",23),X("ngSubmit",function(){De(t);let r=L(2);return Ae(r.selectedBooking?r.updateBooking():r.addNewBooking())}),C(4,"div",24)(5,"label",25),I(6,_8,1,0)(7,v8,1,0),_(),C(8,"select",26),X("change",function(){De(t);let r=L(2);return Ae(r.getSelectedService())}),C(9,"option",27),I(10,y8,1,0)(11,C8,1,0),_(),Tt(12,b8,4,2,"option",28,It),_(),I(14,S8,3,1,"p",29),_(),C(15,"div",24)(16,"label",30),I(17,D8,1,0)(18,A8,1,0),_(),C(19,"input",31),X("change",function(){De(t);let r=L(2);return Ae(r.getSelectedDay())}),_(),I(20,P8,3,1,"p",29),_(),C(21,"div",24)(22,"label",32),I(23,N8,1,0)(24,R8,1,0),_(),C(25,"select",33)(26,"option",27),I(27,k8,1,0)(28,O8,1,0),_(),Tt(29,F8,2,2,"option",28,It),_(),I(31,B8,3,1,"p",29)(32,$8,3,1,"p",29),_(),C(33,"div",24)(34,"label",34),I(35,H8,1,0)(36,z8,1,0),_(),V(37,"input",35),_(),C(38,"div",24)(39,"label",36),I(40,q8,1,0)(41,G8,1,0),_(),V(42,"input",37),_(),C(43,"button",38),I(44,Q8,4,1,"span")(45,J8,4,1,"span"),_(),I(46,tG,5,1,"button",39),_(),I(47,rG,4,1,"div",40)(48,aG,4,1,"div",18)}if(n&2){let t,i,r,o,s,a,l,u,h=L(2);g(),T(h.selectedBooking!=null?1:2),g(2),H("formGroup",h.bookingForm),g(3),T(h.isArabic?6:7),g(2),H("ngClass",je(26,us,((t=h.bookingForm.get("service"))==null?null:t.invalid)&&((t=h.bookingForm.get("service"))==null?null:t.touched))),g(2),T(h.isArabic?10:11),g(2),St(h.services),g(2),T((i=h.bookingForm.get("service"))!=null&&i.invalid&&((i=h.bookingForm.get("service"))!=null&&i.touched)?14:-1),g(3),T(h.isArabic?17:18),g(2),H("min",h.minDate)("max",h.maxDate)("ngClass",je(28,us,((r=h.bookingForm.get("date"))==null?null:r.invalid)&&((r=h.bookingForm.get("date"))==null?null:r.touched)))("ngClass",je(30,us,h.timeOptions.length===0)),g(),T((o=h.bookingForm.get("date"))!=null&&o.invalid&&((o=h.bookingForm.get("date"))!=null&&o.touched)?20:-1),g(3),T(h.isArabic?23:24),g(2),H("ngClass",je(32,us,((s=h.bookingForm.get("time"))==null?null:s.invalid)&&((s=h.bookingForm.get("time"))==null?null:s.touched)))("ngClass",je(34,us,h.timeOptions.length===0)),g(2),T(h.isArabic?27:28),g(2),St(h.timeOptions),g(2),T((a=h.bookingForm.get("time"))!=null&&a.invalid&&((a=h.bookingForm.get("time"))!=null&&a.touched)?31:-1),g(),T(h.timeOptions.length===0?32:-1),g(3),T(h.isArabic?35:36),g(2),H("ngClass",je(36,us,!((l=h.bookingForm.get("carType"))!=null&&l.value))),g(3),T(h.isArabic?40:41),g(2),H("ngClass",je(38,us,!((u=h.bookingForm.get("carModel"))!=null&&u.value))),g(),H("disabled",h.bookingForm.invalid),g(),T(h.selectedBooking!=null?44:45),g(2),T(h.selectedBooking!=null?46:-1),g(),T((h.showBookingMessage==null?null:h.showBookingMessage.type)==="success"?47:(h.showBookingMessage==null?null:h.showBookingMessage.type)==="error"?48:-1)}}function cG(n,e){n&1&&m(0," \u062D\u062C\u0648\u0632\u0627\u062A\u0643 : ")}function uG(n,e){n&1&&m(0," Your Bookings : ")}function dG(n,e){n&1&&m(0," \u0627\u0644\u062E\u062F\u0645\u0629 ")}function hG(n,e){n&1&&m(0," Service ")}function fG(n,e){n&1&&m(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function pG(n,e){n&1&&m(0," Date ")}function mG(n,e){n&1&&m(0," \u0627\u0644\u0648\u0642\u062A ")}function gG(n,e){n&1&&m(0," Time ")}function _G(n,e){n&1&&m(0," \u0645\u0648\u062F\u064A\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function vG(n,e){n&1&&m(0," Car Model ")}function yG(n,e){n&1&&m(0," \u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function CG(n,e){n&1&&m(0," Car Brand ")}function wG(n,e){n&1&&m(0," \u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u062C\u0632 ")}function EG(n,e){n&1&&m(0," Status ")}function bG(n,e){n&1&&m(0," \u062E\u0635\u0627\u0626\u0635 ")}function IG(n,e){n&1&&m(0," Features ")}function TG(n,e){n&1&&m(0," \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 ")}function SG(n,e){n&1&&m(0," Verifying ")}function DG(n,e){if(n&1&&(C(0,"span",54),I(1,TG,1,0)(2,SG,1,0),_()),n&2){let t=L(4);g(),T(t.isArabic?1:2)}}function AG(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u062A\u0627\u0643\u064A\u062F ")}function xG(n,e){n&1&&m(0," Confirmed ")}function MG(n,e){if(n&1&&(C(0,"span",55),I(1,AG,1,0)(2,xG,1,0),_()),n&2){let t=L(4);g(),T(t.isArabic?1:2)}}function PG(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u0625\u0644\u063A\u0627\u0621 ")}function NG(n,e){n&1&&m(0," Canceled ")}function RG(n,e){if(n&1&&(C(0,"span",56),I(1,PG,1,0)(2,NG,1,0),_()),n&2){let t=L(4);g(),T(t.isArabic?1:2)}}function kG(n,e){n&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function OG(n,e){n&1&&m(0," Edit ")}function FG(n,e){n&1&&V(0,"i",44)}function LG(n,e){n&1&&V(0,"i",41)}function VG(n,e){n&1&&m(0," \u062D\u0630\u0641 ")}function BG(n,e){n&1&&m(0," Delete ")}function UG(n,e){if(n&1){let t=Dt();C(0,"tr")(1,"td",52),m(2),_(),C(3,"td"),m(4),_(),C(5,"td"),m(6),_(),C(7,"td"),m(8),_(),C(9,"td"),m(10),_(),C(11,"td"),m(12),_(),C(13,"td",53),I(14,DG,3,1,"span",54)(15,MG,3,1,"span",55)(16,RG,3,1,"span",56),_(),C(17,"td")(18,"button",57),X("click",function(){let r=De(t).$implicit,o=L(3);return Ae(o.editBooking(r))}),I(19,kG,1,0)(20,OG,1,0)(21,FG,1,0,"i",44)(22,LG,1,0,"i",41),_(),C(23,"button",58),X("click",function(){let r=De(t).$implicit,o=L(3);return Ae(o.getDeletedBooking(r))}),I(24,VG,1,0)(25,BG,1,0),V(26,"i",59),_()()()}if(n&2){let t=e.$implicit,i=e.$index,r=L(3);g(2),ee(" ",i+1," "),g(2),Nt(t.service),g(2),Nt(t.date),g(2),Nt(t.time),g(2),Nt(t.carModel),g(2),Nt(t.carType),g(2),T(t.status==="2"?14:t.status==="1"?15:16),g(4),H("disabled",r.isPastDate(t.date)),g(),T(r.isArabic?19:20),g(2),T(r.isPastDate(t.date)?21:22),g(2),H("disabled",r.isPastDate(t.date)),g(),T(r.isArabic?24:25)}}function jG(n,e){if(n&1&&(C(0,"h3",46),I(1,cG,1,0)(2,uG,1,0),_(),C(3,"div",47)(4,"div",48)(5,"table",49)(6,"thead",50)(7,"tr"),V(8,"th",51),C(9,"th",51),I(10,dG,1,0)(11,hG,1,0),_(),C(12,"th",51),I(13,fG,1,0)(14,pG,1,0),_(),C(15,"th",51),I(16,mG,1,0)(17,gG,1,0),_(),C(18,"th",51),I(19,_G,1,0)(20,vG,1,0),_(),C(21,"th",51),I(22,yG,1,0)(23,CG,1,0),_(),C(24,"th",51),I(25,wG,1,0)(26,EG,1,0),_(),C(27,"th",51),I(28,bG,1,0)(29,IG,1,0),_()()(),C(30,"tbody"),Tt(31,UG,27,12,"tr",null,It),_()()()()),n&2){let t=L(2);g(),T(t.isArabic?1:2),g(9),T(t.isArabic?10:11),g(3),T(t.isArabic?13:14),g(3),T(t.isArabic?16:17),g(3),T(t.isArabic?19:20),g(3),T(t.isArabic?22:23),g(3),T(t.isArabic?25:26),g(3),T(t.isArabic?28:29),g(3),St(t.bookings)}}function $G(n,e){n&1&&m(0," \u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u062C\u0648\u0632\u0627\u062A \u0628\u0639\u062F ")}function HG(n,e){n&1&&m(0," There are no bookings yet ")}function zG(n,e){if(n&1&&(C(0,"p",19),I(1,$G,1,0)(2,HG,1,0),_()),n&2){let t=L(2);g(),T(t.isArabic?1:2)}}function qG(n,e){if(n&1&&(C(0,"div",7),I(1,u8,7,2,"div",18)(2,lG,49,40),V(3,"hr"),I(4,jG,33,8)(5,zG,3,1,"p",19),_()),n&2){let t=L();g(),T(t.loginCompleted?-1:1),g(),T(t.bookingForm!=null?2:-1),g(2),T(t.bookings.length>0?4:5)}}function GG(n,e){n&1&&(C(0,"div",8)(1,"div",60),V(2,"i",61)(3,"br")(4,"span",62),_()())}function WG(n,e){n&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function KG(n,e){n&1&&m(0," are you sure you want to ")}function QG(n,e){n&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function YG(n,e){n&1&&m(0," Delete ? ")}function ZG(n,e){n&1&&m(0," \u0644\u0627 ")}function JG(n,e){n&1&&m(0," No ")}function XG(n,e){n&1&&m(0," \u0646\u0639\u0645 ")}function eW(n,e){n&1&&m(0," Yes ")}var Gp=class n{constructor(e,t,i,r,o){this.fb=e;this.bookingService=t;this.authService=i;this.DataService=r;this.servicesService=o;this.bookingForm=this.fb.group({service:["",Le.required],date:[{value:"",disabled:!0},[Le.required,Zw(this.minDate,this.maxDate)]],time:[{value:"",disabled:!0},Le.required],carModel:[{value:"",disabled:!0},Le.required],carType:[{value:"",disabled:!0},Le.required]})}isArabic=!1;bookingForm;userId="";user;bookings=[];selectedBooking=null;isEditing=!1;EditedBookingId="";services=[];loginCompleted=!0;CurrentUserData;minDate="";maxDate="";selectedServiceId=0;dayNumber=0;deletedBooking;timeOptions=[{value:"09:00 AM"},{value:"10:00 AM"},{value:"11:00 AM"},{value:"12:00 PM"},{value:"01:00 PM"},{value:"02:00 PM"},{value:"03:00 PM"},{value:"04:00 PM"},{value:"05:00 PM"},{value:"06:00 PM"},{value:"07:00 PM"}];showBookingMessage=null;ngOnInit(){this.changeLang(),this.calculateDateRange(),this.servicesService.getAllServices().subscribe(e=>{this.services=e}),this.authService.getCurrentUser().subscribe(e=>{e?(this.userId=e.uid,this.user=e,this.getUserProfileData(),this.loadUserBookings(this.userId)):console.log("No user is authenticated.")})}calculateDateRange(){let e=new Date,t=new Date;e.setDate(e.getDate()+1),t.setDate(t.getDate()+7),this.minDate=e.toISOString().split("T")[0],this.maxDate=t.toISOString().split("T")[0],this.bookingForm.get("date")?.setValidators([Le.required,Zw(this.minDate,this.maxDate)]),this.bookingForm.get("date")?.updateValueAndValidity()}getSelectedService(){this.bookingForm.get("date")?.disable(),this.bookingForm.get("time")?.disable(),this.bookingForm.get("time")?.value=="",this.bookingForm.get("date")?.reset();let e=this.bookingForm.get("service")?.value,t=this.services.find(i=>i.arServiceName===e);this.selectedServiceId=t.serviceId,this.timeOptions=[{value:"09:00 AM"},{value:"10:00 AM"},{value:"11:00 AM"},{value:"12:00 PM"},{value:"01:00 PM"},{value:"02:00 PM"},{value:"03:00 PM"},{value:"04:00 PM"},{value:"05:00 PM"},{value:"06:00 PM"},{value:"07:00 PM"}],this.bookingForm.get("date")?.enable()}getSelectedDay(){let e=this.bookingForm.get("date")?.value;e&&(this.dayNumber=new Date(e).getDay(),this.CurrentUserData.carModel.toLowerCase().includes("mg")&&this.dayNumber!=5?this.timeOptions=[{value:"09:00 AM"},{value:"10:00 AM"},{value:"11:00 AM"},{value:"12:00 PM"},{value:"01:00 PM"},{value:"02:00 PM"},{value:"03:00 PM"},{value:"04:00 PM"},{value:"05:00 PM"},{value:"06:00 PM"},{value:"07:00 PM"}]:this.CurrentUserData.carModel.toLowerCase().includes("mg")&&this.dayNumber==5&&this.selectedServiceId==0?this.timeOptions=[{value:"09:00 AM"},{value:"10:00 AM"},{value:"11:00 AM"},{value:"12:00 PM"},{value:"01:00 PM"},{value:"02:00 PM"}]:!this.CurrentUserData.carModel.toLowerCase().includes("mg")&&this.dayNumber!=5?this.timeOptions=[{value:"09:00 AM"},{value:"10:00 AM"},{value:"11:00 AM"},{value:"12:00 PM"},{value:"01:00 PM"},{value:"02:00 PM"}]:this.timeOptions=[]),this.bookingForm.get("date")?.valid?this.bookingForm.get("time")?.enable():this.bookingForm.get("time")?.disable()}changeLang(){this.DataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}getUserProfileData(){this.authService.getUserProfileData(this.user.uid).subscribe(e=>{e?(this.CurrentUserData=e,this.bookingForm.patchValue({carType:e.carType||"",carModel:e.carModel||""})):this.loginCompleted=!1},e=>{console.error("Error fetching user data:",e)})}addNewBooking(){if(this.bookingForm.valid){let e={service:this.bookingForm.get("service")?.value,date:this.bookingForm.get("date")?.value,time:this.bookingForm.get("time")?.value,carModel:this.bookingForm.get("carModel")?.value,carType:this.bookingForm.get("carType")?.value,displayName:this.user.displayName,email:this.user.email,phone:this.CurrentUserData.phone,userId:this.user.uid,status:"2"};this.bookingService.addBooking(this.userId,e).then(()=>{this.loadUserBookings(this.userId),this.getUserProfileData(),this.bookingForm.reset(),this.bookingForm.get("date")?.disable(),this.bookingForm.get("time")?.disable(),this.bookingForm.get("time")?.value=="",this.showBookingMessage={type:"success",text:"Your booking has been completed successfully",arText:"\u0644\u0642\u062F \u062A\u0645 \u0625\u062A\u0645\u0627\u0645 \u062D\u062C\u0632\u0643 \u0628\u0646\u062C\u0627\u062D"},this.clearBookingMessage()}).catch(t=>{this.showBookingMessage={type:"error",text:"Error, try again later",arText:"\u062E\u0637\u0627 , \u062D\u0627\u0648\u0644 \u0645\u0631\u0647 \u0627\u062E\u0631\u064A \u0644\u0627\u062D\u0642\u0627"},this.clearBookingMessage()})}else this.showBookingMessage={type:"error",text:"Booking form is invalid.",arText:"\u0646\u0645\u0648\u0630\u062C \u0627\u0644\u062D\u062C\u0632 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D."},this.clearBookingMessage()}editBooking(e){this.isEditing=!0,this.selectedBooking=e,this.EditedBookingId=e.bookingId,this.bookingForm.patchValue({service:e.service,date:e.date,time:e.time,carModel:e.carModel,carType:e.carType})}updateBooking(){if(this.bookingForm.valid&&this.selectedBooking){let e=ce(U({},this.selectedBooking),{service:this.bookingForm.get("service")?.value,date:this.bookingForm.get("date")?.value,time:this.bookingForm.get("time")?.value,carModel:this.bookingForm.get("carModel")?.value,carType:this.bookingForm.get("carType")?.value,status:"2"});this.bookingService.updateBooking(this.EditedBookingId,e).then(()=>{this.showBookingMessage={type:"success",text:"Booking successfully updated",arText:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u062C\u0632 \u0628\u0646\u062C\u0627\u062D"},this.clearBookingMessage(),this.isEditing=!1,this.selectedBooking=null,this.loadUserBookings(this.userId),this.getUserProfileData(),this.bookingForm.reset(),this.bookingForm.get("date")?.disable(),this.bookingForm.get("time")?.disable(),this.bookingForm.get("time")?.value==""}).catch(t=>{this.showBookingMessage={type:"error",text:"An error occurred while updating the reservation. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u062C\u0632. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearBookingMessage()})}else this.showBookingMessage={type:"error",text:"Form is invalid or no booking selected",arText:"\u0627\u0644\u0646\u0645\u0648\u0630\u062C \u063A\u064A\u0631 \u0635\u0627\u0644\u062D \u0623\u0648 \u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u062D\u062C\u0632"},this.clearBookingMessage()}cancelEdit(){this.isEditing=!1,this.selectedBooking=null,this.bookingForm.reset(),this.getUserProfileData()}getDeletedBooking(e){this.deletedBooking=e}deleteBooking(e){this.bookings.find(i=>i.bookingId===e)?this.bookingService.deleteBooking(e).then(()=>{this.loadUserBookings(this.userId),this.deletedBooking=null}).catch(i=>{console.error("Error deleting booking:",i)}):console.error("Booking not found for deletion.")}clearBookingMessage(){setTimeout(()=>{this.showBookingMessage=null},2e3)}loadUserBookings(e){this.bookingService.getUserBookings(e).then(t=>{t.length>0?this.bookings=t:this.bookings=[]}).catch(t=>{console.error("Error loading bookings:",t)})}isPastDate(e){return this.bookingService.isPastDate(e)}static \u0275fac=function(t){return new(t||n)(F(Pi),F(Ya),F(fn),F(Ye),F(Za))};static \u0275cmp=Ve({type:n,selectors:[["app-booking"]],standalone:!0,features:[He],decls:34,vars:12,consts:[[1,"pageTitle","vh-70","d-flex","align-items-center","justify-content-center","flex-column","pt-5"],[1,"navigation"],["routerLink","/home"],[1,"mx-2"],[1,"fa-solid",3,"ngClass"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-5"],[1,"bookings","py-5"],[1,"container"],[1,"d-flex","justify-content-center","align-items-center","min-vh-70"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"mt-3","text-center","text-warning","fst-italic","fw-bold"],[1,"fa-solid","fa-circle-exclamation"],["routerLink","/profile"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","service",1,"form-label"],["id","service","name","service","formControlName","service",1,"form-select",3,"change","ngClass"],["value","","disabled","","selected","",1,"text-center","text-primary"],[3,"value"],[1,"alert","alert-danger","p-1","mt-1"],["for","date",1,"form-label"],["id","date","name","date","type","date","formControlName","date",1,"form-select",3,"change","min","max","ngClass"],["for","time",1,"form-label"],["id","time","name","time","formControlName","time",1,"form-select",3,"ngClass"],["for","carType",1,"form-label"],["id","carType","name","carType","type","text","formControlName","carType",1,"form-control","text-muted","fw-bolder","is-valid",3,"ngClass"],["for","carModel",1,"form-label"],["id","carModel","name","carModel","type","text","formControlName","carModel",1,"form-control","text-muted","fw-bolder","is-valid",3,"ngClass"],["type","submit",1,"btn","btn-primary","bookBtn",3,"disabled"],["type","button",1,"btn","btn-secondary","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-paper-plane"],["type","button",1,"btn","btn-secondary","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"my-3","text-center","fst-italic","fw-bold"],[1,"card","overflow-x-auto"],[1,"card-body"],[1,"table","table-striped","text-center","rounded","table-hover"],[1,"table-primary"],["scope","col"],[1,"text-muted"],[1,"fst-italic"],[1,"fw-bold","text-warning"],[1,"fw-bold","text-primary"],[1,"fw-bold","text-danger"],[1,"btn","btn-warning","btn-sm","mx-2",3,"click","disabled"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-primary","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(t,i){t&1&&(C(0,"section",0)(1,"div",1)(2,"span")(3,"a",2),I(4,e8,1,0)(5,t8,1,0),_()(),C(6,"b",3),V(7,"i",4),_(),C(8,"span"),I(9,n8,1,0)(10,i8,1,0),_()(),C(11,"h1",5),I(12,r8,1,0)(13,o8,1,0),_()(),C(14,"section",6),I(15,qG,6,3,"div",7)(16,GG,5,0,"div",8),_(),C(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12),V(21,"i",13),I(22,WG,1,0)(23,KG,1,0),C(24,"b",14),I(25,QG,1,0)(26,YG,1,0),_()(),C(27,"div",15)(28,"button",16),I(29,ZG,1,0)(30,JG,1,0),_(),C(31,"button",17),X("click",function(){return i.deleteBooking(i.deletedBooking.bookingId)}),I(32,XG,1,0)(33,eW,1,0),_()()()()()),t&2&&(g(4),T(i.isArabic?4:5),g(3),H("ngClass",Me(9,X9,i.isArabic,!i.isArabic)),g(2),T(i.isArabic?9:10),g(3),T(i.isArabic?12:13),g(3),T(i.bookings&&i.services?15:16),g(7),T(i.isArabic?22:23),g(3),T(i.isArabic?25:26),g(4),T(i.isArabic?29:30),g(3),T(i.isArabic?32:33))},dependencies:[mt,rt,it,Ni,Ga,Ka,Qa,uo,Wa,za,qa,ls,cs],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.vh-70[_ngcontent-%COMP%]{height:70vh}.pageTitle[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(#00000080,#00000080),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Rubik,sans-serif;font-size:.8rem;line-height:33px;font-weight:400;transition:all .5s}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8rem}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;text-align:center;font-size:2.5rem;line-height:5rem;display:flex;align-items:center;justify-content:center}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";flex:1;height:3px;width:4rem;background-color:#771eab;box-shadow:1px 1px 8px #fff;margin:0 15px}@media (max-width: 768px){.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{display:none}}.form-label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#771eab}button[_ngcontent-%COMP%]{border-radius:.8rem}hr[_ngcontent-%COMP%]{color:#771eab}.bookBtn[_ngcontent-%COMP%]{background-color:#771eab99;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out}.bookBtn[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}']})};var tW=n=>({"text-danger":n});function nW(n,e){n&1&&m(0," \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u062C\u0648\u0632\u0627\u062A : ")}function iW(n,e){n&1&&m(0," All Bookings : ")}function rW(n,e){n&1&&m(0," \u062A\u0635\u0646\u064A\u0641 \u062D\u0633\u0628 \u0627\u0644\u062D\u0627\u0644\u0629 ")}function oW(n,e){n&1&&m(0," Filter by Status ")}function sW(n,e){n&1&&m(0," \u0627\u0644\u0643\u0644 ")}function aW(n,e){n&1&&m(0," All ")}function lW(n,e){n&1&&m(0," \u0645\u0624\u0643\u062F ")}function cW(n,e){n&1&&m(0," Confirmed ")}function uW(n,e){n&1&&m(0," \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 ")}function dW(n,e){n&1&&m(0," Verifying ")}function hW(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u0625\u0644\u063A\u0627\u0621 ")}function fW(n,e){n&1&&m(0," Canceled ")}function pW(n,e){n&1&&m(0," \u062A\u0635\u0646\u064A\u0641 \u062D\u0633\u0628 \u0627\u0644\u062E\u062F\u0645\u0629 ")}function mW(n,e){n&1&&m(0," Filter by Service ")}function gW(n,e){n&1&&m(0," \u0627\u062E\u062A\u0627\u0631 \u0627\u0644\u062E\u062F\u0645\u0629 ")}function _W(n,e){n&1&&m(0," Choose the service ")}function vW(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.arServiceName," ")}}function yW(n,e){if(n&1&&m(0),n&2){let t=L().$implicit;ee(" ",t.serviceName," ")}}function CW(n,e){if(n&1&&(C(0,"option",20),I(1,vW,1,1)(2,yW,1,1),_()),n&2){let t=e.$implicit,i=L(2);H("value",t.arServiceName),g(),T(i.isArabic?1:2)}}function wW(n,e){n&1&&m(0," \u062A\u0635\u0646\u064A\u0641 \u062D\u0633\u0628 \u0627\u0644\u0648\u0642\u062A ")}function EW(n,e){n&1&&m(0," Filter by Time ")}function bW(n,e){n&1&&m(0," \u0627\u0644\u0643\u0644 ")}function IW(n,e){n&1&&m(0," All ")}function TW(n,e){n&1&&m(0," \u062D\u062C\u0648\u0632\u0627\u062A \u0627\u0644\u064A\u0648\u0645 ")}function SW(n,e){n&1&&m(0," Today's Bookings ")}function DW(n,e){n&1&&m(0," \u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0642\u0627\u062F\u0645 ")}function AW(n,e){n&1&&m(0," Next Week ")}function xW(n,e){n&1&&m(0," \u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0633\u0627\u0628\u0642 ")}function MW(n,e){n&1&&m(0," Last Week ")}function PW(n,e){n&1&&m(0," \u0627\u0644\u0628\u062D\u062B \u062D\u0633\u0628 \u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0647\u0627\u062A\u0641 \u0623\u0648 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A ")}function NW(n,e){n&1&&m(0," Search by name, phone, or email ")}function RW(n,e){n&1&&m(0," \u0639\u062F\u062F \u0627\u0644\u062D\u062C\u0648\u0632\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u062A\u0635\u0646\u064A\u0641 : ")}function kW(n,e){n&1&&m(0," Number of reservations by classification : ")}function OW(n,e){n&1&&m(0," \u0627\u0644\u062E\u062F\u0645\u0629 ")}function FW(n,e){n&1&&m(0," Service ")}function LW(n,e){n&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")}function VW(n,e){n&1&&m(0," Client Name ")}function BW(n,e){n&1&&m(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function UW(n,e){n&1&&m(0," Date ")}function jW(n,e){n&1&&m(0," \u0627\u0644\u0648\u0642\u062A ")}function $W(n,e){n&1&&m(0," Time ")}function HW(n,e){n&1&&m(0," \u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u062C\u0632 ")}function zW(n,e){n&1&&m(0," status ")}function qW(n,e){n&1&&m(0," \u062E\u0635\u0627\u0626\u0635 ")}function GW(n,e){n&1&&m(0," Features ")}function WW(n,e){n&1&&m(0," \u0645\u0624\u0643\u062F ")}function KW(n,e){n&1&&m(0," Confirmed ")}function QW(n,e){n&1&&m(0," \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 ")}function YW(n,e){n&1&&m(0," Verifying ")}function ZW(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u0625\u0644\u063A\u0627\u0621 ")}function JW(n,e){n&1&&m(0," Canceled ")}function XW(n,e){n&1&&m(0," \u062D\u0630\u0641 ")}function eK(n,e){n&1&&m(0," Delete ")}function tK(n,e){n&1&&m(0," \u062A\u0641\u0627\u0635\u064A\u0644 ")}function nK(n,e){n&1&&m(0," Details ")}function iK(n,e){if(n&1){let t=Dt();C(0,"tr")(1,"th",35),m(2),_(),C(3,"td"),m(4),_(),C(5,"td"),m(6),_(),C(7,"td",53),m(8),_(),C(9,"td"),m(10),_(),C(11,"td")(12,"select",54,4),X("change",function(){let r=De(t).$implicit,o=Kr(13),s=L(2);return Ae(s.changeBookingStatus(r.bookingId,o.value))}),C(14,"option",55),I(15,WW,1,0)(16,KW,1,0),_(),C(17,"option",56),I(18,QW,1,0)(19,YW,1,0),_(),C(20,"option",57),I(21,ZW,1,0)(22,JW,1,0),_()()(),C(23,"td")(24,"button",58),X("click",function(){let r=De(t).$implicit,o=L(2);return Ae(o.getDeletedBooking(r))}),I(25,XW,1,0)(26,eK,1,0),V(27,"i",59),_(),C(28,"button",60),X("click",function(){let r=De(t).$implicit,o=L(2);return Ae(o.openModal(r))}),I(29,tK,1,0)(30,nK,1,0),V(31,"i",61),_()()()}if(n&2){let t=e.$implicit,i=e.$index,r=L(2);g(2),ee(" ",i+1," "),g(2),Nt(t.service),g(2),Nt(t.displayName),g(),H("ngClass",je(13,tW,r.isPastDate(t.date))),g(),Nt(t.date),g(2),Nt(t.time),g(2),H("disabled",r.isPastDate(t.date))("value",t.status),g(3),T(r.isArabic?15:16),g(3),T(r.isArabic?18:19),g(3),T(r.isArabic?21:22),g(4),T(r.isArabic?25:26),g(4),T(r.isArabic?29:30)}}function rK(n,e){n&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function oK(n,e){n&1&&m(0," are you sure you want to ")}function sK(n,e){n&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function aK(n,e){n&1&&m(0," Delete ? ")}function lK(n,e){n&1&&m(0," \u0644\u0627 ")}function cK(n,e){n&1&&m(0," No ")}function uK(n,e){n&1&&m(0," \u0646\u0639\u0645 ")}function dK(n,e){n&1&&m(0," Yes ")}function hK(n,e){n&1&&m(0," \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u062C\u0632 ")}function fK(n,e){n&1&&m(0," Booking Details ")}function pK(n,e){n&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u062D\u062C\u0632 : ")}function mK(n,e){n&1&&m(0," Booking ID : ")}function gK(n,e){n&1&&m(0," \u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u062C\u0632 : ")}function _K(n,e){n&1&&m(0," Booking Status : ")}function vK(n,e){n&1&&m(0," \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 ")}function yK(n,e){n&1&&m(0," Verifying ")}function CK(n,e){if(n&1&&(C(0,"span",65),I(1,vK,1,0)(2,yK,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function wK(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u062A\u0627\u0643\u064A\u062F ")}function EK(n,e){n&1&&m(0," Confirmed ")}function bK(n,e){if(n&1&&(C(0,"span",66),I(1,wK,1,0)(2,EK,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function IK(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u0625\u0644\u063A\u0627\u0621 ")}function TK(n,e){n&1&&m(0," Canceled ")}function SK(n,e){if(n&1&&(C(0,"span",67),I(1,IK,1,0)(2,TK,1,0),_()),n&2){let t=L(3);g(),T(t.isArabic?1:2)}}function DK(n,e){n&1&&m(0," \u0627\u0644\u062E\u062F\u0645\u0629 : ")}function AK(n,e){n&1&&m(0," Service : ")}function xK(n,e){n&1&&m(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E : ")}function MK(n,e){n&1&&m(0," Date : ")}function PK(n,e){n&1&&m(0," \u0627\u0644\u0648\u0642\u062A : ")}function NK(n,e){n&1&&m(0," Time : ")}function RK(n,e){n&1&&m(0," \u0645\u0648\u062F\u064A\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 : ")}function kK(n,e){n&1&&m(0," Car Model : ")}function OK(n,e){n&1&&m(0," \u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 : ")}function FK(n,e){n&1&&m(0," Car Type : ")}function LK(n,e){n&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 : ")}function VK(n,e){n&1&&m(0," Customer Name : ")}function BK(n,e){n&1&&m(0," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A : ")}function UK(n,e){n&1&&m(0," Email : ")}function jK(n,e){n&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 : ")}function $K(n,e){n&1&&m(0," Phone : ")}function HK(n,e){n&1&&m(0," \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0623\u0643\u062B\u0631 \u0639\u0646 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 ")}function zK(n,e){n&1&&m(0," More information about the user ")}function qK(n,e){n&1&&m(0," \u0645\u0648\u062F\u064A\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 : ")}function GK(n,e){n&1&&m(0," Car Model : ")}function WK(n,e){n&1&&m(0," \u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 : ")}function KK(n,e){n&1&&m(0," Car Type : ")}function QK(n,e){n&1&&m(0," \u0633\u0646\u0629 \u0627\u0644\u062A\u0635\u0646\u064A\u0639 : ")}function YK(n,e){n&1&&m(0," Year of Manufacture : ")}function ZK(n,e){n&1&&m(0," \u0644\u0648\u0646 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 : ")}function JK(n,e){n&1&&m(0," Car Color : ")}function XK(n,e){n&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 : ")}function eQ(n,e){n&1&&m(0," Customer Name : ")}function tQ(n,e){n&1&&m(0," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A : ")}function nQ(n,e){n&1&&m(0," Email : ")}function iQ(n,e){n&1&&m(0," \u0627\u0644\u0647\u0627\u062A\u0641 : ")}function rQ(n,e){n&1&&m(0," Phone : ")}function oQ(n,e){if(n&1&&(C(0,"div",68)(1,"h5",70),I(2,HK,1,0)(3,zK,1,0),_(),C(4,"div",29)(5,"div",71)(6,"div",72)(7,"span",73),m(8,"EGYPT"),_(),C(9,"span",74),m(10,"\u0645\u0635\u0631"),_()(),C(11,"div",75)(12,"div",76),m(13),_(),V(14,"div",77),C(15,"div",78),m(16),_()()()(),C(17,"div",79)(18,"p")(19,"strong"),I(20,qK,1,0)(21,GK,1,0),_(),m(22),_(),C(23,"p")(24,"strong"),I(25,WK,1,0)(26,KK,1,0),_(),m(27),_(),C(28,"p")(29,"strong"),I(30,QK,1,0)(31,YK,1,0),_(),m(32),_(),C(33,"p")(34,"strong"),I(35,ZK,1,0)(36,JK,1,0),_(),m(37),_()(),C(38,"div",79)(39,"p")(40,"strong"),I(41,XK,1,0)(42,eQ,1,0),_(),m(43),_(),C(44,"p")(45,"strong"),I(46,tQ,1,0)(47,nQ,1,0),_(),m(48),_(),C(49,"p")(50,"strong"),I(51,iQ,1,0)(52,rQ,1,0),_(),m(53),_()(),C(54,"div",79)(55,"div",80),V(56,"img",81),_()()()),n&2){let t=L(3);g(2),T(t.isArabic?2:3),g(11),Nt(t.selectedBooking.userProfile.carPlateNumbers),g(3),Nt(t.selectedBooking.userProfile.carPlateLetters),g(4),T(t.isArabic?20:21),g(2),ee(" ",t.selectedBooking.userProfile.carModel,""),g(3),T(t.isArabic?25:26),g(2),ee(" ",t.selectedBooking.userProfile.carType,""),g(3),T(t.isArabic?30:31),g(2),ee(" ",t.selectedBooking.userProfile.yearOfManufacture,""),g(3),T(t.isArabic?35:36),g(2),ee(" ",t.selectedBooking.userProfile.carColor,""),g(4),T(t.isArabic?41:42),g(2),ee(" ",t.selectedBooking.userProfile.name,""),g(3),T(t.isArabic?46:47),g(2),ee(" ",t.selectedBooking.userProfile.email,""),g(3),T(t.isArabic?51:52),g(2),ee(" ",t.selectedBooking.userProfile.phone,""),g(3),H("src",t.selectedBooking.userProfile.photoURL,Ci)}}function sQ(n,e){n&1&&m(0," \u0639\u0631\u0636 \u0643\u0644 \u062D\u062C\u0648\u0632\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 ")}function aQ(n,e){n&1&&m(0," View all customer bookings ")}function lQ(n,e){n&1&&m(0," \u062C\u0645\u064A\u0639 \u062D\u062C\u0648\u0632\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 ")}function cQ(n,e){n&1&&m(0," All Customer Bookings ")}function uQ(n,e){n&1&&m(0," \u0627\u0644\u062E\u062F\u0645\u0629 ")}function dQ(n,e){n&1&&m(0," Service ")}function hQ(n,e){n&1&&m(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function fQ(n,e){n&1&&m(0," Date ")}function pQ(n,e){n&1&&m(0," \u0627\u0644\u0648\u0642\u062A ")}function mQ(n,e){n&1&&m(0," Time ")}function gQ(n,e){n&1&&m(0," \u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u062C\u0632 ")}function _Q(n,e){n&1&&m(0," Status ")}function vQ(n,e){n&1&&m(0," \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 ")}function yQ(n,e){n&1&&m(0," Verifying ")}function CQ(n,e){if(n&1&&(C(0,"span",65),I(1,vQ,1,0)(2,yQ,1,0),_()),n&2){let t=L(5);g(),T(t.isArabic?1:2)}}function wQ(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u062A\u0627\u0643\u064A\u062F ")}function EQ(n,e){n&1&&m(0," Confirmed ")}function bQ(n,e){if(n&1&&(C(0,"span",66),I(1,wQ,1,0)(2,EQ,1,0),_()),n&2){let t=L(5);g(),T(t.isArabic?1:2)}}function IQ(n,e){n&1&&m(0," \u062A\u0645 \u0627\u0644\u0625\u0644\u063A\u0627\u0621 ")}function TQ(n,e){n&1&&m(0," Canceled ")}function SQ(n,e){if(n&1&&(C(0,"span",67),I(1,IQ,1,0)(2,TQ,1,0),_()),n&2){let t=L(5);g(),T(t.isArabic?1:2)}}function DQ(n,e){if(n&1&&(C(0,"tr")(1,"th",35),m(2),_(),C(3,"td"),m(4),_(),C(5,"td"),m(6),_(),C(7,"td"),m(8),_(),C(9,"td",83),I(10,CQ,3,1,"span",65)(11,bQ,3,1,"span",66)(12,SQ,3,1,"span",67),_()()),n&2){let t=e.$implicit,i=e.$index;g(2),ee(" ",i+1," "),g(2),Nt(t.service),g(2),Nt(t.date),g(2),Nt(t.time),g(2),T(t.status==="2"?10:t.status==="1"?11:12)}}function AQ(n,e){if(n&1&&(C(0,"div",7)(1,"h4",82),I(2,lQ,1,0)(3,cQ,1,0),_(),C(4,"div",8)(5,"table",33)(6,"thead",34)(7,"tr"),V(8,"th",36),C(9,"th",36),I(10,uQ,1,0)(11,dQ,1,0),_(),C(12,"th",36),I(13,hQ,1,0)(14,fQ,1,0),_(),C(15,"th",36),I(16,pQ,1,0)(17,mQ,1,0),_(),C(18,"th",36),I(19,gQ,1,0)(20,_Q,1,0),_()()(),C(21,"tbody"),Tt(22,DQ,13,5,"tr",null,It),_()()()()),n&2){let t=L(3);g(2),T(t.isArabic?2:3),g(8),T(t.isArabic?10:11),g(3),T(t.isArabic?13:14),g(3),T(t.isArabic?16:17),g(3),T(t.isArabic?19:20),g(3),St(t.allUserBookings)}}function xQ(n,e){if(n&1){let t=Dt();C(0,"div",40)(1,"div",62)(2,"div",63)(3,"div",64)(4,"p")(5,"strong"),I(6,pK,1,0)(7,mK,1,0),_(),m(8),_(),C(9,"p")(10,"strong"),I(11,gK,1,0)(12,_K,1,0),_(),I(13,CK,3,1,"span",65)(14,bK,3,1,"span",66)(15,SK,3,1,"span",67),_(),C(16,"p")(17,"strong"),I(18,DK,1,0)(19,AK,1,0),_(),m(20),_(),C(21,"p")(22,"strong"),I(23,xK,1,0)(24,MK,1,0),_(),m(25),_(),C(26,"p")(27,"strong"),I(28,PK,1,0)(29,NK,1,0),_(),m(30),_()(),C(31,"div",64)(32,"p")(33,"strong"),I(34,RK,1,0)(35,kK,1,0),_(),m(36),_(),C(37,"p")(38,"strong"),I(39,OK,1,0)(40,FK,1,0),_(),m(41),_(),C(42,"p")(43,"strong"),I(44,LK,1,0)(45,VK,1,0),_(),m(46),_(),C(47,"p")(48,"strong"),I(49,BK,1,0)(50,UK,1,0),_(),m(51),_(),C(52,"p")(53,"strong"),I(54,jK,1,0)(55,$K,1,0),_(),m(56),_()()(),I(57,oQ,57,18,"div",68),C(58,"button",69),X("click",function(){De(t);let r=L(2);return Ae(r.getUserBookings(r.selectedBooking.userId))}),I(59,sQ,1,0)(60,aQ,1,0),_(),I(61,AQ,24,5,"div",7),_()()}if(n&2){let t=L(2);g(6),T(t.isArabic?6:7),g(2),ee(" ",t.selectedBooking.bookingId,""),g(3),T(t.isArabic?11:12),g(2),T(t.selectedBooking.status==="2"?13:t.selectedBooking.status==="1"?14:15),g(5),T(t.isArabic?18:19),g(2),ee(" ",t.selectedBooking.service,""),g(3),T(t.isArabic?23:24),g(2),ee(" ",t.selectedBooking.date,""),g(3),T(t.isArabic?28:29),g(2),ee(" ",t.selectedBooking.time,""),g(4),T(t.isArabic?34:35),g(2),ee(" ",t.selectedBooking.carModel,""),g(3),T(t.isArabic?39:40),g(2),ee(" ",t.selectedBooking.carType,""),g(3),T(t.isArabic?44:45),g(2),ee(" ",t.selectedBooking.displayName,""),g(3),T(t.isArabic?49:50),g(2),ee(" ",t.selectedBooking.email,""),g(3),T(t.isArabic?54:55),g(2),ee(" ",t.selectedBooking.phone,""),g(),T(t.selectedBooking.userProfile?57:-1),g(2),T(t.isArabic?59:60),g(2),T(t.allUserBookings.length>0?61:-1)}}function MQ(n,e){n&1&&m(0," \u063A\u0644\u0642 ")}function PQ(n,e){n&1&&m(0," Close ")}function NQ(n,e){n&1&&m(0," \u0637\u0628\u0627\u0639\u0629 ")}function RQ(n,e){n&1&&m(0," Print ")}function kQ(n,e){if(n&1){let t=Dt();C(0,"h3",6),I(1,nW,1,0)(2,iW,1,0),m(3),_(),C(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"label",11),I(9,rW,1,0)(10,oW,1,0),_(),C(11,"select",12,0),X("change",function(){De(t);let r=Kr(12),o=L();return Ae(o.filterByStatus(r.value))}),C(13,"option",13),I(14,sW,1,0)(15,aW,1,0),_(),C(16,"option",14),I(17,lW,1,0)(18,cW,1,0),_(),C(19,"option",15),I(20,uW,1,0)(21,dW,1,0),_(),C(22,"option",16),I(23,hW,1,0)(24,fW,1,0),_()()(),C(25,"div",10)(26,"label",17),I(27,pW,1,0)(28,mW,1,0),_(),C(29,"select",18,1),X("change",function(){De(t);let r=Kr(30),o=L();return Ae(o.filterByService(r.value))}),C(31,"option",19),I(32,gW,1,0)(33,_W,1,0),_(),Tt(34,CW,3,2,"option",20,It),_()(),C(36,"div",10)(37,"label",21),I(38,wW,1,0)(39,EW,1,0),_(),C(40,"select",22,2),X("change",function(){De(t);let r=Kr(41),o=L();return Ae(o.filterByDate(r.value))}),C(42,"option",13),I(43,bW,1,0)(44,IW,1,0),_(),C(45,"option",23),I(46,TW,1,0)(47,SW,1,0),_(),C(48,"option",24),I(49,DW,1,0)(50,AW,1,0),_(),C(51,"option",25),I(52,xW,1,0)(53,MW,1,0),_()()(),C(54,"div",26)(55,"label",27),I(56,PW,1,0)(57,NW,1,0),_(),C(58,"input",28,3),X("keyup",function(){De(t);let r=Kr(59),o=L();return Ae(o.filterBookingsBySearch(r.value))}),_()(),C(60,"div",29)(61,"span",30),I(62,RW,1,0)(63,kW,1,0),C(64,"b",31),m(65),_()()()(),C(66,"div",32)(67,"table",33)(68,"thead",34)(69,"tr"),V(70,"th",35),C(71,"th",36),I(72,OW,1,0)(73,FW,1,0),_(),C(74,"th",36),I(75,LW,1,0)(76,VW,1,0),_(),C(77,"th",36),I(78,BW,1,0)(79,UW,1,0),_(),C(80,"th",36),I(81,jW,1,0)(82,$W,1,0),_(),C(83,"th",36),I(84,HW,1,0)(85,zW,1,0),_(),C(86,"th",36),I(87,qW,1,0)(88,GW,1,0),_()()(),C(89,"tbody"),Tt(90,iK,32,15,"tr",null,It),_()()()()(),C(92,"div",37)(93,"div",38)(94,"div",39)(95,"div",40),V(96,"i",41),I(97,rK,1,0)(98,oK,1,0),C(99,"b",42),I(100,sK,1,0)(101,aK,1,0),_()(),C(102,"div",43)(103,"button",44),I(104,lK,1,0)(105,cK,1,0),_(),C(106,"button",45),X("click",function(){De(t);let r=L();return Ae(r.deleteBooking(r.deletedBooking.bookingId))}),I(107,uK,1,0)(108,dK,1,0),_()()()()(),C(109,"div",46)(110,"div",47)(111,"div",39)(112,"div",48)(113,"h1",49),I(114,hK,1,0)(115,fK,1,0),_()(),I(116,xQ,62,23,"div",40),C(117,"div",50)(118,"button",51),X("click",function(){De(t);let r=L();return Ae(r.closeModal())}),I(119,MQ,1,0)(120,PQ,1,0),_(),C(121,"button",52),X("click",function(){De(t);let r=L();return Ae(r.print())}),I(122,NQ,1,0)(123,RQ,1,0),_()()()()()}if(n&2){let t=L();g(),T(t.isArabic?1:2),g(2),ee(" ( ",t.bookings.length," ) "),g(6),T(t.isArabic?9:10),g(5),T(t.isArabic?14:15),g(3),T(t.isArabic?17:18),g(3),T(t.isArabic?20:21),g(3),T(t.isArabic?23:24),g(4),T(t.isArabic?27:28),g(5),T(t.isArabic?32:33),g(2),St(t.services),g(4),T(t.isArabic?38:39),g(5),T(t.isArabic?43:44),g(3),T(t.isArabic?46:47),g(3),T(t.isArabic?49:50),g(3),T(t.isArabic?52:53),g(4),T(t.isArabic?56:57),g(6),T(t.isArabic?62:63),g(3),ee(" ",t.filteredBookings.length," "),g(7),T(t.isArabic?72:73),g(3),T(t.isArabic?75:76),g(3),T(t.isArabic?78:79),g(3),T(t.isArabic?81:82),g(3),T(t.isArabic?84:85),g(3),T(t.isArabic?87:88),g(3),St(t.filteredBookings),g(7),T(t.isArabic?97:98),g(3),T(t.isArabic?100:101),g(4),T(t.isArabic?104:105),g(3),T(t.isArabic?107:108),g(7),T(t.isArabic?114:115),g(2),T(t.selectedBooking?116:-1),g(3),T(t.isArabic?119:120),g(3),T(t.isArabic?122:123)}}function OQ(n,e){n&1&&m(0," \u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u062C\u0648\u0632\u0627\u062A \u0628\u0639\u062F ")}function FQ(n,e){n&1&&m(0," There are no bookings yet ")}function LQ(n,e){if(n&1&&(C(0,"p",5),I(1,OQ,1,0)(2,FQ,1,0),_()),n&2){let t=L();g(),T(t.isArabic?1:2)}}var Wp=class n{constructor(e,t,i,r,o,s){this.fb=e;this.bookingService=t;this.authService=i;this.servicesService=r;this.dataService=o;this.title=s}isArabic=!1;bookings=[];allUserBookings=[];filteredBookings=[];services=[];deletedBooking;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>{this.changeLang()},100)}getDeletedBooking(e){this.deletedBooking=e,console.log(this.deletedBooking)}deleteBooking(e){this.bookings.find(i=>i.bookingId===e)?this.bookingService.deleteBooking(e).then(()=>{this.deletedBooking=null}).catch(i=>{console.error("Error deleting booking:",i)}):console.error("Booking not found for deletion.")}changeBookingStatus(e,t){this.bookingService.changeBookingStatus(e,t).then(()=>alert("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u062C\u0632 \u0628\u0646\u062C\u0627\u062D")).catch(i=>alert("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0627\u0644\u0629"))}getBookings(){this.bookingService.getBookings().subscribe({next:e=>{this.bookings=e,this.filteredBookings=e},error:e=>{console.error("Error fetching bookings:",e)}})}isPastDate(e){return this.bookingService.isPastDate(e)}filterByStatus(e){e===""?this.filteredBookings=this.bookings:this.filteredBookings=this.bookings.filter(t=>t.status===e)}filterByService(e){e===""?this.filteredBookings=this.bookings:this.filteredBookings=this.bookings.filter(t=>t.service===e)}filterByDate(e){let t=new Date;switch(t.setHours(0,0,0,0),e){case"today":this.filteredBookings=this.bookings.filter(o=>{let s=new Date(o.date);return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()});break;case"nextWeek":let i=new Date(t);i.setDate(t.getDate()+7),this.filteredBookings=this.bookings.filter(o=>{let s=new Date(o.date);return s>t&&s<=i});break;case"lastWeek":let r=new Date(t);r.setDate(t.getDate()-7),this.filteredBookings=this.bookings.filter(o=>{let s=new Date(o.date);return s<t&&s>=r});break;default:this.filteredBookings=this.bookings;break}}filterBookings(e,t){let i=this.bookings;e!==""&&(i=i.filter(o=>o.status===e));let r=new Date;switch(r.setHours(0,0,0,0),t){case"today":i=i.filter(a=>{let l=new Date(a.date);return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()});break;case"nextWeek":let o=new Date(r);o.setDate(r.getDate()+7),i=i.filter(a=>{let l=new Date(a.date);return l>r&&l<=o});break;case"lastWeek":let s=new Date(r);s.setDate(r.getDate()-7),i=i.filter(a=>{let l=new Date(a.date);return l<r&&l>=s});break;default:break}this.filteredBookings=i}filterBookingsBySearch(e){this.filteredBookings=this.bookings.filter(t=>t.displayName.toLowerCase().includes(e)||t.phone.toString().includes(e)||t.email.toLowerCase().includes(e))}getAllServices(){this.servicesService.getAllServices().subscribe(e=>{this.services=e})}getUserBookings(e){this.bookingService.getUserBookings(e).then(t=>{t.length>0?this.allUserBookings=t:this.allUserBookings=[]}).catch(t=>{console.error("Error loading bookings:",t)})}selectedBooking=null;openModal(e){this.title.setTitle(`\u062A\u0641\u0627\u0635\u064A\u0644 \u062D\u062C\u0632 \u0627\u0644\u0639\u0645\u064A\u0644 ${e.displayName} \u0628\u062A\u0627\u0631\u064A\u062E ${e.date}`),this.selectedBooking=e,console.log("Selected Booking:",this.selectedBooking),this.authService.getUserProfileData(this.selectedBooking.userId).subscribe(t=>{t?(console.log("User Profile Data:",t),this.selectedBooking.userProfile=t):(console.log("No user data found for userId:",this.selectedBooking.userId),this.selectedBooking.userProfile=null)},t=>{console.error("Error fetching user profile data:",t)})}closeModal(){this.title.setTitle("\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A \u0644\u062D\u062C\u0632 \u0635\u064A\u0627\u0646\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),this.selectedBooking=null,this.allUserBookings=[]}print(){window.print()}ngOnInit(){this.changeLang(),this.getBookings(),this.getAllServices()}static \u0275fac=function(t){return new(t||n)(F(Pi),F(Ya),F(fn),F(Za),F(Ye),F(sp))};static \u0275cmp=Ve({type:n,selectors:[["app-admin"]],standalone:!0,features:[He],decls:2,vars:1,consts:[["filterByStatusValue",""],["filterByServiceValue",""],["filterByDateValue",""],["searchValue",""],["bookingStatus",""],[1,"mt-3","text-center","text-warning","fst-italic","fw-bold"],[1,"my-3","fst-italic","fw-bold"],[1,"card","overflow-x-auto"],[1,"card-body"],[1,"row","g-3","mb-3"],[1,"col-6"],["for","statusFilter",1,"form-label"],["id","statusFilter",1,"form-select",3,"change"],["value",""],["value","1"],["value","2"],["value","0"],["for","serviceFilter",1,"form-label"],["id","serviceFilter",1,"form-select",3,"change"],["value","","selected","","disabled",""],[3,"value"],["for","dateFilter",1,"form-label"],["id","dateFilter",1,"form-select",3,"change"],["value","today"],["value","nextWeek"],["value","lastWeek"],[1,"col-12","col-lg-6"],["for","search",1,"form-label"],["type","search","name","search","id","search",1,"form-control",3,"keyup"],[1,"col-12"],[1,"small","fst-italic","mx-2"],[1,"text-primary"],[1,"table-container"],[1,"table","table-striped","text-center","rounded","table-hover"],[1,"table-primary"],[1,"text-muted"],["scope","col"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen"],[1,"bg-primary","text-white","py-2"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center"],[1,"modal-footer","bg-light"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","mx-1",3,"click"],[1,"text-primary",3,"ngClass"],[1,"form-select","fw-bold",3,"change","disabled","value"],["value","1",1,"text-primary"],["value","2",1,"text-warning"],["value","0",1,"text-danger"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa-regular","fa-trash-can"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"container"],[1,"row","mb-3"],[1,"col-md-6"],[1,"fw-bold","text-warning"],[1,"fw-bold","text-primary"],[1,"fw-bold","text-danger"],[1,"row","g-3","mb-3","border-top","pt-3"],[1,"btn","btn-primary","userBookingsBtn","my-3",3,"click"],[1,"text-primary","text-center","mb-3"],["dir","ltr",1,"license-plate"],[1,"plate-header"],[1,"country"],[1,"region"],[1,"plate-body"],[1,"plate-numbers"],[1,"separator"],[1,"plate-letters"],[1,"col-md-4"],[1,"text-center","mb-3"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u0645\u064A\u0644",1,"img-fluid","rounded-circle","border",2,"width","150px","height","150px",3,"src"],[1,"text-center"],[1,"fst-italic"]],template:function(t,i){t&1&&I(0,kQ,124,31)(1,LQ,3,1,"p",5),t&2&&T(i.bookings.length>0?0:1)},dependencies:[rt,it,Ni,Ka,Qa],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.form-label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#771eab}button[_ngcontent-%COMP%]{border-radius:.8rem}hr[_ngcontent-%COMP%]{color:#771eab}.bookBtn[_ngcontent-%COMP%]{background-color:#771eab99;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out}.bookBtn[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}.license-plate[_ngcontent-%COMP%]{width:300px;height:80px;border:2px solid #000;border-radius:8px;font-family:Arial,sans-serif;text-align:center;overflow:hidden;display:flex;flex-direction:column;background-color:#fff}.license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:2px 10px;font-size:14px;font-weight:700}.license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%], .license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]   .region[_ngcontent-%COMP%]{font-size:16px}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]{flex:1;display:flex;position:relative}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   .plate-letters[_ngcontent-%COMP%], .license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   .plate-numbers[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;font-size:1.8em;font-weight:700;color:#000;font-family:Arial,sans-serif}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:absolute;width:2px;background-color:#000;height:90%;left:50%;top:5%}@media print{.userBookingsBtn[_ngcontent-%COMP%]{display:none}}.table-container[_ngcontent-%COMP%]{max-height:100vh;overflow-y:auto}.table[_ngcontent-%COMP%]{margin:0}"]})};var VQ=(n,e)=>({"fa-angle-left":n,"fa-angle-right":e}),gr=(n,e)=>({"is-valid":n,"is-invalid":e}),BQ=n=>({PowertypeCar:n});function UQ(n,e){n&1&&m(0," \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 ")}function jQ(n,e){n&1&&m(0," Home ")}function $Q(n,e){n&1&&m(0," \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A ")}function HQ(n,e){n&1&&m(0," Profile")}function zQ(n,e){n&1&&m(0," \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A ")}function qQ(n,e){n&1&&m(0," Profile")}function GQ(n,e){n&1&&m(0," \u064A\u062C\u0628 \u0627\u0633\u062A\u0643\u0645\u0627\u0644 \u0643\u0627\u0641\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A ! ")}function WQ(n,e){n&1&&m(0," All data must be completed ! ")}function KQ(n,e){if(n&1&&(C(0,"div",10),V(1,"i",45),I(2,GQ,1,0)(3,WQ,1,0),_()),n&2){let t=L(2);g(2),T(t.isArabic?2:3)}}function QQ(n,e){n&1&&m(0," \u0627\u0644\u0627\u0633\u0645 ")}function YQ(n,e){n&1&&m(0," Name ")}function ZQ(n,e){n&1&&m(0," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A ")}function JQ(n,e){n&1&&m(0," Email ")}function XQ(n,e){n&1&&m(0," \u0627\u0644\u0647\u0627\u062A\u0641 ")}function eY(n,e){n&1&&m(0," Phone ")}function tY(n,e){n&1&&m(0," \u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function nY(n,e){n&1&&m(0," Car Brand ")}function iY(n,e){n&1&&m(0," \u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0648\u0639 ")}function rY(n,e){n&1&&m(0," Select Car Brand ")}function oY(n,e){if(n&1&&(C(0,"option",26),m(1),_()),n&2){let t=e.$implicit;H("value",t)("ngClass",je(3,BQ,t!="other")),g(),ee(" ",t," ")}}function sY(n,e){n&1&&m(0," \u0645\u0648\u062F\u064A\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function aY(n,e){n&1&&m(0," Car Model ")}function lY(n,e){n&1&&m(0," \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0648\u062F\u064A\u0644 ")}function cY(n,e){n&1&&m(0," Select Car Model ")}function uY(n,e){if(n&1&&(C(0,"option",46),m(1),_()),n&2){let t=e.$implicit;H("value",t),g(),ee(" ",t," ")}}function dY(n,e){if(n&1&&(C(0,"select",28)(1,"option",25),I(2,lY,1,0)(3,cY,1,0),_(),Tt(4,uY,2,2,"option",46,It),_()),n&2){let t,i=L(2);H("ngClass",Me(2,gr,(t=i.profileForm.get("carModel"))==null?null:t.valid,((t=i.profileForm.get("carModel"))==null?null:t.invalid)&&((t=i.profileForm.get("carModel"))==null?null:t.touched))),g(2),T(i.isArabic?2:3),g(2),St(i.carModels)}}function hY(n,e){if(n&1&&V(0,"input",29),n&2){let t,i=L(2);H("ngClass",Me(1,gr,(t=i.profileForm.get("carModel"))==null?null:t.valid,((t=i.profileForm.get("carModel"))==null?null:t.invalid)&&((t=i.profileForm.get("carModel"))==null?null:t.touched)))}}function fY(n,e){n&1&&m(0," \u0633\u0646\u0647 \u0627\u0644\u0635\u0646\u0639 ")}function pY(n,e){n&1&&m(0," year Of Manufacture ")}function mY(n,e){n&1&&m(0," \u0627\u0644\u0644\u0648\u062D\u0629 ")}function gY(n,e){n&1&&m(0," Plate ")}function _Y(n,e){n&1&&m(0," \u0644\u0648\u0646 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")}function vY(n,e){n&1&&m(0," Car Color ")}function yY(n,e){n&1&&m(0," \u062D\u0641\u0638 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A ")}function CY(n,e){n&1&&m(0," Save Profile ")}function wY(n,e){if(n&1&&m(0),n&2){let t=L(3);ee(" ",t.showMessageProfileUpdated==null?null:t.showMessageProfileUpdated.arText," ")}}function EY(n,e){if(n&1&&m(0),n&2){let t=L(3);ee(" ",t.showMessageProfileUpdated==null?null:t.showMessageProfileUpdated.text," ")}}function bY(n,e){if(n&1&&(C(0,"div",43),V(1,"i",47),I(2,wY,1,1)(3,EY,1,1),_()),n&2){let t=L(2);g(2),T(t.isArabic?2:3)}}function IY(n,e){if(n&1&&m(0),n&2){let t=L(3);ee(" ",t.showMessageProfileUpdated==null?null:t.showMessageProfileUpdated.arText," ")}}function TY(n,e){if(n&1&&m(0),n&2){let t=L(3);ee(" ",t.showMessageProfileUpdated==null?null:t.showMessageProfileUpdated.text," ")}}function SY(n,e){if(n&1&&(C(0,"div",44),V(1,"i",48),I(2,IY,1,1)(3,TY,1,1),_()),n&2){let t=L(2);g(2),T(t.isArabic?2:3)}}function DY(n,e){n&1&&V(0,"app-admin")}function AY(n,e){if(n&1){let t=Dt();C(0,"div",7)(1,"div",9),I(2,KQ,4,1,"div",10),C(3,"div",11),V(4,"img",12),_(),C(5,"form",13),X("ngSubmit",function(){De(t);let r=L();return Ae(r.saveProfile())}),C(6,"div",14)(7,"div",15)(8,"div",16)(9,"label",17),I(10,QQ,1,0)(11,YQ,1,0),_(),V(12,"input",18),_()(),C(13,"div",15)(14,"div",16)(15,"label",19),I(16,ZQ,1,0)(17,JQ,1,0),_(),V(18,"input",20),_()(),C(19,"div",15)(20,"div",16)(21,"label",21),I(22,XQ,1,0)(23,eY,1,0),_(),V(24,"input",22),_()(),C(25,"div",15)(26,"div",16)(27,"label",23),I(28,tY,1,0)(29,nY,1,0),_(),C(30,"select",24,0),X("change",function(){De(t);let r=Kr(31),o=L();return Ae(o.onCarTypeChange(r.value))}),C(32,"option",25),I(33,iY,1,0)(34,rY,1,0),_(),Tt(35,oY,2,5,"option",26,It),_()()(),C(37,"div",15)(38,"div",16)(39,"label",27),I(40,sY,1,0)(41,aY,1,0),_(),I(42,dY,6,5,"select",28)(43,hY,1,4,"input",29),_()(),C(44,"div",15)(45,"div",16)(46,"label",30),I(47,fY,1,0)(48,pY,1,0),_(),V(49,"input",31),_()(),C(50,"div",15)(51,"label",32),I(52,mY,1,0)(53,gY,1,0),_(),C(54,"div",33)(55,"div",34)(56,"span",35),m(57," EGYPT "),_(),C(58,"span",36),m(59," \u0645\u0635\u0631 "),_()(),C(60,"div",37)(61,"input",38),X("input",function(r){De(t);let o=L();return Ae(o.formatWithSpaces("carPlateNumbers",r))}),_(),C(62,"input",39),X("input",function(r){De(t);let o=L();return Ae(o.formatWithSpaces("carPlateLetters",r))}),_()()()(),C(63,"div",15)(64,"div",16)(65,"label",40),I(66,_Y,1,0)(67,vY,1,0),_(),V(68,"input",41),_()(),C(69,"div",11)(70,"button",42),I(71,yY,1,0)(72,CY,1,0),_()()()(),I(73,bY,4,1,"div",43)(74,SY,4,1,"div",44)(75,DY,1,0,"app-admin"),_()()}if(n&2){let t,i,r,o,s,a,l,u=L();g(2),T(u.profileForm.invalid?2:-1),g(2),H("src",u.user.photoURL||"assets/images/user.png",Ci)("alt",u.user.displayName||"Default User"),g(),H("formGroup",u.profileForm),g(5),T(u.isArabic?10:11),g(2),H("ngClass",Me(25,gr,(t=u.profileForm.get("name"))==null?null:t.valid,((t=u.profileForm.get("name"))==null?null:t.invalid)&&((t=u.profileForm.get("name"))==null?null:t.touched))),g(4),T(u.isArabic?16:17),g(6),T(u.isArabic?22:23),g(2),H("ngClass",Me(28,gr,(i=u.profileForm.get("phone"))==null?null:i.valid,((i=u.profileForm.get("phone"))==null?null:i.invalid)&&((i=u.profileForm.get("phone"))==null?null:i.touched))),g(4),T(u.isArabic?28:29),g(2),H("ngClass",Me(31,gr,(r=u.profileForm.get("carType"))==null?null:r.valid,((r=u.profileForm.get("carType"))==null?null:r.invalid)&&((r=u.profileForm.get("carType"))==null?null:r.touched))),g(3),T(u.isArabic?33:34),g(2),St(u.carTypes),g(5),T(u.isArabic?40:41),g(2),T(u.isOtherCarType?43:42),g(5),T(u.isArabic?47:48),g(2),H("ngClass",Me(34,gr,(o=u.profileForm.get("yearOfManufacture"))==null?null:o.valid,((o=u.profileForm.get("yearOfManufacture"))==null?null:o.invalid)&&((o=u.profileForm.get("yearOfManufacture"))==null?null:o.touched))),g(3),T(u.isArabic?52:53),g(9),H("ngClass",Me(37,gr,(s=u.profileForm.get("carPlateNumbers"))==null?null:s.valid,((s=u.profileForm.get("carPlateNumbers"))==null?null:s.invalid)&&((s=u.profileForm.get("carPlateNumbers"))==null?null:s.touched))),g(),H("ngClass",Me(40,gr,(a=u.profileForm.get("carPlateLetters"))==null?null:a.valid,((a=u.profileForm.get("carPlateLetters"))==null?null:a.invalid)&&((a=u.profileForm.get("carPlateLetters"))==null?null:a.touched))),g(4),T(u.isArabic?66:67),g(2),H("ngClass",Me(43,gr,(l=u.profileForm.get("carColor"))==null?null:l.valid,((l=u.profileForm.get("carColor"))==null?null:l.invalid)&&((l=u.profileForm.get("carColor"))==null?null:l.touched))),g(2),H("disabled",u.profileForm.invalid),g(),T(u.isArabic?71:72),g(2),T((u.showMessageProfileUpdated==null?null:u.showMessageProfileUpdated.type)==="success"?73:(u.showMessageProfileUpdated==null?null:u.showMessageProfileUpdated.type)==="error"?74:-1),g(2),T(u.adminEmails.includes(u.user.email)?75:-1)}}function xY(n,e){n&1&&(C(0,"div",8)(1,"div",49),V(2,"i",50)(3,"br")(4,"span",51),_()())}var Kp=class n{constructor(e,t,i,r,o){this.fb=e;this.authService=t;this.db=i;this.dataService=r;this.router=o;this.profileForm=this.fb.group({name:["",[Le.required,Le.minLength(3)]],email:[{value:"",disabled:!0},[Le.required]],phone:["",[Le.required,Le.pattern(/^\+?[0-9]{10,15}$/)]],carType:["",[Le.required,Le.minLength(1)]],carModel:["",[Le.required,Le.minLength(1)]],carColor:["",[Le.required]],carPlateNumbers:["",[Le.required,Le.pattern(/^\d(\s?\d){0,3}$/)]],carPlateLetters:["",[Le.required,Le.pattern(/^[\u0600-\u06FF](\s?[\u0600-\u06FF]){0,3}$/)]],yearOfManufacture:["",[Le.required,Le.minLength(1),Le.min(1900),Le.max(new Date().getFullYear())]]})}isArabic=!1;profileForm;user;adminEmails=[];isLoaded=!1;showMessageProfileUpdated=null;carTypes=["MG","Chevrolet","DongFeng","Bestune","other"];carModels=[];carTypeModelsMap={MG:["Mg 5","Mg zs","Mg 6","Mg hs","Mg rx5","Mg rx5 plus","Mg one","Mg 7"],Chevrolet:["Optra","New optra","Captiva","Malibu","Equinox","Lanos","Aveo","Cruze","N 300"],DongFeng:["A 30","HUGE","E 70"],Bestune:["B 70","B 70S","T 33","T 55","T 77"]};isOtherCarType=!1;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>{this.changeLang()},100)}saveProfile(){if(this.profileForm.invalid){alert("Please fill all required fields");return}let e={name:this.profileForm.value.name,email:this.user?.email,photoURL:this.user?.photoURL,phone:this.profileForm.value.phone,carType:this.profileForm.value.carType,carModel:this.profileForm.value.carModel,yearOfManufacture:this.profileForm.value.yearOfManufacture,carPlateNumbers:this.profileForm.value.carPlateNumbers,carPlateLetters:this.profileForm.value.carPlateLetters,carColor:this.profileForm.value.carColor},t=nn(this.db,`users/${this.user.uid}`);ns(t,e).then(()=>{this.showMessageProfileUpdated={type:"success",text:"Personal data has been modified successfully",arText:"\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"},this.clearProfileUpdatedMessage()}).catch(i=>{this.showMessageProfileUpdated={type:"error",text:"Error try again later",arText:"\u062E\u0637\u0623 \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u0627"},this.clearProfileUpdatedMessage()})}clearProfileUpdatedMessage(){setTimeout(()=>{this.showMessageProfileUpdated=null,this.router.navigate(["/booking"])},2e3)}formatWithSpaces(e,t){let o=t.target.value.replace(/\s+/g,"").split("").join(" ");this.profileForm.get(e)?.setValue(o)}onCarTypeChange(e){e==="other"?(this.carModels=[],this.isOtherCarType=!0,this.profileForm.patchValue({carModel:""})):(this.carModels=this.carTypeModelsMap[e]||[],this.isOtherCarType=!1,this.profileForm.patchValue({carModel:""}))}ngOnInit(){this.changeLang(),this.adminEmails=this.authService.adminEmails,this.authService.getCurrentUser().subscribe(e=>{this.user=e,this.user&&this.authService.getUserProfileData(this.user.uid).subscribe(t=>{this.isLoaded=!0,this.profileForm.patchValue({name:t?.name||this.user.displayName||"",email:t?.email||this.user.email||"",phone:t?.phone||"",carType:t?.carType||"",carModel:t?.carModel||"",carColor:t?.carColor||"",carPlateNumbers:t?.carPlateNumbers||"",carPlateLetters:t?.carPlateLetters||"",yearOfManufacture:t?.yearOfManufacture||""}),t?.carType&&(this.onCarTypeChange(t?.carType),this.profileForm.patchValue({carModel:t?.carModel}))},t=>{console.error("Error fetching user data:",t)})})}static \u0275fac=function(t){return new(t||n)(F(Pi),F(fn),F(vn),F(Ye),F(Gt))};static \u0275cmp=Ve({type:n,selectors:[["app-profile"]],standalone:!0,features:[He],decls:16,vars:8,consts:[["carType",""],[1,"pageTitle","vh-70","d-flex","align-items-center","justify-content-center","flex-column","pt-5"],[1,"navigation"],["routerLink","/home"],[1,"mx-2"],[1,"fa-solid",3,"ngClass"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-5"],[1,"ProfileData","py-5"],[1,"d-flex","justify-content-center","align-items-center","min-vh-70"],[1,"container"],[1,"alert","alert-danger","text-center"],[1,"text-center"],["draggable","false",1,"rounded-4",3,"src","alt"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-lg-6"],[1,"form-group"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email",1,"form-control","text-muted","fw-bolder","is-valid"],["for","phone",1,"form-label"],["id","phone","type","number","formControlName","phone",1,"form-control",3,"ngClass"],["for","carType",1,"form-label"],["id","carType","formControlName","carType",1,"form-select",3,"change","ngClass"],["value","","disabled","","selected",""],[1,"text-uppercase",3,"value","ngClass"],["for","carModel",1,"form-label"],["id","carModel","formControlName","carModel",1,"form-select",3,"ngClass"],["id","carModel","type","text","formControlName","carModel","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0648\u062F\u064A\u0644",1,"form-control",3,"ngClass"],["for","yearOfManufacture",1,"form-label"],["id","yearOfManufacture","type","number","formControlName","yearOfManufacture","placeholder","e.g., 2020",1,"form-control",3,"ngClass"],["for","carPlateNumbers",1,"form-label"],["dir","ltr",1,"license-plate"],[1,"plate-header"],[1,"country"],[1,"region"],[1,"plate-body"],["type","text","placeholder","1 2 3","formControlName","carPlateNumbers",1,"plate-numbers",3,"input","ngClass"],["type","text","placeholder","\u0623 \u0628 \u062C","formControlName","carPlateLetters",1,"plate-letters",3,"input","ngClass"],["for","carColor",1,"form-label"],["id","carColor","type","text","formControlName","carColor",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","saveBtn",3,"disabled"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"fa-solid","fa-triangle-exclamation"],[3,"value"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"fs-1","text-primary","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(t,i){t&1&&(C(0,"section",1)(1,"div",2)(2,"span")(3,"a",3),I(4,UQ,1,0)(5,jQ,1,0),_()(),C(6,"b",4),V(7,"i",5),_(),C(8,"span"),I(9,$Q,1,0)(10,HQ,1,0),_()(),C(11,"h1",6),I(12,zQ,1,0)(13,qQ,1,0),_()(),I(14,AY,76,46,"div",7)(15,xY,5,0,"div",8)),t&2&&(g(4),T(i.isArabic?4:5),g(3),H("ngClass",Me(5,VQ,i.isArabic,!i.isArabic)),g(2),T(i.isArabic?9:10),g(3),T(i.isArabic?12:13),g(2),T(i.isLoaded?14:15))},dependencies:[Ni,Ga,Ka,Qa,uo,Yw,Wa,za,qa,ls,cs,rt,it,mt,Wp],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.vh-70[_ngcontent-%COMP%]{height:70vh}.pageTitle[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(#00000080,#00000080),url("./media/image-AURVKL4O.jpg") no-repeat center center/cover}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Rubik,sans-serif;font-size:.8rem;line-height:33px;font-weight:400;transition:all .5s}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#771eab}.pageTitle[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8rem}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;text-align:center;font-size:2.5rem;line-height:5rem;display:flex;align-items:center;justify-content:center}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";flex:1;height:3px;width:4rem;background-color:#771eab;box-shadow:1px 1px 8px #fff;margin:0 15px}@media (max-width: 768px){.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before, .pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{display:none}}.ProfileData[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.form-label[_ngcontent-%COMP%]{color:#771eab}.saveBtn[_ngcontent-%COMP%]{background-color:#771eab99;border:2px solid rgb(119,30,171);border-radius:.8rem;transition:all .3s ease-in-out}.saveBtn[_ngcontent-%COMP%]:hover{background-color:#771eab;box-shadow:1px 1px 15px #771eab99!important}.PowertypeCar[_ngcontent-%COMP%]{color:#771eab;font-weight:600;font-style:italic}.license-plate[_ngcontent-%COMP%]{width:100%;border:2px solid #000;border-radius:8px;font-family:Arial,sans-serif;text-align:center;overflow:hidden}.license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]{background-color:#007acc;color:#fff;display:flex;justify-content:space-between;padding:1px 10px;font-size:14px;font-weight:700}.license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%], .license-plate[_ngcontent-%COMP%]   .plate-header[_ngcontent-%COMP%]   .region[_ngcontent-%COMP%]{font-size:12px}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;padding:1px 10px}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;text-align:center;font-size:18px;font-weight:700}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   .plate-numbers[_ngcontent-%COMP%]{width:50%;color:#000;border-right:2px solid #383838}.license-plate[_ngcontent-%COMP%]   .plate-body[_ngcontent-%COMP%]   .plate-letters[_ngcontent-%COMP%]{width:50%;direction:rtl;color:#000}']})};var MY=de(n=>!!n),Jw=(()=>{class n{router;auth;constructor(t,i){this.router=t,this.auth=i}canActivate=(t,i)=>{let r=t.data.authGuardPipe||(()=>MY);return x1(this.auth).pipe(Pt(1),r(t,i),de(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(K(Gt),K(sr))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var PN=n=>({"is-invalid":n}),NN=n=>({"is-valid":n});function PY(n,e){n&1&&(C(0,"p",19),m(1,"Email is Required"),_())}function NY(n,e){n&1&&(C(0,"p",19),m(1," Email is incorrect "),_())}function RY(n,e){if(n&1&&(C(0,"div",10),I(1,PY,2,0,"p",19)(2,NY,2,0,"p",19),_()),n&2){let t,i,r=L();g(),T(!((t=r.login.get("email"))==null||t.errors==null)&&t.errors.required?1:-1),g(),T(!((i=r.login.get("email"))==null||i.errors==null)&&i.errors.email?2:-1)}}function kY(n,e){n&1&&(C(0,"p",19),m(1,"Password is Required"),_())}function OY(n,e){if(n&1&&(C(0,"div",10),I(1,kY,2,0,"p",19),_()),n&2){let t,i=L();g(),T(!((t=i.login.get("password"))==null||t.errors==null)&&t.errors.required?1:-1)}}function FY(n,e){if(n&1&&(C(0,"div",14),m(1),_()),n&2){let t=L();g(),ee(" ",t.errorMessage," ")}}function LY(n,e){n&1&&m(0," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0639\u0628\u0631 \u0628\u0631\u064A\u062F \u062C\u0648\u062C\u0644 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A ")}function VY(n,e){n&1&&m(0," Login via Google email ")}var Qp=class n{constructor(e,t,i,r){this._FormBuilder=e;this.dataService=t;this.router=i;this.authService=r;this.login=this._FormBuilder.group({email:new as(null,[Le.required,Le.email]),password:new as(null,[Le.required])})}isArabic=!1;errorMessage="User Not Found";showError=!1;login;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>{this.changeLang()},100)}onSubmit(e){console.log(e.value),this.authService.loginWithEmail(e.value.email,e.value.password).subscribe(t=>{t.exists?console.log("User exists in the database"):(console.log("User does not exist in the database"),this.showError=!0)},t=>{console.error("Error during login:",t),this.showError=!0}),this.login.reset()}loginWithGoogle(){this.authService.loginWithGoogle().then(()=>{this.router.navigate(["/profile"])}).catch(e=>{console.error("Login failed",e)})}ngOnInit(){this.changeLang()}static \u0275fac=function(t){return new(t||n)(F(Pi),F(Ye),F(Gt),F(fn))};static \u0275cmp=Ve({type:n,selectors:[["app-login"]],standalone:!0,features:[He],decls:25,vars:18,consts:[[1,"login"],[1,"container","mt-5"],[1,"row","g-3","pt-5"],[1,"col-lg-6"],[1,"text-white","fs-4","text-center","text-uppercase","mb-3"],[3,"formGroup"],["action","javascript:void(0)",3,"submit"],[1,"row","g-2"],[1,"col-lg-12"],["name","email","id","email","type","text","formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","p-1","my-2"],["name","password","id","password","type","password","formControlName","password","placeholder","password",1,"form-control","mt-3",3,"ngClass"],["type","submit",1,"btn","btn-light","mt-4",3,"disabled"],[1,"fa-solid","fa-right-to-bracket"],[1,"alert","alert-danger","p-2","m-auto","text-center","w-50","mt-3","fw-bold"],[1,"btn","btn-primary","w-100","my-3",3,"click"],[1,"fa-brands","fa-google"],[1,"col-lg-6","text-center"],["src","assets/images/logo.jpg","alt","Kuwait arab states Auto Logo",1,"w-75","rounded-3"],[1,"m-0"]],template:function(t,i){if(t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5," Kuwait and Arab Countries Company "),_(),C(6,"div",5)(7,"form",6),X("submit",function(){return i.onSubmit(i.login)}),C(8,"div",7)(9,"div",8),V(10,"input",9),I(11,RY,3,2,"div",10),_(),C(12,"div",8),V(13,"input",11),I(14,OY,2,1,"div",10),_()(),C(15,"button",12),m(16," Log in "),V(17,"i",13),_()(),I(18,FY,2,1,"div",14),_(),C(19,"a",15),X("click",function(){return i.loginWithGoogle()}),I(20,LY,1,0)(21,VY,1,0),V(22,"i",16),_()(),C(23,"div",17),V(24,"img",18),_()()()()),t&2){let r,o,s,a,l,u;g(6),H("formGroup",i.login),g(4),H("ngClass",je(10,PN,((r=i.login.get("email"))==null?null:r.errors)&&((r=i.login.get("email"))==null?null:r.touched)))("ngClass",je(12,NN,((o=i.login.get("email"))==null?null:o.valid)&&((o=i.login.get("email"))==null?null:o.touched))),g(),T((s=i.login.get("email"))!=null&&s.errors&&((s=i.login.get("email"))!=null&&s.touched)?11:-1),g(2),H("ngClass",je(14,PN,((a=i.login.get("password"))==null?null:a.errors)&&((a=i.login.get("password"))==null?null:a.touched)))("ngClass",je(16,NN,((l=i.login.get("password"))==null?null:l.valid)&&((l=i.login.get("password"))==null?null:l.touched))),g(),T((u=i.login.get("password"))!=null&&u.errors&&((u=i.login.get("password"))!=null&&u.touched)?14:-1),g(),H("disabled",i.login.invalid),g(3),T(i.showError?18:-1),g(2),T(i.isArabic?20:21)}},dependencies:[Ni,Ga,uo,za,qa,ls,cs,rt,it],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#05054d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#771eab}[_ngcontent-%COMP%]::selection{color:#771eab;background:#000}.login[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center}"]})};var Yp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-register"]],standalone:!0,features:[He],decls:2,vars:0,template:function(t,i){t&1&&(C(0,"p"),m(1,"register works!"),_())}})};var Zp=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0631\u0627\u062D\u0629 \u0627\u0644\u0628\u0627\u0644",component:Qp},{path:"register",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0627\u0646\u0636\u0645 \u0625\u0644\u064A\u0646\u0627 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0641\u0636\u0644 \u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",component:Yp},{path:"home",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0648\u062C\u0647\u062A\u0643 \u0627\u0644\u0623\u0648\u0644\u0649 \u0644\u0635\u064A\u0627\u0646\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062A\u0637\u0648\u0631\u0629",component:Pp},{path:"about",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0645\u0646 \u0646\u062D\u0646\u061F \u062B\u0642\u062A\u0643\u0645 \u0647\u064A \u0623\u0648\u0644\u0648\u064A\u062A\u0646\u0627",component:Rp},{path:"services",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u062E\u062F\u0645\u0627\u062A \u0645\u062A\u0645\u064A\u0632\u0629 \u0644\u0635\u064A\u0627\u0646\u0629 \u0633\u064A\u0627\u0631\u062A\u0643 \u0628\u0623\u0639\u0644\u0649 \u062C\u0648\u062F\u0629",component:kp},{path:"contact",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0648\u0627\u062D\u0635\u0644 \u0639\u0644\u0649 \u062F\u0639\u0645 \u0633\u0631\u064A\u0639 \u0648\u0645\u0645\u064A\u0632",component:qp},{path:"booking",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0627\u062D\u062C\u0632 \u0645\u0648\u0639\u062F\u0643 \u0644\u0635\u064A\u0627\u0646\u0629 \u0633\u064A\u0627\u0631\u062A\u0643 \u0628\u0633\u0647\u0648\u0644\u0629 \u0627\u0644\u0622\u0646",component:Gp,canActivate:[Jw]},{path:"profile",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0625\u062F\u0627\u0631\u0629 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A \u0648\u0645\u0648\u0627\u0639\u064A\u062F \u0635\u064A\u0627\u0646\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",component:Kp,canActivate:[Jw]},{path:"**",title:"\u0627\u0644\u0643\u0648\u064A\u062A \u0648\u0627\u0644\u062F\u0648\u0644 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 | \u0639\u0630\u0631\u064B\u0627\u060C \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u062A\u064A \u062A\u0628\u062D\u062B \u0639\u0646\u0647\u0627 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629",component:Np}];var RN={providers:[MA({eventCoalescing:!0}),Ip(Zp,LP())]};function kN(n){return new j(3e3,!1)}function BY(){return new j(3100,!1)}function UY(){return new j(3101,!1)}function jY(n){return new j(3001,!1)}function $Y(n){return new j(3003,!1)}function HY(n){return new j(3004,!1)}function zY(n,e){return new j(3005,!1)}function qY(){return new j(3006,!1)}function GY(){return new j(3007,!1)}function WY(n,e){return new j(3008,!1)}function KY(n){return new j(3002,!1)}function QY(n,e,t,i,r){return new j(3010,!1)}function YY(){return new j(3011,!1)}function ZY(){return new j(3012,!1)}function JY(){return new j(3200,!1)}function XY(){return new j(3202,!1)}function eZ(){return new j(3013,!1)}function tZ(n){return new j(3014,!1)}function nZ(n){return new j(3015,!1)}function iZ(n){return new j(3016,!1)}function rZ(n,e){return new j(3404,!1)}function oZ(n){return new j(3502,!1)}function sZ(n){return new j(3503,!1)}function aZ(){return new j(3300,!1)}function lZ(n){return new j(3504,!1)}function cZ(n){return new j(3301,!1)}function uZ(n,e){return new j(3302,!1)}function dZ(n){return new j(3303,!1)}function hZ(n,e){return new j(3400,!1)}function fZ(n){return new j(3401,!1)}function pZ(n){return new j(3402,!1)}function mZ(n,e){return new j(3505,!1)}function ho(n){switch(n.length){case 0:return new ao;case 1:return n[0];default:return new cu(n)}}function KN(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),h=u==s,p=h&&a||new Map;l.forEach((y,w)=>{let b=w,R=y;if(w!=="offset")switch(b=n.normalizePropertyName(b,r),R){case Ap:R=t.get(w);break;case Mi:R=i.get(w);break;default:R=n.normalizeStyleValue(w,b,R,r);break}p.set(b,R)}),h||o.push(p),a=p,s=u}),r.length)throw oZ(r);return o}function wE(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Xw(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Xw(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Xw(t,"destroy",n)));break}}function Xw(n,e,t){let i=t.totalTime,r=!!t.disabled,o=EE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function EE(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function En(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function ON(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var gZ=typeof document>"u"?null:document.documentElement;function bE(n){let e=n.parentNode||n.host||null;return e===gZ?null:e}function _Z(n){return n.substring(1,6)=="ebkit"}var ds=null,FN=!1;function vZ(n){ds||(ds=yZ()||{},FN=ds.style?"WebkitAppearance"in ds.style:!1);let e=!0;return ds.style&&!_Z(n)&&(e=n in ds.style,!e&&FN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ds.style)),e}function yZ(){return typeof document<"u"?document.body:null}function QN(n,e){for(;e;){if(e===n)return!0;e=bE(e)}return!1}function YN(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var IE=(()=>{class n{validateStyleProperty(t){return vZ(t)}containsElement(t,i){return QN(t,i)}getParentElement(t){return bE(t)}query(t,i,r){return YN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new ao(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),ps=class{static{this.NOOP=new IE}},ms=class{};var CZ=1e3,ZN="{{",wZ="}}",JN="ng-enter",oE="ng-leave",Jp="ng-trigger",im=".ng-trigger",LN="ng-animating",sE=".ng-animating";function _r(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aE(parseFloat(e[1]),e[2])}function aE(n,e){switch(e){case"s":return n*CZ;default:return n}}function rm(n,e,t){return n.hasOwnProperty("duration")?n:EZ(n,e,t)}function EZ(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(kN(n)),{duration:0,delay:0,easing:""};r=aE(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=aE(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(BY()),a=!0),o<0&&(e.push(UY()),a=!0),a&&e.splice(l,0,kN(n))}return{duration:r,delay:o,easing:s}}function bZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ri(n,e,t){e.forEach((i,r)=>{let o=TE(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function fs(n,e){e.forEach((t,i)=>{let r=TE(i);n.style[r]=""})}function yu(n){return Array.isArray(n)?n.length==1?n[0]:jP(n):n}function IZ(n,e,t){let i=e.params||{},r=XN(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(jY(o))})}var lE=new RegExp(`${ZN}\\s*(.+?)\\s*${wZ}`,"g");function XN(n){let e=[];if(typeof n=="string"){let t;for(;t=lE.exec(n);)e.push(t[1]);lE.lastIndex=0}return e}function wu(n,e,t){let i=`${n}`,r=i.replace(lE,(o,s)=>{let a=e[s];return a==null&&(t.push($Y(s)),a=""),a.toString()});return r==i?n:r}var TZ=/-+([a-z0-9])/g;function TE(n){return n.replace(TZ,(...e)=>e[1].toUpperCase())}function SZ(n,e){return n===0||e===0}function DZ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,SE(n,a)))}}return e}function wn(n,e,t){switch(e.type){case pe.Trigger:return n.visitTrigger(e,t);case pe.State:return n.visitState(e,t);case pe.Transition:return n.visitTransition(e,t);case pe.Sequence:return n.visitSequence(e,t);case pe.Group:return n.visitGroup(e,t);case pe.Animate:return n.visitAnimate(e,t);case pe.Keyframes:return n.visitKeyframes(e,t);case pe.Style:return n.visitStyle(e,t);case pe.Reference:return n.visitReference(e,t);case pe.AnimateChild:return n.visitAnimateChild(e,t);case pe.AnimateRef:return n.visitAnimateRef(e,t);case pe.Query:return n.visitQuery(e,t);case pe.Stagger:return n.visitStagger(e,t);default:throw HY(e.type)}}function SE(n,e){return window.getComputedStyle(n)[e]}var AZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),om=class extends ms{normalizePropertyName(e,t){return TE(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(AZ.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(zY(e,i))}return s+o}};var sm="*";function xZ(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>MZ(i,t,e)):t.push(n),t}function MZ(n,e,t){if(n[0]==":"){let l=PZ(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(nZ(n)),e;let r=i[1],o=i[2],s=i[3];e.push(VN(r,s));let a=r==sm&&s==sm;o[0]=="<"&&!a&&e.push(VN(s,r))}function PZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(iZ(n)),"* => *"}}var Xp=new Set(["true","1"]),em=new Set(["false","0"]);function VN(n,e){let t=Xp.has(n)||em.has(n),i=Xp.has(e)||em.has(e);return(r,o)=>{let s=n==sm||n==r,a=e==sm||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?Xp.has(n):em.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Xp.has(e):em.has(e)),s&&a}}var eR=":self",NZ=new RegExp(`s*${eR}s*,?`,"g");function tR(n,e,t,i){return new cE(n).build(e,t,i)}var BN="",cE=class{constructor(e){this._driver=e}build(e,t,i){let r=new uE(t);return this._resetContextStyleTimingState(r),wn(this,yu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=BN,e.collectedStyles=new Map,e.collectedStyles.set(BN,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(qY()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==pe.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==pe.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(GY())}),{type:pe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{XN(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(WY(e.name,[...o.values()]))}return{type:pe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=wn(this,yu(e.animation),t),r=xZ(e.expr,t.errors);return{type:pe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:hs(e.options)}}visitSequence(e,t){return{type:pe.Sequence,steps:e.steps.map(i=>wn(this,i,t)),options:hs(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=wn(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:pe.Group,steps:o,options:hs(e.options)}}visitAnimate(e,t){let i=FZ(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Ba({});if(o.type==pe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=Ba(u)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:pe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Mi?i.push(a):t.errors.push(KY(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(ZN)>=0){o=!0;break}}}),{type:pe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l),p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(QY(l,h.startTime,h.endTime,o,r)),p=!1),o=h.startTime),p&&u.set(l,{startTime:o,endTime:r}),t.options&&IZ(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:pe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(YY()),i;let r=1,o=0,s=[],a=!1,l=!1,u=0,h=e.steps.map(G=>{let J=this._makeStyleAst(G,t),ne=J.offset!=null?J.offset:OZ(J.styles),he=0;return ne!=null&&(o++,he=J.offset=ne),l=l||he<0||he>1,a=a||he<u,u=he,s.push(he),J});l&&t.errors.push(ZY()),a&&t.errors.push(JY());let p=e.steps.length,y=0;o>0&&o<p?t.errors.push(XY()):o==0&&(y=r/(p-1));let w=p-1,b=t.currentTime,R=t.currentAnimateTimings,B=R.duration;return h.forEach((G,J)=>{let ne=y>0?J==w?1:y*J:s[J],he=ne*B;t.currentTime=b+R.delay+he,R.duration=he,this._validateStyleAst(G,t),G.offset=ne,i.styles.push(G)}),i}visitReference(e,t){return{type:pe.Reference,animation:wn(this,yu(e.animation),t),options:hs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:pe.AnimateChild,options:hs(e.options)}}visitAnimateRef(e,t){return{type:pe.AnimateRef,animation:this.visitReference(e.animation,t),options:hs(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=RZ(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,En(t.collectedStyles,t.currentQuerySelector,new Map);let a=wn(this,yu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:pe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:hs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(eZ());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:rm(e.timings,t.errors,!0);return{type:pe.Stagger,animation:wn(this,yu(e.animation),t),timings:i,options:null}}};function RZ(n){let e=!!n.split(/\s*,\s*/).find(t=>t==eR);return e&&(n=n.replace(NZ,"")),n=n.replace(/@\*/g,im).replace(/@\w+/g,t=>im+"-"+t.slice(1)).replace(/:animating/g,sE),[n,e]}function kZ(n){return n?U({},n):null}var uE=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function OZ(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function FZ(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=rm(n,e).duration;return eE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=eE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=rm(t,e);return eE(r.duration,r.delay,r.easing)}function hs(n){return n?(n=U({},n),n.params&&(n.params=kZ(n.params))):n={},n}function eE(n,e,t){return{duration:n,delay:e,easing:t}}function DE(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Eu=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},LZ=1,VZ=":enter",BZ=new RegExp(VZ,"g"),UZ=":leave",jZ=new RegExp(UZ,"g");function nR(n,e,t,i,r,o=new Map,s=new Map,a,l,u=[]){return new dE().buildKeyframes(n,e,t,i,r,o,s,a,l,u)}var dE=class{buildKeyframes(e,t,i,r,o,s,a,l,u,h=[]){u=u||new Eu;let p=new hE(e,t,u,r,o,h,[]);p.options=l;let y=l.delay?_r(l.delay):0;p.currentTimeline.delayNextStep(y),p.currentTimeline.setStyles([s],null,p.errors,l),wn(this,i,p);let w=p.timelines.filter(b=>b.containsAnimation());if(w.length&&a.size){let b;for(let R=w.length-1;R>=0;R--){let B=w[R];if(B.element===t){b=B;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return w.length?w.map(b=>b.buildKeyframes()):[DE(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:_r(wu(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?_r(i.duration):null,a=i.delay!=null?_r(i.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),wn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==pe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=am);let s=_r(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>wn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?_r(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),wn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?wu(i,t.params,t.errors):i;return rm(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==pe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?_r(r.delay):0;o&&(t.previousNode.type===pe.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=am);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(l=p.currentTimeline),wn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let y=p.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let h=t.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;wn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},am={},hE=class n{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=am,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new lm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=_r(i.duration)),i.delay!=null&&(r.delay=_r(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=wu(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=am,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new fE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(BZ,"."+this._enterClassName),e=e.replace(jZ,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,e,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&a.length==0&&s.push(tZ(t)),a}},lm=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=LZ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Mi),this._currentKeyframe.set(t,Mi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=$Z(e,this._globalTimelineStyles);for(let[a,l]of s){let u=wu(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Mi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===Ap?e.add(p):h===Mi&&t.add(p)}),i||u.set("offset",l/this.duration),r.push(u)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return DE(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},fE=class extends lm{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",UN(a)),o.push(u);let h=e.length-1;for(let p=1;p<=h;p++){let y=new Map(e[p]),w=y.get("offset"),b=t+w*i;y.set("offset",UN(b/s)),o.push(y)}i=s,t=0,r="",e=o}return DE(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function UN(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function $Z(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Mi)}else for(let[o,s]of r)t.set(o,s)}),t}function jN(n,e,t,i,r,o,s,a,l,u,h,p,y){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:y}}var tE={},cm=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return HZ(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,u,h){let p=[],y=this.ast.options&&this.ast.options.params||tE,w=a&&a.params||tE,b=this.buildStyles(i,w,p),R=l&&l.params||tE,B=this.buildStyles(r,R,p),G=new Set,J=new Map,ne=new Map,he=r==="void",dt={params:iR(R,y),delay:this.ast.options?.delay},ve=h?[]:nR(e,t,this.ast.animation,o,s,b,B,dt,u,p),A=0;return ve.forEach(E=>{A=Math.max(E.duration+E.delay,A)}),p.length?jN(t,this._triggerName,i,r,he,b,B,[],[],J,ne,A,p):(ve.forEach(E=>{let S=E.element,x=En(J,S,new Set);E.preStyleProps.forEach(N=>x.add(N));let M=En(ne,S,new Set);E.postStyleProps.forEach(N=>M.add(N)),S!==t&&G.add(S)}),jN(t,this._triggerName,i,r,he,b,B,ve,[...G.values()],J,ne,A))}};function HZ(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function iR(n,e){let t=U({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var pE=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=iR(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=wu(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}};function zZ(n,e,t){return new mE(n,e,t)}var mE=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new pE(r.style,o,i))}),$N(this.states,"true","1"),$N(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new cm(e,r,this.states))}),this.fallbackTransition=qZ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function qZ(n,e,t){let i=[(s,a)=>!0],r={type:pe.Sequence,steps:[],options:null},o={type:pe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new cm(n,o,e)}function $N(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var GZ=new Eu,gE=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=tR(this._driver,t,i,r);if(i.length)throw sZ(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=KN(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=nR(this._driver,t,o,JN,oE,new Map,new Map,i,GZ,r),s.forEach(h=>{let p=En(a,h.element,new Map);h.postStyleProps.forEach(y=>p.set(y,null))})):(r.push(aZ()),s=[]),r.length)throw lZ(r);a.forEach((h,p)=>{h.forEach((y,w)=>{h.set(w,this._driver.computeStyle(p,w,Mi))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=ho(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw cZ(e);return t}listen(e,t,i,r){let o=EE(t,"","","");return wE(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},HN="ng-animate-queued",WZ=".ng-animate-queued",nE="ng-animate-disabled",KZ=".ng-animate-disabled",QZ="ng-star-inserted",YZ=".ng-star-inserted",ZZ=[],rR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed",bu=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=eJ(r),i){let o=e,{value:s}=o,a=Yb(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Cu="void",iE=new bu(Cu),_E=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw uZ(i,t);if(i==null||i.length==0)throw dZ(t);if(!tJ(i))throw hZ(i,t);let o=En(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=En(this._engine.statesByElement,e,new Map);return a.has(t)||(Vn(e,Jp),Vn(e,Jp+"-"+t),a.set(t,iE)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw fZ(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new Iu(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Vn(e,Jp),Vn(e,Jp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new bu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=iE),!(u.value===Cu)&&l.value===u.value){if(!rJ(l.params,u.params)){let R=[],B=o.matchStyles(l.value,l.params,R),G=o.matchStyles(u.value,u.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{fs(e,B),Ri(e,G)})}return}let y=En(this._engine.playersByElement,e,[]);y.forEach(R=>{R.namespaceId==this.id&&R.triggerName==t&&R.queued&&R.destroy()});let w=o.matchTransition(l.value,u.value,e,u.params),b=!1;if(!w){if(!r)return;w=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:w,fromState:l,toState:u,player:s,isFallbackTransition:b}),b||(Vn(e,HN),s.onStart(()=>{Ja(e,HN)})),s.onDone(()=>{let R=this.players.indexOf(s);R>=0&&this.players.splice(R,1);let B=this._engine.playersByElement.get(e);if(B){let G=B.indexOf(s);G>=0&&B.splice(G,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,im,!0);i.forEach(r=>{if(r[oi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let h=this.trigger(e,u,Cu,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&ho(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,u=i.get(s)||iE,h=new bu(Cu),p=new Iu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[oi];(!o||o===rR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Vn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=EE(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,wE(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},vE=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new _E(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(tm(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!tm(t))return;let o=t[oi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,nE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ja(e,nE))}removeNode(e,t,i){if(tm(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[oi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return tm(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,im,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,sE,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ho(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[oi];if(t&&t.setForRemoval){if(e[oi]=rR,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,KZ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Vn(r,QZ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?ho(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw pZ(e)}_flushAnimations(e,t){let i=new Eu,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Q=>{h.add(Q);let Y=this.driver.query(Q,WZ,!0);for(let te=0;te<Y.length;te++)h.add(Y[te])});let p=this.bodyNode,y=Array.from(this.statesByElement.keys()),w=GN(y,this.collectedEnterElements),b=new Map,R=0;w.forEach((Q,Y)=>{let te=JN+R++;b.set(Y,te),Q.forEach(Te=>Vn(Te,te))});let B=[],G=new Set,J=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let Y=this.collectedLeaveElements[Q],te=Y[oi];te&&te.setForRemoval&&(B.push(Y),G.add(Y),te.hasAnimation?this.driver.query(Y,YZ,!0).forEach(Te=>G.add(Te)):J.add(Y))}let ne=new Map,he=GN(y,Array.from(G));he.forEach((Q,Y)=>{let te=oE+R++;ne.set(Y,te),Q.forEach(Te=>Vn(Te,te))}),e.push(()=>{w.forEach((Q,Y)=>{let te=b.get(Y);Q.forEach(Te=>Ja(Te,te))}),he.forEach((Q,Y)=>{let te=ne.get(Y);Q.forEach(Te=>Ja(Te,te))}),B.forEach(Q=>{this.processLeaveNode(Q)})});let dt=[],ve=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(te=>{let Te=te.player,ht=te.element;if(dt.push(Te),this.collectedEnterElements.length){let st=ht[oi];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(te.triggerName)){let Fi=st.previousTriggersValues.get(te.triggerName),on=this.statesByElement.get(te.element);if(on&&on.has(te.triggerName)){let Li=on.get(te.triggerName);Li.value=Fi,on.set(te.triggerName,Li)}}Te.destroy();return}}let In=!p||!this.driver.containsElement(p,ht),ot=ne.get(ht),Ze=b.get(ht),Je=this._buildInstruction(te,i,Ze,ot,In);if(Je.errors&&Je.errors.length){ve.push(Je);return}if(In){Te.onStart(()=>fs(ht,Je.fromStyles)),Te.onDestroy(()=>Ri(ht,Je.toStyles)),r.push(Te);return}if(te.isFallbackTransition){Te.onStart(()=>fs(ht,Je.fromStyles)),Te.onDestroy(()=>Ri(ht,Je.toStyles)),r.push(Te);return}let Cr=[];Je.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||Cr.push(st)}),Je.timelines=Cr,i.append(ht,Je.timelines);let Em={instruction:Je,player:Te,element:ht};s.push(Em),Je.queriedElements.forEach(st=>En(a,st,[]).push(Te)),Je.preStyleProps.forEach((st,Fi)=>{if(st.size){let on=l.get(Fi);on||l.set(Fi,on=new Set),st.forEach((Li,wr)=>on.add(wr))}}),Je.postStyleProps.forEach((st,Fi)=>{let on=u.get(Fi);on||u.set(Fi,on=new Set),st.forEach((Li,wr)=>on.add(wr))})});if(ve.length){let Q=[];ve.forEach(Y=>{Q.push(mZ(Y.triggerName,Y.errors))}),dt.forEach(Y=>Y.destroy()),this.reportError(Q)}let A=new Map,E=new Map;s.forEach(Q=>{let Y=Q.element;i.has(Y)&&(E.set(Y,Y),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,A))}),r.forEach(Q=>{let Y=Q.element;this._getPreviousPlayers(Y,!1,Q.namespaceId,Q.triggerName,null).forEach(Te=>{En(A,Y,[]).push(Te),Te.destroy()})});let S=B.filter(Q=>WN(Q,l,u)),x=new Map;qN(x,this.driver,J,u,Mi).forEach(Q=>{WN(Q,l,u)&&S.push(Q)});let N=new Map;w.forEach((Q,Y)=>{qN(N,this.driver,new Set(Q),l,Ap)}),S.forEach(Q=>{let Y=x.get(Q),te=N.get(Q);x.set(Q,new Map([...Y?.entries()??[],...te?.entries()??[]]))});let D=[],bn=[],yr={};s.forEach(Q=>{let{element:Y,player:te,instruction:Te}=Q;if(i.has(Y)){if(h.has(Y)){te.onDestroy(()=>Ri(Y,Te.toStyles)),te.disabled=!0,te.overrideTotalTime(Te.totalTime),r.push(te);return}let ht=yr;if(E.size>1){let ot=Y,Ze=[];for(;ot=ot.parentNode;){let Je=E.get(ot);if(Je){ht=Je;break}Ze.push(ot)}Ze.forEach(Je=>E.set(Je,ht))}let In=this._buildAnimation(te.namespaceId,Te,A,o,N,x);if(te.setRealPlayer(In),ht===yr)D.push(te);else{let ot=this.playersByElement.get(ht);ot&&ot.length&&(te.parentPlayer=ho(ot)),r.push(te)}}else fs(Y,Te.fromStyles),te.onDestroy(()=>Ri(Y,Te.toStyles)),bn.push(te),h.has(Y)&&r.push(te)}),bn.forEach(Q=>{let Y=o.get(Q.element);if(Y&&Y.length){let te=ho(Y);Q.setRealPlayer(te)}}),r.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<B.length;Q++){let Y=B[Q],te=Y[oi];if(Ja(Y,oE),te&&te.hasAnimation)continue;let Te=[];if(a.size){let In=a.get(Y);In&&In.length&&Te.push(...In);let ot=this.driver.query(Y,sE,!0);for(let Ze=0;Ze<ot.length;Ze++){let Je=a.get(ot[Ze]);Je&&Je.length&&Te.push(...Je)}}let ht=Te.filter(In=>!In.destroyed);ht.length?nJ(this,Y,ht):this.processLeaveNode(Y)}return B.length=0,D.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let Y=this.players.indexOf(Q);this.players.splice(Y,1)}),Q.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Cu;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,h=u!==o,p=En(i,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(w=>{let b=w.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),w.destroy(),p.push(w)})}fs(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,l=t.element,u=[],h=new Set,p=new Set,y=t.timelines.map(b=>{let R=b.element;h.add(R);let B=R[oi];if(B&&B.removedBeforeQueried)return new ao(b.duration,b.delay);let G=R!==l,J=iJ((i.get(R)||ZZ).map(A=>A.getRealPlayer())).filter(A=>{let E=A;return E.element?E.element===R:!1}),ne=o.get(R),he=s.get(R),dt=KN(this._normalizer,b.keyframes,ne,he),ve=this._buildPlayer(b,dt,J);if(b.subTimeline&&r&&p.add(R),G){let A=new Iu(e,a,R);A.setRealPlayer(ve),u.push(A)}return ve});u.forEach(b=>{En(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>XZ(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Vn(b,LN));let w=ho(y);return w.onDestroy(()=>{h.forEach(b=>Ja(b,LN)),Ri(l,t.toStyles)}),p.forEach(b=>{En(r,b,[]).push(w)}),w}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ao(e.duration,e.delay)}},Iu=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ao,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>wE(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){En(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function XZ(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function eJ(n){return n??null}function tm(n){return n&&n.nodeType===1}function tJ(n){return n=="start"||n=="done"}function zN(n,e){let t=n.style.display;return n.style.display=e??"none",t}function qN(n,e,t,i,r){let o=[];t.forEach(l=>o.push(zN(l)));let s=[];i.forEach((l,u)=>{let h=new Map;l.forEach(p=>{let y=e.computeStyle(u,p,r);h.set(p,y),(!y||y.length==0)&&(u[oi]=JZ,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>zN(l,o[a++])),s}function GN(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=i:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&t.get(l).push(a)}),t}function Vn(n,e){n.classList?.add(e)}function Ja(n,e){n.classList?.remove(e)}function nJ(n,e,t){ho(t).onDone(()=>n.processLeaveNode(e))}function iJ(n){let e=[];return oR(n,e),e}function oR(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof cu?oR(i.players,e):e.push(i)}}function rJ(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function WN(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Xa=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new vE(e.body,t,i),this._timelineEngine=new gE(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],u=[],h=tR(this._driver,o,l,u);if(l.length)throw rZ(r,l);u.length&&void 0,a=zZ(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=ON(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=ON(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function oJ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=rE(e[0]),e.length>1&&(i=rE(e[e.length-1]))):e instanceof Map&&(t=rE(e)),t||i?new yE(n,t,i):null}var yE=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ri(this._element,this._initialStyles),this._endStyles&&(Ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fs(this._element,this._endStyles),this._endStyles=null),Ri(this._element,this._initialStyles),this._state=3)}};function rE(n){let e=null;return n.forEach((t,i)=>{sJ(i)&&(e=e||new Map,e.set(i,t))}),e}function sJ(n){return n==="display"||n==="position"}var um=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:SE(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},dm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return QN(e,t)}getParentElement(e){return bE(e)}query(e,t,i){return YN(e,t,i)}computeStyle(e,t,i){return SE(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let u=new Map,h=s.filter(w=>w instanceof um);SZ(i,r)&&h.forEach(w=>{w.currentSnapshot.forEach((b,R)=>u.set(R,b))});let p=bZ(t).map(w=>new Map(w));p=DZ(e,p,u);let y=oJ(e,p);return new um(e,p,l,y)}};var nm="@",sR="@.disabled",hm=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==nm&&t==sR?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},CE=class extends hm{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==nm?t.charAt(1)=="."&&t==sR?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==nm){let r=aJ(e),o=t.slice(1),s="";return o.charAt(0)!=nm&&([o,s]=lJ(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function aJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function lJ(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var fm=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,h=u.get(r);if(!h){let p=()=>u.delete(r);h=new hm(i,r,this.engine,p),u.set(r,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new CE(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var uJ=(()=>{class n extends Xa{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(K(hn),K(ps),K(ms))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function dJ(){return new om}function hJ(n,e,t){return new fm(n,e,t)}var aR=[{provide:ms,useFactory:dJ},{provide:Xa,useClass:uJ},{provide:Hr,useFactory:hJ,deps:[rp,Xa,xe]}],fJ=[{provide:ps,useFactory:()=>new dm},{provide:O0,useValue:"BrowserAnimations"},...aR],xhe=[{provide:ps,useClass:IE},{provide:O0,useValue:"NoopAnimations"},...aR];function lR(){return Xi("NgEagerAnimations"),[...fJ]}var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uR={};var AE,dR;(function(){var n;function e(A,E){function S(){}S.prototype=E.prototype,A.D=E.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(x,M,N){for(var D=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)D[bn-2]=arguments[bn];return E.prototype[M].apply(x,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,E,S){S||(S=0);var x=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)x[M]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(M=0;16>M;++M)x[M]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=A.g[0],S=A.g[1],M=A.g[2];var N=A.g[3],D=E+(N^S&(M^N))+x[0]+3614090360&4294967295;E=S+(D<<7&4294967295|D>>>25),D=N+(M^E&(S^M))+x[1]+3905402710&4294967295,N=E+(D<<12&4294967295|D>>>20),D=M+(S^N&(E^S))+x[2]+606105819&4294967295,M=N+(D<<17&4294967295|D>>>15),D=S+(E^M&(N^E))+x[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=E+(N^S&(M^N))+x[4]+4118548399&4294967295,E=S+(D<<7&4294967295|D>>>25),D=N+(M^E&(S^M))+x[5]+1200080426&4294967295,N=E+(D<<12&4294967295|D>>>20),D=M+(S^N&(E^S))+x[6]+2821735955&4294967295,M=N+(D<<17&4294967295|D>>>15),D=S+(E^M&(N^E))+x[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=E+(N^S&(M^N))+x[8]+1770035416&4294967295,E=S+(D<<7&4294967295|D>>>25),D=N+(M^E&(S^M))+x[9]+2336552879&4294967295,N=E+(D<<12&4294967295|D>>>20),D=M+(S^N&(E^S))+x[10]+4294925233&4294967295,M=N+(D<<17&4294967295|D>>>15),D=S+(E^M&(N^E))+x[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=E+(N^S&(M^N))+x[12]+1804603682&4294967295,E=S+(D<<7&4294967295|D>>>25),D=N+(M^E&(S^M))+x[13]+4254626195&4294967295,N=E+(D<<12&4294967295|D>>>20),D=M+(S^N&(E^S))+x[14]+2792965006&4294967295,M=N+(D<<17&4294967295|D>>>15),D=S+(E^M&(N^E))+x[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=E+(M^N&(S^M))+x[1]+4129170786&4294967295,E=S+(D<<5&4294967295|D>>>27),D=N+(S^M&(E^S))+x[6]+3225465664&4294967295,N=E+(D<<9&4294967295|D>>>23),D=M+(E^S&(N^E))+x[11]+643717713&4294967295,M=N+(D<<14&4294967295|D>>>18),D=S+(N^E&(M^N))+x[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=E+(M^N&(S^M))+x[5]+3593408605&4294967295,E=S+(D<<5&4294967295|D>>>27),D=N+(S^M&(E^S))+x[10]+38016083&4294967295,N=E+(D<<9&4294967295|D>>>23),D=M+(E^S&(N^E))+x[15]+3634488961&4294967295,M=N+(D<<14&4294967295|D>>>18),D=S+(N^E&(M^N))+x[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=E+(M^N&(S^M))+x[9]+568446438&4294967295,E=S+(D<<5&4294967295|D>>>27),D=N+(S^M&(E^S))+x[14]+3275163606&4294967295,N=E+(D<<9&4294967295|D>>>23),D=M+(E^S&(N^E))+x[3]+4107603335&4294967295,M=N+(D<<14&4294967295|D>>>18),D=S+(N^E&(M^N))+x[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=E+(M^N&(S^M))+x[13]+2850285829&4294967295,E=S+(D<<5&4294967295|D>>>27),D=N+(S^M&(E^S))+x[2]+4243563512&4294967295,N=E+(D<<9&4294967295|D>>>23),D=M+(E^S&(N^E))+x[7]+1735328473&4294967295,M=N+(D<<14&4294967295|D>>>18),D=S+(N^E&(M^N))+x[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=E+(S^M^N)+x[5]+4294588738&4294967295,E=S+(D<<4&4294967295|D>>>28),D=N+(E^S^M)+x[8]+2272392833&4294967295,N=E+(D<<11&4294967295|D>>>21),D=M+(N^E^S)+x[11]+1839030562&4294967295,M=N+(D<<16&4294967295|D>>>16),D=S+(M^N^E)+x[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=E+(S^M^N)+x[1]+2763975236&4294967295,E=S+(D<<4&4294967295|D>>>28),D=N+(E^S^M)+x[4]+1272893353&4294967295,N=E+(D<<11&4294967295|D>>>21),D=M+(N^E^S)+x[7]+4139469664&4294967295,M=N+(D<<16&4294967295|D>>>16),D=S+(M^N^E)+x[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=E+(S^M^N)+x[13]+681279174&4294967295,E=S+(D<<4&4294967295|D>>>28),D=N+(E^S^M)+x[0]+3936430074&4294967295,N=E+(D<<11&4294967295|D>>>21),D=M+(N^E^S)+x[3]+3572445317&4294967295,M=N+(D<<16&4294967295|D>>>16),D=S+(M^N^E)+x[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=E+(S^M^N)+x[9]+3654602809&4294967295,E=S+(D<<4&4294967295|D>>>28),D=N+(E^S^M)+x[12]+3873151461&4294967295,N=E+(D<<11&4294967295|D>>>21),D=M+(N^E^S)+x[15]+530742520&4294967295,M=N+(D<<16&4294967295|D>>>16),D=S+(M^N^E)+x[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=E+(M^(S|~N))+x[0]+4096336452&4294967295,E=S+(D<<6&4294967295|D>>>26),D=N+(S^(E|~M))+x[7]+1126891415&4294967295,N=E+(D<<10&4294967295|D>>>22),D=M+(E^(N|~S))+x[14]+2878612391&4294967295,M=N+(D<<15&4294967295|D>>>17),D=S+(N^(M|~E))+x[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=E+(M^(S|~N))+x[12]+1700485571&4294967295,E=S+(D<<6&4294967295|D>>>26),D=N+(S^(E|~M))+x[3]+2399980690&4294967295,N=E+(D<<10&4294967295|D>>>22),D=M+(E^(N|~S))+x[10]+4293915773&4294967295,M=N+(D<<15&4294967295|D>>>17),D=S+(N^(M|~E))+x[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=E+(M^(S|~N))+x[8]+1873313359&4294967295,E=S+(D<<6&4294967295|D>>>26),D=N+(S^(E|~M))+x[15]+4264355552&4294967295,N=E+(D<<10&4294967295|D>>>22),D=M+(E^(N|~S))+x[6]+2734768916&4294967295,M=N+(D<<15&4294967295|D>>>17),D=S+(N^(M|~E))+x[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=E+(M^(S|~N))+x[4]+4149444226&4294967295,E=S+(D<<6&4294967295|D>>>26),D=N+(S^(E|~M))+x[11]+3174756917&4294967295,N=E+(D<<10&4294967295|D>>>22),D=M+(E^(N|~S))+x[2]+718787259&4294967295,M=N+(D<<15&4294967295|D>>>17),D=S+(N^(M|~E))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+N&4294967295}i.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var S=E-this.blockSize,x=this.B,M=this.h,N=0;N<E;){if(M==0)for(;N<=S;)r(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<E;)if(x[M++]=A.charCodeAt(N++),M==this.blockSize){r(this,x),M=0;break}}else for(;N<E;)if(x[M++]=A[N++],M==this.blockSize){r(this,x),M=0;break}}this.h=M,this.o+=E},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var S=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=S&255,S/=256;for(this.u(A),A=Array(16),E=S=0;4>E;++E)for(var x=0;32>x;x+=8)A[S++]=this.g[E]>>>x&255;return A};function o(A,E){var S=a;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=E(A)}function s(A,E){this.h=E;for(var S=[],x=!0,M=A.length-1;0<=M;M--){var N=A[M]|0;x&&N==E||(S[M]=N,x=!1)}this.g=S}var a={};function l(A){return-128<=A&&128>A?o(A,function(E){return new s([E|0],0>E?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return B(u(-A));for(var E=[],S=1,x=0;A>=S;x++)E[x]=A/S|0,S*=4294967296;return new s(E,0)}function h(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return B(h(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(E,8)),x=p,M=0;M<A.length;M+=8){var N=Math.min(8,A.length-M),D=parseInt(A.substring(M,M+N),E);8>N?(N=u(Math.pow(E,N)),x=x.j(N).add(u(D))):(x=x.j(S),x=x.add(u(D)))}return x}var p=l(0),y=l(1),w=l(16777216);n=s.prototype,n.m=function(){if(R(this))return-B(this).m();for(var A=0,E=1,S=0;S<this.g.length;S++){var x=this.i(S);A+=(0<=x?x:4294967296+x)*E,E*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(R(this))return"-"+B(this).toString(A);for(var E=u(Math.pow(A,6)),S=this,x="";;){var M=he(S,E).g;S=G(S,M.j(E));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=M,b(S))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function R(A){return A.h==-1}n.l=function(A){return A=G(this,A),R(A)?-1:b(A)?0:1};function B(A){for(var E=A.g.length,S=[],x=0;x<E;x++)S[x]=~A.g[x];return new s(S,~A.h).add(y)}n.abs=function(){return R(this)?B(this):this},n.add=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],x=0,M=0;M<=E;M++){var N=x+(this.i(M)&65535)+(A.i(M)&65535),D=(N>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);x=D>>>16,N&=65535,D&=65535,S[M]=D<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function G(A,E){return A.add(B(E))}n.j=function(A){if(b(this)||b(A))return p;if(R(this))return R(A)?B(this).j(B(A)):B(B(this).j(A));if(R(A))return B(this.j(B(A)));if(0>this.l(w)&&0>A.l(w))return u(this.m()*A.m());for(var E=this.g.length+A.g.length,S=[],x=0;x<2*E;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<A.g.length;M++){var N=this.i(x)>>>16,D=this.i(x)&65535,bn=A.i(M)>>>16,yr=A.i(M)&65535;S[2*x+2*M]+=D*yr,J(S,2*x+2*M),S[2*x+2*M+1]+=N*yr,J(S,2*x+2*M+1),S[2*x+2*M+1]+=D*bn,J(S,2*x+2*M+1),S[2*x+2*M+2]+=N*bn,J(S,2*x+2*M+2)}for(x=0;x<E;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=E;x<2*E;x++)S[x]=0;return new s(S,0)};function J(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function ne(A,E){this.g=A,this.h=E}function he(A,E){if(b(E))throw Error("division by zero");if(b(A))return new ne(p,p);if(R(A))return E=he(B(A),E),new ne(B(E.g),B(E.h));if(R(E))return E=he(A,B(E)),new ne(B(E.g),E.h);if(30<A.g.length){if(R(A)||R(E))throw Error("slowDivide_ only works with positive integers.");for(var S=y,x=E;0>=x.l(A);)S=dt(S),x=dt(x);var M=ve(S,1),N=ve(x,1);for(x=ve(x,2),S=ve(S,2);!b(x);){var D=N.add(x);0>=D.l(A)&&(M=M.add(S),N=D),x=ve(x,1),S=ve(S,1)}return E=G(A,M.j(E)),new ne(M,E)}for(M=p;0<=A.l(E);){for(S=Math.max(1,Math.floor(A.m()/E.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=u(S),D=N.j(E);R(D)||0<D.l(A);)S-=x,N=u(S),D=N.j(E);b(N)&&(N=y),M=M.add(N),A=G(A,D)}return new ne(M,A)}n.A=function(A){return he(this,A).h},n.and=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],x=0;x<E;x++)S[x]=this.i(x)&A.i(x);return new s(S,this.h&A.h)},n.or=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],x=0;x<E;x++)S[x]=this.i(x)|A.i(x);return new s(S,this.h|A.h)},n.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],x=0;x<E;x++)S[x]=this.i(x)^A.i(x);return new s(S,this.h^A.h)};function dt(A){for(var E=A.g.length+1,S=[],x=0;x<E;x++)S[x]=A.i(x)<<1|A.i(x-1)>>>31;return new s(S,A.h)}function ve(A,E){var S=E>>5;E%=32;for(var x=A.g.length-S,M=[],N=0;N<x;N++)M[N]=0<E?A.i(N+S)>>>E|A.i(N+S+1)<<32-E:A.i(N+S);return new s(M,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,dR=uR.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,AE=uR.Integer=s}).apply(typeof cR<"u"?cR:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={};var hR,pJ,fR,pR,mR,gR,_R,vR,yR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(c,d){if(d)e:{var f=i;c=c.split(".");for(var v=0;v<c.length-1;v++){var P=c[v];if(!(P in f))break e;f=f[P]}c=c[c.length-1],v=f[c],d=d(v),d!=v&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,v=!1,P={next:function(){if(!v&&f<c.length){var O=f++;return{value:d(O,c[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),c.apply(d,P)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function w(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(v,P,O){for(var z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)z[ze-2]=arguments[ze];return d.prototype[P].apply(v,z)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let v=0;v<d;v++)f[v]=c[v];return f}return[]}function B(c,d){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(l(v)){let P=c.length||0,O=v.length||0;c.length=P+O;for(let z=0;z<O;z++)c[P+z]=v[z]}else c.push(v)}}class G{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var dt=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ve(c,d,f){for(let v in c)d.call(f,c[v],v,c)}function A(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function E(c){let d={};for(let f in c)d[f]=c[f];return d}let S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,d){let f,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(f in v)c[f]=v[f];for(let O=0;O<S.length;O++)f=S[O],Object.prototype.hasOwnProperty.call(v,f)&&(c[f]=v[f])}}function M(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function N(c){a.setTimeout(()=>{throw c},0)}function D(){var c=Te;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,f){let v=yr.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var yr=new G(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,te=!1,Te=new bn,ht=()=>{let c=a.Promise.resolve(void 0);Y=()=>{c.then(In)}};var In=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(f){N(f)}var d=yr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}te=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Cr(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(dt){e:{try{he(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Em[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cr.aa.h.call(this)}}b(Cr,Ze);var Em={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Fi=0;function on(c,d,f,v,P){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=P,this.key=++Fi,this.da=this.fa=!1}function Li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wr(c){this.src=c,this.g={},this.h=0}wr.prototype.add=function(c,d,f,v,P){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var z=Im(c,d,v,P);return-1<z?(d=c[z],f||(d.fa=!1)):(d=new on(d,this.src,O,!!v,P),d.fa=f,c.push(d)),d};function bm(c,d){var f=d.type;if(f in c.g){var v=c.g[f],P=Array.prototype.indexOf.call(v,d,void 0),O;(O=0<=P)&&Array.prototype.splice.call(v,P,1),O&&(Li(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Im(c,d,f,v){for(var P=0;P<c.length;++P){var O=c[P];if(!O.da&&O.listener==d&&O.capture==!!f&&O.ha==v)return P}return-1}var Tm="closure_lm_"+(1e6*Math.random()|0),Sm={};function WE(c,d,f,v,P){if(v&&v.once)return QE(c,d,f,v,P);if(Array.isArray(d)){for(var O=0;O<d.length;O++)WE(c,d[O],f,v,P);return null}return f=Mm(f),c&&c[st]?c.K(d,f,u(v)?!!v.capture:!!v,P):KE(c,d,f,!1,v,P)}function KE(c,d,f,v,P,O){if(!d)throw Error("Invalid event type");var z=u(P)?!!P.capture:!!P,ze=Am(c);if(ze||(c[Tm]=ze=new wr(c)),f=ze.add(d,f,v,z,O),f.proxy)return f;if(v=NR(),f.proxy=v,v.src=c,v.listener=f,c.addEventListener)Je||(P=z),P===void 0&&(P=!1),c.addEventListener(d.toString(),v,P);else if(c.attachEvent)c.attachEvent(ZE(d.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NR(){function c(f){return d.call(c.src,c.listener,f)}let d=RR;return c}function QE(c,d,f,v,P){if(Array.isArray(d)){for(var O=0;O<d.length;O++)QE(c,d[O],f,v,P);return null}return f=Mm(f),c&&c[st]?c.L(d,f,u(v)?!!v.capture:!!v,P):KE(c,d,f,!0,v,P)}function YE(c,d,f,v,P){if(Array.isArray(d))for(var O=0;O<d.length;O++)YE(c,d[O],f,v,P);else v=u(v)?!!v.capture:!!v,f=Mm(f),c&&c[st]?(c=c.i,d=String(d).toString(),d in c.g&&(O=c.g[d],f=Im(O,f,v,P),-1<f&&(Li(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete c.g[d],c.h--)))):c&&(c=Am(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Im(d,f,v,P)),(f=-1<c?d[c]:null)&&Dm(f))}function Dm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[st])bm(d.i,c);else{var f=c.type,v=c.proxy;d.removeEventListener?d.removeEventListener(f,v,c.capture):d.detachEvent?d.detachEvent(ZE(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=Am(d))?(bm(f,c),f.h==0&&(f.src=null,d[Tm]=null)):Li(c)}}}function ZE(c){return c in Sm?Sm[c]:Sm[c]="on"+c}function RR(c,d){if(c.da)c=!0;else{d=new Cr(d,this);var f=c.listener,v=c.ha||c.src;c.fa&&Dm(c),c=f.call(v,d)}return c}function Am(c){return c=c[Tm],c instanceof wr?c:null}var xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mm(c){return typeof c=="function"?c:(c[xm]||(c[xm]=function(d){return c.handleEvent(d)}),c[xm])}function Vt(){ot.call(this),this.i=new wr(this),this.M=this,this.F=null}b(Vt,ot),Vt.prototype[st]=!0,Vt.prototype.removeEventListener=function(c,d,f,v){YE(this,c,d,f,v)};function Wt(c,d){var f,v=c.F;if(v)for(f=[];v;v=v.F)f.push(v);if(c=c.M,v=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var P=d;d=new Ze(v,c),x(d,P)}if(P=!0,f)for(var O=f.length-1;0<=O;O--){var z=d.g=f[O];P=Au(z,v,!0,d)&&P}if(z=d.g=c,P=Au(z,v,!0,d)&&P,P=Au(z,v,!1,d)&&P,f)for(O=0;O<f.length;O++)z=d.g=f[O],P=Au(z,v,!1,d)&&P}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],v=0;v<f.length;v++)Li(f[v]);delete c.g[d],c.h--}}this.F=null},Vt.prototype.K=function(c,d,f,v){return this.i.add(String(c),d,!1,f,v)},Vt.prototype.L=function(c,d,f,v){return this.i.add(String(c),d,!0,f,v)};function Au(c,d,f,v){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,O=0;O<d.length;++O){var z=d[O];if(z&&!z.da&&z.capture==f){var ze=z.listener,At=z.ha||z.src;z.fa&&bm(c.i,z),P=ze.call(At,v)!==!1&&P}}return P&&!v.defaultPrevented}function JE(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function XE(c){c.g=JE(()=>{c.g=null,c.i&&(c.i=!1,XE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class kR extends ot{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:XE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rl(c){ot.call(this),this.h=c,this.g={}}b(rl,ot);var eb=[];function tb(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&Dm(d)},c),c.g={}}rl.prototype.N=function(){rl.aa.N.call(this),tb(this)},rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pm=a.JSON.stringify,OR=a.JSON.parse,FR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nm(){}Nm.prototype.h=null;function nb(c){return c.h||(c.h=c.i())}function ib(){}var ol={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rm(){Ze.call(this,"d")}b(Rm,Ze);function km(){Ze.call(this,"c")}b(km,Ze);var po={},rb=null;function xu(){return rb=rb||new Vt}po.La="serverreachability";function ob(c){Ze.call(this,po.La,c)}b(ob,Ze);function sl(c){let d=xu();Wt(d,new ob(d))}po.STAT_EVENT="statevent";function sb(c,d){Ze.call(this,po.STAT_EVENT,c),this.stat=d}b(sb,Ze);function Kt(c){let d=xu();Wt(d,new sb(d,c))}po.Ma="timingevent";function ab(c,d){Ze.call(this,po.Ma,c),this.size=d}b(ab,Ze);function al(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function LR(c,d,f,v,P,O){c.info(function(){if(c.g)if(O)for(var z="",ze=O.split("&"),At=0;At<ze.length;At++){var Oe=ze[At].split("=");if(1<Oe.length){var Bt=Oe[0];Oe=Oe[1];var Ut=Bt.split("_");z=2<=Ut.length&&Ut[1]=="type"?z+(Bt+"="+Oe+"&"):z+(Bt+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+d+`
`+f+`
`+z})}function VR(c,d,f,v,P,O,z){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+d+`
`+f+`
`+O+" "+z})}function ys(c,d,f,v){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+UR(c,f)+(v?" "+v:"")})}function BR(c,d){c.info(function(){return"TIMEOUT: "+d})}ll.prototype.info=function(){};function UR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var v=f[c];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<P.length;z++)P[z]=""}}}}return Pm(f)}catch{return d}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Pu(){}b(Pu,Nm),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},Om=new Pu;function Er(c,d,f,v){this.j=c,this.i=d,this.l=f,this.R=v||1,this.U=new rl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cb}function cb(){this.i=null,this.g="",this.h=!1}var ub={},Fm={};function Lm(c,d,f){c.L=1,c.v=Ou(Vi(d)),c.m=f,c.P=!0,db(c,null)}function db(c,d){c.F=Date.now(),Nu(c),c.A=Vi(c.v);var f=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Tb(f.i,"t",v),c.C=0,f=c.j.J,c.h=new cb,c.g=Hb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new kR(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,v=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(eb[0]=P.toString()),P=eb);for(var O=0;O<P.length;O++){var z=WE(f,P[O],v||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),sl(),LR(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;let d=this.M;d&&Bi(c)==3?d.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{let Ut=Bi(this.g);var d=this.g.Ba();let Es=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Nb(this.g)))){this.J||Ut!=4||d==7||(d==8||0>=Es?sl(3):sl(2)),Vm(this);var f=this.g.Z();this.X=f;t:if(hb(this)){var v=Nb(this.g);c="";var P=v.length,O=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),cl(this);var z="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,c+=this.h.i.decode(v[d],{stream:!(O&&d==P-1)});v.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,VR(this.i,this.u,this.A,this.l,this.R,Ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,At=this.g;if((ze=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(ze)){var Oe=ze;break t}}Oe=null}if(f=Oe)ys(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bm(this,f);else{this.o=!1,this.s=3,Kt(12),mo(this),cl(this);break e}}if(this.P){f=!0;let Bn;for(;!this.J&&this.C<z.length;)if(Bn=jR(this,z),Bn==Fm){Ut==4&&(this.s=4,Kt(14),f=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==ub){this.s=4,Kt(15),ys(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else ys(this.i,this.l,Bn,null),Bm(this,Bn);if(hb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||z.length!=0||this.h.h||(this.s=1,Kt(16),f=!1),this.o=this.o&&f,!f)ys(this.i,this.l,z,"[Invalid Chunked Response]"),mo(this),cl(this);else if(0<z.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),qm(Bt),Bt.M=!0,Kt(11))}}else ys(this.i,this.l,z,null),Bm(this,z);Ut==4&&mo(this),this.o&&!this.J&&(Ut==4?Bb(this.j,this):(this.o=!1,Nu(this)))}else rk(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),mo(this),cl(this)}}}catch{}finally{}};function hb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jR(c,d){var f=c.C,v=d.indexOf(`
`,f);return v==-1?Fm:(f=Number(d.substring(f,v)),isNaN(f)?ub:(v+=1,v+f>d.length?Fm:(d=d.slice(v,v+f),c.C=v+f,d)))}Er.prototype.cancel=function(){this.J=!0,mo(this)};function Nu(c){c.S=Date.now()+c.I,fb(c,c.I)}function fb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=al(y(c.ba,c),d)}function Vm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(BR(this.i,this.A),this.L!=2&&(sl(),Kt(17)),mo(this),this.s=2,cl(this)):fb(this,this.S-c)};function cl(c){c.j.G==0||c.J||Bb(c.j,c)}function mo(c){Vm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,tb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Bm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Um(f.h,c))){if(!c.K&&Um(f.h,c)&&f.G==3){try{var v=f.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Uu(f),Vu(f);else break e;zm(f),Kt(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=al(y(f.Za,f),6e3));if(1>=gb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _o(f,11)}else if((c.K||f.g==c)&&Uu(f),!J(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let Oe=P[d];if(f.T=Oe[0],Oe=Oe[1],f.G==2)if(Oe[0]=="c"){f.K=Oe[1],f.ia=Oe[2];let Bt=Oe[3];Bt!=null&&(f.la=Bt,f.j.info("VER="+f.la));let Ut=Oe[4];Ut!=null&&(f.Aa=Ut,f.j.info("SVER="+f.Aa));let Es=Oe[5];Es!=null&&typeof Es=="number"&&0<Es&&(v=1.5*Es,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let Bn=c.g;if(Bn){let $u=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($u){var O=v.h;O.g||$u.indexOf("spdy")==-1&&$u.indexOf("quic")==-1&&$u.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(jm(O,O.h),O.h=null))}if(v.D){let Gm=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gm&&(v.ya=Gm,Xe(v.I,v.D,Gm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var z=c;if(v.qa=$b(v,v.J?v.ia:null,v.W),z.K){_b(v.h,z);var ze=z,At=v.L;At&&(ze.I=At),ze.B&&(Vm(ze),Nu(ze)),v.g=z}else Lb(v);0<f.i.length&&Bu(f)}else Oe[0]!="stop"&&Oe[0]!="close"||_o(f,7);else f.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?_o(f,7):Hm(f):Oe[0]!="noop"&&f.l&&f.l.ta(Oe),f.v=0)}}sl(4)}catch{}}var $R=class{constructor(c,d){this.g=c,this.map=d}};function pb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gb(c){return c.h?1:c.g?c.g.size:0}function Um(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function jm(c,d){c.g?c.g.add(d):c.h=d}function _b(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}pb.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function vb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function HR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,v=0;v<f;v++)d.push(c[v]);return d}d=[],f=0;for(v in c)d[f++]=c[v];return d}function zR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let v in c)d[f++]=v;return d}}}function yb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=zR(c),v=HR(c),P=v.length,O=0;O<P;O++)d.call(void 0,v[O],f&&f[O],c)}var Cb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var v=c[f].indexOf("="),P=null;if(0<=v){var O=c[f].substring(0,v);P=c[f].substring(v+1)}else O=c[f];d(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function go(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof go){this.h=c.h,Ru(this,c.j),this.o=c.o,this.g=c.g,ku(this,c.s),this.l=c.l;var d=c.i,f=new hl;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),wb(this,f),this.m=c.m}else c&&(d=String(c).match(Cb))?(this.h=!1,Ru(this,d[1]||"",!0),this.o=ul(d[2]||""),this.g=ul(d[3]||"",!0),ku(this,d[4]),this.l=ul(d[5]||"",!0),wb(this,d[6]||"",!0),this.m=ul(d[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}go.prototype.toString=function(){var c=[],d=this.j;d&&c.push(dl(d,Eb,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(dl(d,Eb,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(dl(f,f.charAt(0)=="/"?KR:WR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",dl(f,YR)),c.join("")};function Vi(c){return new go(c)}function Ru(c,d,f){c.j=f?ul(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ku(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function wb(c,d,f){d instanceof hl?(c.i=d,ZR(c.i,c.h)):(f||(d=dl(d,QR)),c.i=new hl(d,c.h))}function Xe(c,d,f){c.i.set(d,f)}function Ou(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ul(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function dl(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,GR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eb=/[#\/\?@]/g,WR=/[#\?:]/g,KR=/[#\?]/g,QR=/[#\?@]/g,YR=/#/g;function hl(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&qR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=hl.prototype,n.add=function(c,d){br(this),this.i=null,c=Cs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function bb(c,d){br(c),d=Cs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ib(c,d){return br(c),d=Cs(c,d),c.g.has(d)}n.forEach=function(c,d){br(this),this.g.forEach(function(f,v){f.forEach(function(P){c.call(d,P,v,this)},this)},this)},n.na=function(){br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let v=0;v<d.length;v++){let P=c[v];for(let O=0;O<P.length;O++)f.push(d[v])}return f},n.V=function(c){br(this);let d=[];if(typeof c=="string")Ib(this,c)&&(d=d.concat(this.g.get(Cs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return br(this),this.i=null,c=Cs(this,c),Ib(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Tb(c,d,f){bb(c,d),0<f.length&&(c.i=null,c.g.set(Cs(c,d),R(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var v=d[f];let O=encodeURIComponent(String(v)),z=this.V(v);for(v=0;v<z.length;v++){var P=O;z[v]!==""&&(P+="="+encodeURIComponent(String(z[v]))),c.push(P)}}return this.i=c.join("&")};function Cs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ZR(c,d){d&&!c.j&&(br(c),c.i=null,c.g.forEach(function(f,v){var P=v.toLowerCase();v!=P&&(bb(this,v),Tb(this,P,f))},c)),c.j=d}function JR(c,d){let f=new ll;if(a.Image){let v=new Image;v.onload=w(Ir,f,"TestLoadImage: loaded",!0,d,v),v.onerror=w(Ir,f,"TestLoadImage: error",!1,d,v),v.onabort=w(Ir,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=w(Ir,f,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else d(!1)}function XR(c,d){let f=new ll,v=new AbortController,P=setTimeout(()=>{v.abort(),Ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:v.signal}).then(O=>{clearTimeout(P),O.ok?Ir(f,"TestPingServer: ok",!0,d):Ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Ir(f,"TestPingServer: error",!1,d)})}function Ir(c,d,f,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(f)}catch{}}function ek(){this.g=new FR}function tk(c,d,f){let v=f||"";try{yb(c,function(P,O){let z=P;u(P)&&(z=Pm(P)),d.push(v+O+"="+encodeURIComponent(z))})}catch(P){throw d.push(v+"type="+encodeURIComponent("_badmap")),P}}function fl(c){this.l=c.Ub||null,this.j=c.eb||!1}b(fl,Nm),fl.prototype.g=function(){return new Fu(this.l,this.j)},fl.prototype.i=function(c){return function(){return c}}({});function Fu(c,d){Vt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Fu,Vt),n=Fu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ml(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?pl(this):ml(this),this.readyState==3&&Sb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,pl(this))},n.Qa=function(c){this.g&&(this.response=c,pl(this))},n.ga=function(){this.g&&pl(this)};function pl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ml(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ml(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Db(c){let d="";return ve(c,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function $m(c,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Db(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Xe(c,d,f))}function at(c){Vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(at,Vt);var nk=/^https?$/i,ik=["POST","PUT"];n=at.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?nb(this.o):nb(Om),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(O){Ab(this,O);return}if(c=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)f.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())f.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ik,d,void 0))||v||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,z]of f)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pb(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){Ab(this,O)}};function Ab(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,xb(c),Lu(c)}function xb(c){c.A||(c.A=!0,Wt(c,"complete"),Wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Wt(this,"complete"),Wt(this,"abort"),Lu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Mb(this):this.bb())},n.bb=function(){Mb(this)};function Mb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Bi(c)!=4||c.Z()!=2)){if(c.u&&Bi(c)==4)JE(c.Ea,0,c);else if(Wt(c,"readystatechange"),Bi(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=z===0){var P=String(c.D).match(Cb)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!nk.test(P?P.toLowerCase():"")}f=v}if(f)Wt(c,"complete"),Wt(c,"success");else{c.m=6;try{var O=2<Bi(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",xb(c)}}finally{Lu(c)}}}}function Lu(c,d){if(c.g){Pb(c);let f=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Wt(c,"ready");try{f.onreadystatechange=v}catch{}}}function Pb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Bi(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),OR(d)}};function Nb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rk(c){let d={};c=(c.g&&2<=Bi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(J(c[v]))continue;var f=M(c[v]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let O=d[P]||[];d[P]=O,O.push(f)}A(d,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Rb(c){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gl("baseRetryDelayMs",5e3,c),this.cb=gl("retryDelaySeedMs",1e4,c),this.Wa=gl("forwardChannelMaxRetries",2,c),this.wa=gl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pb(c&&c.concurrentRequestLimit),this.Da=new ek,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Rb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,v){Kt(0),this.W=c,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=$b(this,null,this.W),Bu(this)};function Hm(c){if(kb(c),c.G==3){var d=c.U++,f=Vi(c.I);if(Xe(f,"SID",c.K),Xe(f,"RID",d),Xe(f,"TYPE","terminate"),_l(c,f),d=new Er(c,c.j,d),d.L=2,d.v=Ou(Vi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Hb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nu(d)}jb(c)}function Vu(c){c.g&&(qm(c),c.g.cancel(),c.g=null)}function kb(c){Vu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bu(c){if(!mb(c.h)&&!c.s){c.s=!0;var d=c.Ga;Y||ht(),te||(Y(),te=!0),Te.add(d,c),c.B=0}}function ok(c,d){return gb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=al(y(c.Ga,c,d),Ub(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new Er(this,this.j,c),O=this.o;if(this.S&&(O?(O=E(O),x(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Fb(this,P,d),f=Vi(this.I),Xe(f,"RID",c),Xe(f,"CVER",22),this.D&&Xe(f,"X-HTTP-Session-Id",this.D),_l(this,f),O&&(this.O?d="headers="+encodeURIComponent(String(Db(O)))+"&"+d:this.m&&$m(f,this.m,O)),jm(this.h,P),this.Ua&&Xe(f,"TYPE","init"),this.P?(Xe(f,"$req",d),Xe(f,"SID","null"),P.T=!0,Lm(P,f,null)):Lm(P,f,d),this.G=2}}else this.G==3&&(c?Ob(this,c):this.i.length==0||mb(this.h)||Ob(this))};function Ob(c,d){var f;d?f=d.l:f=c.U++;let v=Vi(c.I);Xe(v,"SID",c.K),Xe(v,"RID",f),Xe(v,"AID",c.T),_l(c,v),c.m&&c.o&&$m(v,c.m,c.o),f=new Er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Fb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jm(c.h,f),Lm(f,v,d)}function _l(c,d){c.H&&ve(c.H,function(f,v){Xe(d,v,f)}),c.l&&yb({},function(f,v){Xe(d,v,f)})}function Fb(c,d,f){f=Math.min(c.i.length,f);var v=c.l?y(c.l.Na,c.l,c):null;e:{var P=c.i;let O=-1;for(;;){let z=["count="+f];O==-1?0<f?(O=P[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let ze=!0;for(let At=0;At<f;At++){let Oe=P[At].g,Bt=P[At].map;if(Oe-=O,0>Oe)O=Math.max(0,P[At].g-100),ze=!1;else try{tk(Bt,z,"req"+Oe+"_")}catch{v&&v(Bt)}}if(ze){v=z.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,v}function Lb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Y||ht(),te||(Y(),te=!0),Te.add(d,c),c.v=0}}function zm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=al(y(c.Fa,c),Ub(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Vb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=al(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Vu(this),Vb(this))};function qm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Vb(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vi(c.qa);Xe(d,"RID","rpc"),Xe(d,"SID",c.K),Xe(d,"AID",c.T),Xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(d,"TO",c.ja),Xe(d,"TYPE","xmlhttp"),_l(c,d),c.m&&c.o&&$m(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ou(Vi(d)),f.m=null,f.P=!0,db(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Vu(this),zm(this),Kt(19))};function Uu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Bb(c,d){var f=null;if(c.g==d){Uu(c),qm(c),c.g=null;var v=2}else if(Um(c.h,d))f=d.D,_b(c.h,d),v=1;else return;if(c.G!=0){if(d.o)if(v==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=c.B;v=xu(),Wt(v,new ab(v,f)),Bu(c)}else Lb(c);else if(P=d.s,P==3||P==0&&0<d.X||!(v==1&&ok(c,d)||v==2&&zm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),P){case 1:_o(c,5);break;case 4:_o(c,10);break;case 3:_o(c,6);break;default:_o(c,2)}}}function Ub(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function _o(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),v=c.Xa;let P=!v;v=new go(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ru(v,"https"),Ou(v),P?JR(v.toString(),f):XR(v.toString(),f)}else Kt(2);c.G=0,c.l&&c.l.sa(d),jb(c),kb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function jb(c){if(c.G=0,c.ka=[],c.l){let d=vb(c.h);(d.length!=0||c.i.length!=0)&&(B(c.ka,d),B(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function $b(c,d,f){var v=f instanceof go?Vi(f):new go(f);if(v.g!="")d&&(v.g=d+"."+v.g),ku(v,v.s);else{var P=a.location;v=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var O=new go(null);v&&Ru(O,v),d&&(O.g=d),P&&ku(O,P),f&&(O.l=f),v=O}return f=c.D,d=c.ya,f&&d&&Xe(v,f,d),Xe(v,"VER",c.la),_l(c,v),v}function Hb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new at(new fl({eb:f})):new at(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zb(){}n=zb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ju(){}ju.prototype.g=function(c,d){return new mn(c,d)};function mn(c,d){Vt.call(this),this.g=new Rb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ws(this)}b(mn,Vt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Hm(this.g)},mn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Pm(c),c=f);d.i.push(new $R(d.Ya++,c)),d.G==3&&Bu(d)},mn.prototype.N=function(){this.g.l=null,delete this.j,Hm(this.g),delete this.g,mn.aa.N.call(this)};function qb(c){Rm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(qb,Rm);function Gb(){km.call(this),this.status=1}b(Gb,km);function ws(c){this.g=c}b(ws,zb),ws.prototype.ua=function(){Wt(this.g,"a")},ws.prototype.ta=function(c){Wt(this.g,new qb(c))},ws.prototype.sa=function(c){Wt(this.g,new Gb)},ws.prototype.ra=function(){Wt(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,yR=vr.createWebChannelTransport=function(){return new ju},vR=vr.getStatEventTarget=function(){return xu()},_R=vr.Event=po,gR=vr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,mR=vr.ErrorCode=Mu,lb.COMPLETE="complete",pR=vr.EventType=lb,ib.EventType=ol,ol.OPEN="a",ol.CLOSE="b",ol.ERROR="c",ol.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,fR=vr.WebChannel=ib,pJ=vr.FetchXmlHttpFactory=fl,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,hR=vr.XhrIo=at}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});var CR="@firebase/firestore";var Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");var Su="10.14.0";var tl=new li("@firebase/firestore");function si(n,...e){if(tl.logLevel<=Ne.DEBUG){let t=e.map(zE);tl.debug(`Firestore (${Su}): ${n}`,...t)}}function TR(n,...e){if(tl.logLevel<=Ne.ERROR){let t=e.map(zE);tl.error(`Firestore (${Su}): ${n}`,...t)}}function mJ(n,...e){if(tl.logLevel<=Ne.WARN){let t=e.map(zE);tl.warn(`Firestore (${Su}): ${n}`,...t)}}function zE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function pn(n="Unexpected state"){let e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+n;throw TR(e),new Error(e)}function gs(n,e){n||pn()}var rn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lt=class extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _s=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var mm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ME=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}},PE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},NE=class{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gs(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _s,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>k(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(si("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gs(typeof i.accessToken=="string"),new mm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return gs(e===null||typeof e=="string"),new Ft(e)}},RE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},kE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new RE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},OE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},FE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){gs(this.o===void 0);let i=o=>{o.error!=null&&si("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,si("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gs(typeof t.token=="string"),this.R=t.token,new OE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function SR(n,e){return n<e?-1:n>e?1:0}var LE=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&pn(),i===void 0?i=e.length-t:i>e.length-t&&pn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},fo=class n extends LE{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Lt(rn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}};var vs=class n{constructor(e){this.path=e}static fromPath(e){return new n(fo.fromString(e))}static fromName(e){return new n(fo.fromString(e).popFirst(5))}static empty(){return new n(fo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fo.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return fo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new fo(e.slice()))}};var VE=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};VE.UNKNOWN_ID=-1;function gJ(n){return n.name==="IndexedDbTransactionError"}function _J(n){return n===0&&1/n==-1/0}var vJ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hhe=[...vJ,"documentOverlays"],yJ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CJ=yJ,wJ=[...CJ,"indexConfiguration","indexState","indexEntries"];var zhe=[...wJ,"globals"];var nl=class n{constructor(e,t){this.comparator=e,this.root=t||Oi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}},el=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Oi=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pn();let e=this.left.check();if(e!==this.right.check())throw pn();return e+(this.isRed()?0:1)}};Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1;Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw pn()}get value(){throw pn()}get color(){throw pn()}get left(){throw pn()}get right(){throw pn()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Oi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gm=class n{constructor(e){this.comparator=e,this.data=new nl(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _m(this.data.getIterator())}getIteratorFrom(e){return new _m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},_m=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var BE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var il=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BE("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return SR(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};il.EMPTY_BYTE_STRING=new il("");var EJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bJ(n){if(gs(!!n),typeof n=="string"){let e=0,t=EJ.exec(n);if(gs(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tu(n.seconds),nanos:Tu(n.nanos)}}function Tu(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function IJ(n){return typeof n=="string"?il.fromBase64String(n):il.fromUint8Array(n)}var UE=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function TJ(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function SJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ghe=new nl(vs.comparator);var Whe=new nl(vs.comparator);var Khe=new nl(vs.comparator),Qhe=new gm(vs.comparator);var Yhe=new gm(SR);var wR,Pe;(Pe=wR||(wR={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var Zhe=new AE([4294967295,4294967295],0);var vm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Tu(e.integerValue));else if("doubleValue"in e){let i=Tu(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),_J(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=bJ(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(IJ(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?SJ(e)?this.dt(t,Number.MAX_SAFE_INTEGER):TJ(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):pn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Tu(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),vs.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};vm.vt=new vm;var Jhe=new Uint8Array(0);var ki=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(41943040,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);function xE(){return typeof document<"u"?document:null}var jE=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&si("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var $E=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(rn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var ER,bR;(bR=ER||(ER={})).ea="default",bR.Cache="cache";function DJ(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var IR=new Map;function AJ(n,e,t,i){if(e===!0&&i===!0)throw new Lt(rn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xJ(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":pn()}function MJ(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Lt(rn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xJ(n);throw new Lt(rn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ym=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Lt(rn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Lt(rn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DJ((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Lt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Lt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Lt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cm=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(rn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Lt(rn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ME;switch(i.type){case"firstParty":return new kE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Lt(rn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return k(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=IR.get(t);i&&(si("ComponentProvider","Removing Datastore"),IR.delete(t),i.terminate())}(this),Promise.resolve()}};function DR(n,e,t,i={}){var r;let o=(n=MJ(n,Cm))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&mJ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ft.MOCK_USER;else{a=Wu(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Lt(rn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}n._authCredentials=new PE(new mm(a,l))}}var wm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jE(this,"async_queue_retry"),this.Vu=()=>{let i=xE();i&&si("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=xE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=xE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new _s;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return k(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gJ(e))throw e;si("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw TR("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=$E.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&pn()}verifyOperationInProgress(){}wu(){return k(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var HE=class extends Cm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new wm,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return k(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wm(e),this._firestoreClient=void 0,yield e}})}};function AR(n,e){let t=typeof n=="object"?n:Ar(),i=typeof n=="string"?n:e||"(default)",r=Eo(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=Gu("firestore");o&&DR(r,...o)}return r}var Xhe=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(r){Su=r})(hi),ui(new sn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new HE(new NE(i.getProvider("auth-internal")),new FE(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Lt(rn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new UE(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(CR,"4.7.3",e),et(CR,"4.7.3","esm2017")})();var Du=class{constructor(e){return e}},xR="firestore",qE=class{constructor(){return Ho(xR)}};var GE=new Z("angularfire2.firestore-instances");function PJ(n,e){let t=la(xR,n,e);return t&&new Du(t)}function NJ(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Du(i)}}var RJ={provide:qE,deps:[[new ft,GE]]},kJ={provide:Du,useFactory:PJ,deps:[[new ft,GE],ei]};function MR(n,...e){return et("angularfire",tr.full,"fst"),Dn([kJ,RJ,{provide:GE,useFactory:NJ(n),multi:!0,deps:[xe,zt,Zr,nr,[new ft,Wo],[new ft,Yr],...e]}])}var PR=ct(AR,!0);eP(Dp,{providers:[RN.providers,Ip(Zp),lR(),kA(()=>OA(BP.firebaseConfig)),D1(()=>M1()),xM(()=>PM()),MR(()=>PR())]}).catch(n=>console.error(n));
